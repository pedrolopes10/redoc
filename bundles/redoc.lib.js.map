{"version":3,"sources":["webpack://Redoc/webpack/universalModuleDefinition","webpack://Redoc/webpack/bootstrap","webpack://Redoc/external \"react\"","webpack://Redoc/external \"tslib\"","webpack://Redoc/external \"polished\"","webpack://Redoc/external \"mobx-react\"","webpack://Redoc/external \"mobx\"","webpack://Redoc/external \"url\"","webpack://Redoc/./src/utils/dom.ts","webpack://Redoc/external \"json-pointer\"","webpack://Redoc/external \"lunr\"","webpack://Redoc/external \"decko\"","webpack://Redoc/(webpack)/buildin/global.js","webpack://Redoc/external \"react-tabs\"","webpack://Redoc/external \"prismjs\"","webpack://Redoc/./node_modules/process/browser.js","webpack://Redoc/./node_modules/path-browserify/index.js","webpack://Redoc/external \"prop-types\"","webpack://Redoc/external \"marked\"","webpack://Redoc/external \"undefined\"","webpack://Redoc/./node_modules/reftools/lib/jptr.js","webpack://Redoc/./node_modules/reftools/lib/clone.js","webpack://Redoc/./src/utils/loadAndBundleSpec.ts","webpack://Redoc/external \"eventemitter3\"","webpack://Redoc/external \"url-template\"","webpack://Redoc/./node_modules/reftools/lib/isref.js","webpack://Redoc/./node_modules/reftools/lib/recurse.js","webpack://Redoc/external \"@redocly/openapi-core\"","webpack://Redoc/external \"mark.js\"","webpack://Redoc/external \"openapi-sampler\"","webpack://Redoc/external \"perfect-scrollbar\"","webpack://Redoc/./node_modules/perfect-scrollbar/css/perfect-scrollbar.css","webpack://Redoc/./node_modules/oas-kit-common/index.js","webpack://Redoc/./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://Redoc/./node_modules/stream-http/lib/capability.js","webpack://Redoc/external \"inherits\"","webpack://Redoc/./node_modules/stream-http/lib/response.js","webpack://Redoc/external \"readable-stream\"","webpack://Redoc/./src/services/SearchWorker.worker.ts","webpack://Redoc/external \"slugify\"","webpack://Redoc/external \"styled-components\"","webpack://Redoc/./node_modules/swagger2openapi/index.js","webpack://Redoc/./node_modules/memoize-one/dist/memoize-one.cjs.js","webpack://Redoc/external \"@redocly/react-dropdown-aria\"","webpack://Redoc/external \"dompurify\"","webpack://Redoc/external \"classnames\"","webpack://Redoc/external \"react-switch\"","webpack://Redoc/external \"react-ace\"","webpack://Redoc/external \"call-me-maybe\"","webpack://Redoc/./node_modules/oas-resolver/index.js","webpack://Redoc/./node_modules/reftools/lib/dereference.js","webpack://Redoc/external \"fast-safe-stringify\"","webpack://Redoc/./node_modules/oas-schema-walker/index.js","webpack://Redoc/./node_modules/swagger2openapi/lib/statusCodes.js","webpack://Redoc/./node_modules/stream-http/index.js","webpack://Redoc/./node_modules/stream-http/lib/request.js","webpack://Redoc/external \"base64-js\"","webpack://Redoc/external \"ieee754\"","webpack://Redoc/external \"isarray\"","webpack://Redoc/external \"to-arraybuffer\"","webpack://Redoc/external \"xtend\"","webpack://Redoc/external \"builtin-status-codes\"","webpack://Redoc/external \"prismjs/components/prism-bash.js\"","webpack://Redoc/external \"prismjs/components/prism-c.js\"","webpack://Redoc/external \"prismjs/components/prism-clike.js\"","webpack://Redoc/external \"prismjs/components/prism-coffeescript.js\"","webpack://Redoc/external \"prismjs/components/prism-cpp.js\"","webpack://Redoc/external \"prismjs/components/prism-csharp.js\"","webpack://Redoc/external \"prismjs/components/prism-go.js\"","webpack://Redoc/external \"prismjs/components/prism-http.js\"","webpack://Redoc/external \"prismjs/components/prism-java.js\"","webpack://Redoc/external \"prismjs/components/prism-lua.js\"","webpack://Redoc/external \"prismjs/components/prism-markup-templating.js\"","webpack://Redoc/external \"prismjs/components/prism-markup.js\"","webpack://Redoc/external \"prismjs/components/prism-objectivec.js\"","webpack://Redoc/external \"prismjs/components/prism-perl.js\"","webpack://Redoc/external \"prismjs/components/prism-php.js\"","webpack://Redoc/external \"prismjs/components/prism-python.js\"","webpack://Redoc/external \"prismjs/components/prism-ruby.js\"","webpack://Redoc/external \"prismjs/components/prism-scala.js\"","webpack://Redoc/external \"prismjs/components/prism-sql.js\"","webpack://Redoc/external \"prismjs/components/prism-swift.js\"","webpack://Redoc/./src/services/SearchWorker.worker.ts?c7d1","webpack://Redoc/./node_modules/workerize-loader/src/rpc-wrapper.js","webpack://Redoc/external \"core-js/es/promise\"","webpack://Redoc/./node_modules/css-loader/dist/runtime/api.js","webpack://Redoc/external \"brace/mode/curly\"","webpack://Redoc/external \"brace/mode/json\"","webpack://Redoc/external \"brace/theme/github\"","webpack://Redoc/external \"brace/theme/monokai\"","webpack://Redoc/external \"qs\"","webpack://Redoc/external \"stickyfill\"","webpack://Redoc/./src/theme.ts","webpack://Redoc/./src/utils/helpers.ts","webpack://Redoc/./src/services/Labels.ts","webpack://Redoc/./src/services/RedocNormalizedOptions.ts","webpack://Redoc/./src/styled-components.ts","webpack://Redoc/./src/components/ErrorBoundary.tsx","webpack://Redoc/./src/components/Loading/Spinner.svg.tsx","webpack://Redoc/./src/components/Loading/Loading.tsx","webpack://Redoc/./src/components/OptionsProvider.ts","webpack://Redoc/./src/utils/JsonPointer.ts","webpack://Redoc/./src/utils/openapi.ts","webpack://Redoc/./src/utils/highlight.ts","webpack://Redoc/./src/utils/decorators.ts","webpack://Redoc/./src/utils/debug.ts","webpack://Redoc/./src/utils/memoize.ts","webpack://Redoc/./src/utils/index.ts","webpack://Redoc/./src/services/HistoryService.ts","webpack://Redoc/./src/services/MarkerService.ts","webpack://Redoc/./src/services/MarkdownRenderer.ts","webpack://Redoc/./src/services/models/ApiInfo.ts","webpack://Redoc/./src/services/models/SecurityRequirement.ts","webpack://Redoc/./src/services/models/Callback.ts","webpack://Redoc/./src/services/models/Schema.ts","webpack://Redoc/./src/services/models/Example.ts","webpack://Redoc/./src/services/models/Field.ts","webpack://Redoc/./src/services/models/MediaType.ts","webpack://Redoc/./src/services/models/MediaContent.ts","webpack://Redoc/./src/services/models/RequestBody.ts","webpack://Redoc/./src/services/models/Response.ts","webpack://Redoc/./src/services/models/Operation.ts","webpack://Redoc/./src/services/models/Webhook.ts","webpack://Redoc/./src/services/models/SecuritySchemes.ts","webpack://Redoc/./src/services/OpenAPIParser.ts","webpack://Redoc/./src/services/SpecStore.ts","webpack://Redoc/./src/services/models/Group.model.ts","webpack://Redoc/./src/services/models/index.ts","webpack://Redoc/./src/services/MenuBuilder.ts","webpack://Redoc/./src/services/MenuStore.ts","webpack://Redoc/./src/services/ScrollService.ts","webpack://Redoc/./src/services/SearchStore.ts","webpack://Redoc/./src/common-elements/panels.ts","webpack://Redoc/./src/common-elements/headers.ts","webpack://Redoc/./src/components/StoreBuilder.ts","webpack://Redoc/./src/common-elements/linkify.tsx","webpack://Redoc/./src/common-elements/shelfs.tsx","webpack://Redoc/./src/common-elements/mixins.ts","webpack://Redoc/./src/common-elements/fields-layout.ts","webpack://Redoc/./src/common-elements/schema.ts","webpack://Redoc/./src/common-elements/dropdown.ts","webpack://Redoc/./src/common-elements/tabs.ts","webpack://Redoc/./src/common-elements/PrismDiv.tsx","webpack://Redoc/./src/common-elements/samples.tsx","webpack://Redoc/./src/common-elements/perfect-scrollbar.tsx","webpack://Redoc/./src/common-elements/toggle.tsx","webpack://Redoc/./src/common-elements/input.tsx","webpack://Redoc/./src/common-elements/buttons.ts","webpack://Redoc/./src/common-elements/index.ts","webpack://Redoc/./src/components/DropdownOrLabel/DropdownOrLabel.tsx","webpack://Redoc/./src/components/Markdown/styled.elements.tsx","webpack://Redoc/./src/components/Markdown/SanitizedMdBlock.tsx","webpack://Redoc/./src/components/Markdown/Markdown.tsx","webpack://Redoc/./src/common-elements/Tooltip.tsx","webpack://Redoc/./src/services/ClipboardService.ts","webpack://Redoc/./src/common-elements/CopyButtonWrapper.tsx","webpack://Redoc/./src/utils/jsonToHtml.ts","webpack://Redoc/./src/components/JsonViewer/style.ts","webpack://Redoc/./src/components/JsonViewer/JsonViewer.tsx","webpack://Redoc/./src/components/SourceCode/SourceCode.tsx","webpack://Redoc/./src/components/PayloadSamples/ExampleValue.tsx","webpack://Redoc/./src/components/PayloadSamples/exernalExampleHook.ts","webpack://Redoc/./src/components/PayloadSamples/Example.tsx","webpack://Redoc/./src/components/PayloadSamples/styled.elements.ts","webpack://Redoc/./src/components/PayloadSamples/MediaTypeSamples.tsx","webpack://Redoc/./src/common-elements/fields.ts","webpack://Redoc/./src/components/ExternalDocumentation/ExternalDocumentation.tsx","webpack://Redoc/./src/components/Fields/EnumValues.tsx","webpack://Redoc/./src/components/Fields/Extensions.tsx","webpack://Redoc/./src/components/Fields/FieldContstraints.tsx","webpack://Redoc/./src/components/Fields/FieldDetail.tsx","webpack://Redoc/./src/components/Fields/FieldDetails.tsx","webpack://Redoc/./src/components/Schema/ArraySchema.tsx","webpack://Redoc/./src/components/Fields/Field.tsx","webpack://Redoc/./src/components/Schema/DiscriminatorDropdown.tsx","webpack://Redoc/./src/components/Schema/ObjectSchema.tsx","webpack://Redoc/./src/components/Schema/OneOfSchema.tsx","webpack://Redoc/./src/components/Schema/Schema.tsx","webpack://Redoc/./src/components/Schema/index.ts","webpack://Redoc/./src/components/SchemaDefinition/SchemaDefinition.tsx","webpack://Redoc/./src/components/SecuritySchemes/SecuritySchemes.tsx","webpack://Redoc/./src/services/AppStore.ts","webpack://Redoc/./src/services/index.ts","webpack://Redoc/./src/components/ApiInfo/styled.elements.ts","webpack://Redoc/./src/components/ApiInfo/ApiInfo.tsx","webpack://Redoc/./src/components/ApiInfo/index.ts","webpack://Redoc/./src/components/ApiLogo/styled.elements.tsx","webpack://Redoc/./src/components/ApiLogo/ApiLogo.tsx","webpack://Redoc/./src/components/Markdown/AdvancedMarkdown.tsx","webpack://Redoc/./src/components/SideMenu/styled.elements.ts","webpack://Redoc/./src/components/Callbacks/CallbackTitle.tsx","webpack://Redoc/./src/components/Callbacks/styled.elements.ts","webpack://Redoc/./src/components/SelectOnClick/SelectOnClick.tsx","webpack://Redoc/./src/components/Endpoint/styled.elements.ts","webpack://Redoc/./src/components/Endpoint/Endpoint.tsx","webpack://Redoc/./src/components/Parameters/ParametersGroup.tsx","webpack://Redoc/./src/components/MediaTypeSwitch/MediaTypesSwitch.tsx","webpack://Redoc/./src/components/Parameters/Parameters.tsx","webpack://Redoc/./src/components/Responses/ResponseTitle.tsx","webpack://Redoc/./src/components/Responses/styled.elements.ts","webpack://Redoc/./src/components/Responses/ResponseHeaders.tsx","webpack://Redoc/./src/components/Responses/ResponseDetails.tsx","webpack://Redoc/./src/components/Responses/Response.tsx","webpack://Redoc/./src/components/Responses/ResponsesList.tsx","webpack://Redoc/./src/components/SecurityRequirement/SecurityRequirement.tsx","webpack://Redoc/./src/components/Callbacks/CallbackDetails.tsx","webpack://Redoc/./src/components/Callbacks/CallbackOperation.tsx","webpack://Redoc/./src/components/Callbacks/CallbacksList.tsx","webpack://Redoc/./src/components/Callbacks/index.ts","webpack://Redoc/./src/components/PayloadSamples/PayloadSamples.tsx","webpack://Redoc/./src/components/RequestSamples/RequestSamples.tsx","webpack://Redoc/./src/components/ResponseSamples/ResponseSamples.tsx","webpack://Redoc/./src/common-elements/SwitchBox.tsx","webpack://Redoc/./src/components/ConsoleResponse/Response.tsx","webpack://Redoc/./src/components/Console/ConsoleEditorWrapper.ts","webpack://Redoc/./src/components/Console/ConsoleEditor.tsx","webpack://Redoc/./src/components/Console/ConsoleViewer.tsx","webpack://Redoc/./src/components/Operation/Operation.tsx","webpack://Redoc/./src/components/ContentItems/ContentItems.tsx","webpack://Redoc/./src/components/SideMenu/MenuItem.tsx","webpack://Redoc/./src/components/SideMenu/MenuItems.tsx","webpack://Redoc/./src/components/SideMenu/SideMenu.tsx","webpack://Redoc/./src/components/StickySidebar/ChevronSvg.tsx","webpack://Redoc/./src/components/StickySidebar/StickyResponsiveSidebar.tsx","webpack://Redoc/./src/components/Redoc/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/SearchBox.tsx","webpack://Redoc/./src/components/Redoc/Redoc.tsx","webpack://Redoc/./src/components/RedocStandalone.tsx","webpack://Redoc/./src/components/JsonViewer/index.tsx","webpack://Redoc/./src/components/SideMenu/index.ts","webpack://Redoc/./src/components/TokenGroup/TokenGroup.tsx","webpack://Redoc/./src/components/index.ts","webpack://Redoc/./src/index.ts"],"names":["addMethods","worker","methods","c","callbacks","addEventListener","e","d","data","type","id","f","error","Object","assign","Error","message","result","evt","document","createEvent","initEvent","method","params","dispatchEvent","forEach","Promise","a","b","postMessage"],"mappings":"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AU,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,GAAG,CAAC,GAAG,qBAAqB,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;SACjI;QAED,IAAI,CAAC,OAAO,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE;YACvE,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;SACnC;IACH,CAAC,CAAC;CACH;;;;;;;AC/CD,yC;;;;;;ACAA,iC;;;;;;ACAA,kC;;;;;;ACAA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACnBA,uC;;;;;;ACAA,oC;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;AC7SA,uC;;;;;;ACAA,mC;;;;;;ACAA,2B;;;;;;;ACAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,oBAAoB;AACrC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6HAA6H;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AChGa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,SAAS;AACT;AACA,KAAK,WAAW;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uCAAuC;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpGyE;AACzE,uDAAuD;AAEV;AAEV;AAC5B,SAAe,iBAAiB,CAAC,eAAgC;;;;;;oBAChE,MAAM,GAAG,IAAI,4DAAM,CAAC,EAAE,CAAC,CAAC;oBACxB,UAAU,GAAG;wBACjB,MAAM;wBACN,IAAI,EAAE,uDAAU,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE;qBACxD,CAAC;oBAEF,IAAI,uDAAU,EAAE;wBACd,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC;qBAChD;oBAED,IAAI,OAAO,eAAe,KAAK,QAAQ,IAAI,eAAe,KAAK,IAAI,EAAE;wBACnE,UAAU,CAAC,KAAK,CAAC,GAAI;4BACnB,MAAM,EAAG;gCACP,WAAW,EAAE,EAAE;6BACL;4BACZ,MAAM,EAAE,eAAe;yBACX,CAAC;qBAChB;yBAAM;wBACL,UAAU,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;qBACrC;oBAMG,qBAAM,oEAAM,CAAC,UAAU,CAAC;;oBAFxB,MAAM,GAEN,UAAwB,eAFlB;oBAGV,sBAAO,MAAM,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAC;;;;CAC/E;AACM,SAAS,sBAAsB,CAAC,IAAS;IAC9C,OAAO,CAAC,IAAI,CAAC,mEAAmE,CAAC,CAAC;IAClF,OAAO,IAAI,OAAO,CAAc,UAAC,OAAO,EAAE,MAAM,IAAK,yEAAU,CAAC,IAAI,EAAE;QACpE,KAAK,EAAE,IAAI;QACX,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,IAAI;KACd,EAAE,UAAC,GAAG,EAAE,GAAG;QACV,yBAAyB;QACzB,IAAI,GAAG,EAAE;YACP,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;SACpB;QAED,OAAO,CAAC,GAAG,IAAK,GAAG,CAAC,OAAe,CAAC,CAAC;IACvC,CAAC,CAAC,EAZmD,CAYnD,CAAC,CAAC;AACN,CAAC;;;;;;;;AClDD,0C;;;;;;ACAA,yC;;;;;;;ACAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACRa;;AAEb,iBAAiB,mBAAO,CAAC,EAAW;;AAEpC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5DA,kD;;;;;;ACAA,oC;;;;;;ACAA,4C;;;;;;ACAA,8C;;;;;;ACAA;AACA,kCAAkC,mBAAO,CAAC,EAAsC;AAChF;AACA;AACA,cAAc,QAAS,qCAAqC,gCAAgC,0BAA0B,6BAA6B,uBAAuB,2BAA2B,GAAG,oDAAoD,kBAAkB,eAAe,gEAAgE,wEAAwE,iBAAiB,wEAAwE,+DAA+D,GAAG,iBAAiB,kBAAkB,eAAe,gEAAgE,wEAAwE,gBAAgB,qEAAqE,+DAA+D,GAAG,+DAA+D,mBAAmB,kCAAkC,GAAG,+KAA+K,iBAAiB,GAAG,iKAAiK,2BAA2B,iBAAiB,GAAG,sDAAsD,2BAA2B,uBAAuB,oEAAoE,4EAA4E,gBAAgB,gEAAgE,+DAA+D,GAAG,kBAAkB,2BAA2B,uBAAuB,mEAAmE,2EAA2E,eAAe,8DAA8D,+DAA+D,GAAG,iHAAiH,2BAA2B,iBAAiB,GAAG,iHAAiH,2BAA2B,gBAAgB,GAAG,6DAA6D,SAAS,gCAAgC,KAAK,GAAG,8EAA8E,SAAS,gCAAgC,KAAK,GAAG;AAClrF;AACA;;;;;;;;;;;;;;ACNA,+CAAa;;AAEb,YAAY,mBAAO,CAAC,EAAqB;;AAEzC;AACA,KAAK,6CAA6C;AAClD,KAAK,mCAAmC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,EAAW;AAChC,cAAc,mBAAO,CAAC,EAAS;AAC/B,cAAc,mBAAO,CAAC,EAAS;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5vDA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACxEA,qC;;;;;;ACAA,gFAAiB,mBAAO,CAAC,EAAc;AACvC,eAAe,mBAAO,CAAC,EAAU;AACjC,aAAa,mBAAO,CAAC,EAAiB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC,eAAe,IAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AA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;;AAEvC,oBAAoB,mBAAO,CAAC,EAAsB;;AAElD,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;;AAEA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,GAAG;AAC9B;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA,4CAA4C,WAAW,eAAe;AACtE;AACA,kBAAkB;AAClB,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wGAAwG;AACxG;AACA;AACA,0GAA0G;AAC1G;AACA;AACA;AACA;AACA;AACA,4FAA4F;AAC5F;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAwD;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8HAA8H;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gIAAgI;AAChI;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F;AAC3F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA,sEAAsE;AACtE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,sBAAsB,YAAY;;AAElC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,WAAW,mBAAmB,EAAE;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qCAAqC,UAAU;AAC/C,qCAAqC,UAAU;AAC/C,0BAA0B,OAAO,8BAA8B;AAC/D;AACA;AACA;AACA,oCAAoC;AACpC,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,mBAAmB;AACnB;;AAEA;AACA;AACA;;AAEA;AACA,wJAAwJ;;AAExJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B,6IAA6I;AAC7I,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mDAAmD,KAAK;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,sCAAsC;AACtC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,gBAAgB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,wCAAwC,WAAW,mCAAmC;AACtF;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qCAAqC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB,oBAAoB;AAC1F;AACA,+EAA+E,WAAW,IAAI,IAAI;AAClG;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxnDa;;AAEb;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA,yD;;;;;;ACAA,sC;;;;;;ACAA,uC;;;;;;ACAA,yC;;;;;;ACAA,sC;;;;;;ACAA,0C;;;;;;;ACAa;;AAEb,WAAW,mBAAO,CAAC,EAAI;AACvB,aAAa,mBAAO,CAAC,EAAM;AAC3B,YAAY,mBAAO,CAAC,CAAK;;AAEzB,cAAc,mBAAO,CAAC,EAAe;AACrC,aAAa,mBAAO,CAAC,EAAM;;AAE3B,aAAa,mBAAO,CAAC,EAAsB;AAC3C,gBAAgB,mBAAO,CAAC,EAAyB;AACjD,cAAc,mBAAO,CAAC,EAAuB;AAC7C,cAAc,mBAAO,CAAC,EAA6B;AACnD,cAAc,mBAAO,CAAC,EAAuB;AAC7C,eAAe,mBAAO,CAAC,EAAgB;;AAEvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;;AAEA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,6CAA6C,yBAAyB,uBAAuB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA,4DAA4D,WAAW,IAAI,OAAO;AAClF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,oDAAoD,oCAAoC;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA,oDAAoD,oCAAoC;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;;AAEA;AACA,sCAAsC,sCAAsC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,8CAA8C,+CAA+C;AAC7F,6CAA6C,8CAA8C;AAC3F,kCAAkC,wBAAwB;;AAE1D;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+DAA+D,YAAY;AAC3E,2CAA2C;AAC3C,uGAAuG,EAAE;AACzG;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA,gEAAgE,wFAAwF,EAAE;AAC1J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA,0GAA0G,wCAAwC;AAClJ,wGAAwG,wCAAwC,EAAE;AAClJ;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET,sBAAsB;AACtB;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,0FAA0F,0BAA0B;AACpH;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;;;;;;;;ACrhBa;;AAEb,gBAAgB,mBAAO,CAAC,EAAc;AACtC,cAAc,mBAAO,CAAC,EAAY;AAClC,aAAa,mBAAO,CAAC,EAAW;AAChC,cAAc,mBAAO,CAAC,EAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,WAAW;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACvGA,gD;;;;;;;ACAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;AC3Ha;;AAEb,aAAa,mBAAO,CAAC,EAAM;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;;;;;;;;ACjBA,kEAAoB,mBAAO,CAAC,EAAe;AAC3C,eAAe,mBAAO,CAAC,EAAgB;AACvC,aAAa,mBAAO,CAAC,EAAO;AAC5B,kBAAkB,mBAAO,CAAC,EAAsB;AAChD,UAAU,mBAAO,CAAC,CAAK;;AAEvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACpFA,gFAAiB,mBAAO,CAAC,EAAc;AACvC,eAAe,mBAAO,CAAC,EAAU;AACjC,eAAe,mBAAO,CAAC,EAAY;AACnC,aAAa,mBAAO,CAAC,EAAiB;AACtC,oBAAoB,mBAAO,CAAC,EAAgB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,2CAA2C;AAC3C,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA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","file":"redoc.lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Redoc\"] = factory();\n\telse\n\t\troot[\"Redoc\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 92);\n","module.exports = require(\"react\");","module.exports = require(\"tslib\");","module.exports = require(\"polished\");","module.exports = require(\"mobx-react\");","module.exports = require(\"mobx\");","module.exports = require(\"url\");","export const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\nexport function querySelector(selector: string): Element | null {\n  if (typeof document !== 'undefined') {\n    return document.querySelector(selector);\n  }\n\n  return null;\n}\n/**\r\n * Drop everything inside <...> (i.e., tags/elements), and keep the text.\r\n * Unlike browser innerText, this removes newlines; it also doesn't handle\r\n * un-encoded `<` or `>` characters very well, so don't feed it malformed HTML\r\n */\n\nexport function html2Str(html: string): string {\n  return html.split(/<[^>]+>/).map(chunk => {\n    return chunk.trim();\n  }).filter(trimmedChunk => {\n    return trimmedChunk.length > 0;\n  }).join(' ');\n} // scrollIntoViewIfNeeded polyfill\n\nif (typeof Element !== 'undefined' && !(Element as any).prototype.scrollIntoViewIfNeeded) {\n  (Element as any).prototype.scrollIntoViewIfNeeded = function (centerIfNeeded) {\n    centerIfNeeded = arguments.length === 0 ? true : !!centerIfNeeded;\n    const parent = this.parentNode;\n    const parentComputedStyle = window.getComputedStyle(parent, undefined);\n    const parentBorderTopWidth = parseInt(parentComputedStyle.getPropertyValue('border-top-width'), 10);\n    const parentBorderLeftWidth = parseInt(parentComputedStyle.getPropertyValue('border-left-width'), 10);\n    const overTop = this.offsetTop - parent.offsetTop < parent.scrollTop;\n    const overBottom = this.offsetTop - parent.offsetTop + this.clientHeight - parentBorderTopWidth > parent.scrollTop + parent.clientHeight;\n    const overLeft = this.offsetLeft - parent.offsetLeft < parent.scrollLeft;\n    const overRight = this.offsetLeft - parent.offsetLeft + this.clientWidth - parentBorderLeftWidth > parent.scrollLeft + parent.clientWidth;\n    const alignWithTop = overTop && !overBottom;\n\n    if ((overTop || overBottom) && centerIfNeeded) {\n      parent.scrollTop = this.offsetTop - parent.offsetTop - parent.clientHeight / 2 - parentBorderTopWidth + this.clientHeight / 2;\n    }\n\n    if ((overLeft || overRight) && centerIfNeeded) {\n      parent.scrollLeft = this.offsetLeft - parent.offsetLeft - parent.clientWidth / 2 - parentBorderLeftWidth + this.clientWidth / 2;\n    }\n\n    if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n      this.scrollIntoView(alignWithTop);\n    }\n  };\n}","module.exports = require(\"json-pointer\");","module.exports = require(\"lunr\");","module.exports = require(\"decko\");","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = require(\"react-tabs\");","module.exports = require(\"prismjs\");","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","module.exports = require(\"prop-types\");","module.exports = require(\"marked\");","module.exports = undefined;","'use strict';\n\n/**\n* escapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to escape\n* @return the escaped string\n*/\nfunction jpescape(s) {\n    return s.replace(/\\~/g, '~0').replace(/\\//g, '~1');\n}\n\n/**\n* unescapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to unescape\n* @return the unescaped string\n*/\nfunction jpunescape(s) {\n    return s.replace(/\\~1/g, '/').replace(/~0/g, '~');\n}\n\n// JSON Pointer specification: http://tools.ietf.org/html/rfc6901\n\n/**\n* from obj, return the property with a JSON Pointer prop, optionally setting it\n* to newValue\n* @param obj the object to point into\n* @param prop the JSON Pointer or JSON Reference\n* @param newValue optional value to set the property to\n* @return the found property, or false\n*/\nfunction jptr(obj, prop, newValue) {\n    if (typeof obj === 'undefined') return false;\n    if (!prop || typeof prop !== 'string' || (prop === '#')) return (typeof newValue !== 'undefined' ? newValue : obj);\n\n    if (prop.indexOf('#')>=0) {\n        let parts = prop.split('#');\n        let uri = parts[0];\n        if (uri) return false; // we do internal resolution only\n        prop = parts[1];\n        prop = decodeURIComponent(prop.slice(1).split('+').join(' '));\n    }\n    if (prop.startsWith('/')) prop = prop.slice(1);\n\n    let components = prop.split('/');\n    for (let i=0;i<components.length;i++) {\n        components[i] = jpunescape(components[i]);\n\n        let setAndLast = (typeof newValue !== 'undefined') && (i == components.length-1);\n\n        let index = parseInt(components[i],10);\n        if (!Array.isArray(obj) || isNaN(index) || (index.toString() !== components[i])) {\n            index = (Array.isArray(obj) && components[i] === '-') ? -2 : -1;\n        }\n        else {\n            components[i] = (i > 0) ? components[i-1] : ''; // backtrack to indexed property name\n        }\n\n        if ((index != -1) || (obj && obj.hasOwnProperty(components[i]))) {\n            if (index >= 0) {\n                if (setAndLast) {\n                    obj[index] = newValue;\n                }\n                obj = obj[index];\n            }\n            else if (index === -2) {\n                if (setAndLast) {\n                    if (Array.isArray(obj)) {\n                        obj.push(newValue);\n                    }\n                    return newValue;\n                }\n                else return undefined;\n            }\n            else {\n                if (setAndLast) {\n                    obj[components[i]] = newValue;\n                }\n                obj = obj[components[i]];\n            }\n        }\n        else {\n            if ((typeof newValue !== 'undefined') && (typeof obj === 'object') &&\n                (!Array.isArray(obj))) {\n                obj[components[i]] = (setAndLast ? newValue : ((components[i+1] === '0' || components[i+1] === '-') ? [] : {}));\n                obj = obj[components[i]];\n            }\n            else return false;\n        }\n    }\n    return obj;\n}\n\nmodule.exports = {\n    jptr : jptr,\n    jpescape : jpescape,\n    jpunescape : jpunescape\n};\n","'use strict';\n\n/**\n* a collection of cloning functions\n*/\n\n/**\n* a no-op placeholder which returns the given object unchanged\n* useful for when a clone function needs to be passed but cloning is not\n* required\n* @param obj the input object\n* @return the input object, unchanged\n*/\nfunction nop(obj) {\n    return obj;\n}\n\n/**\n* clones the given object using JSON.parse and JSON.stringify\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n* clones the given object's properties shallowly, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction shallowClone(obj) {\n    let result = {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p)) {\n            result[p] = obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties deeply, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction deepClone(obj) {\n    let result = Array.isArray(obj) ? [] : {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p) || Array.isArray(obj)) {\n            result[p] = (typeof obj[p] === 'object') ? deepClone(obj[p]) : obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties shallowly, using Object.assign\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction fastClone(obj) {\n    return Object.assign({},obj);\n}\n\n/**\n* Source: stackoverflow http://bit.ly/2A1Kha6\n*/\n\nfunction circularClone(obj, hash) {\n    if (!hash) hash = new WeakMap();\n    // Do not try to clone primitives or functions\n    if (Object(obj) !== obj || obj instanceof Function) return obj;\n    if (hash.has(obj)) return hash.get(obj); // Cyclic reference\n    try { // Try to run constructor (without arguments, as we don't know them)\n        var result = new obj.constructor();\n    } catch(e) { // Constructor failed, create object without running the constructor\n        result = Object.create(Object.getPrototypeOf(obj));\n    }\n    // Optional: support for some standard constructors (extend as desired)\n    /*if (obj instanceof Map)\n        Array.from(obj, ([key, val]) => result.set(circularClone(key, hash),\n                                                   circularClone(val, hash)) );\n    else if (obj instanceof Set)\n        Array.from(obj, (key) => result.add(circularClone(key, hash)) );\n    */\n    // Register in hash\n    hash.set(obj, result);\n    // Clone and assign enumerable own properties recursively\n    return Object.assign(result, ...Object.keys(obj).map (\n        key => ({ [key]: circularClone(obj[key], hash) }) ));\n}\n\nmodule.exports = {\n    nop : nop,\n    clone : clone,\n    shallowClone : shallowClone,\n    deepClone : deepClone,\n    fastClone : fastClone,\n    circularClone : circularClone\n};\n\n","import { Source, Document, bundle, Config } from '@redocly/openapi-core';\n/* tslint:disable-next-line:no-implicit-dependencies */\n\nimport { convertObj } from 'swagger2openapi';\nimport { OpenAPISpec } from '../types';\nimport { IS_BROWSER } from './dom';\nexport async function loadAndBundleSpec(specUrlOrObject: object | string): Promise<OpenAPISpec> {\n  const config = new Config({});\n  const bundleOpts = {\n    config,\n    base: IS_BROWSER ? window.location.href : process.cwd()\n  };\n\n  if (IS_BROWSER) {\n    config.resolve.http.customFetch = global.fetch;\n  }\n\n  if (typeof specUrlOrObject === 'object' && specUrlOrObject !== null) {\n    bundleOpts['doc'] = ({\n      source: ({\n        absoluteRef: ''\n      } as Source),\n      parsed: specUrlOrObject\n    } as Document);\n  } else {\n    bundleOpts['ref'] = specUrlOrObject;\n  }\n\n  const {\n    bundle: {\n      parsed\n    }\n  } = await bundle(bundleOpts);\n  return parsed.swagger !== undefined ? convertSwagger2OpenAPI(parsed) : parsed;\n}\nexport function convertSwagger2OpenAPI(spec: any): Promise<OpenAPISpec> {\n  console.warn('[ReDoc Compatibility mode]: Converting OpenAPI 2.0 to OpenAPI 3.0');\n  return new Promise<OpenAPISpec>((resolve, reject) => convertObj(spec, {\n    patch: true,\n    warnOnly: true,\n    text: '{}',\n    anchors: true\n  }, (err, res) => {\n    // TODO: log any warnings\n    if (err) {\n      return reject(err);\n    }\n\n    resolve(res && (res.openapi as any));\n  }));\n}","module.exports = require(\"eventemitter3\");","module.exports = require(\"url-template\");","'use strict';\n\nfunction isRef(obj,key) {\n    return ((key === '$ref') && (!!obj && typeof obj[key] === 'string'));\n}\n\nmodule.exports = {\n    isRef: isRef\n};\n\n","'use strict';\n\nconst jpescape = require('./jptr.js').jpescape;\n\nfunction defaultState() {\n    return {\n        path: '#',\n        depth: 0,\n        pkey: '',\n        parent: {},\n        payload: {},\n        seen: new WeakMap(),\n        identity: false,\n        identityDetection: false\n    };\n}\n\n/**\n* recurses through the properties of an object, given an optional starting state\n* anything you pass in state.payload is passed to the callback each time\n* @param object the object to recurse through\n* @param state optional starting state, can be set to null or {}\n* @param callback the function which receives object,key,state on each property\n*/\nfunction recurse(object, state, callback) {\n    if (!state) state = {depth:0};\n    if (!state.depth) {\n        state = Object.assign({},defaultState(),state);\n    }\n    if (typeof object !== 'object') return;\n    let oPath = state.path;\n    for (let key in object) {\n        state.key = key;\n        state.path = state.path + '/' + encodeURIComponent(jpescape(key));\n        state.identityPath = state.seen.get(object[key]);\n        state.identity = (typeof state.identityPath !== 'undefined');\n        if (object.hasOwnProperty(key)) {\n            callback(object, key, state);\n        }\n        if ((typeof object[key] === 'object') && (!state.identity)) {\n            if (state.identityDetection && !Array.isArray(object[key]) && object[key] !== null) {\n                state.seen.set(object[key],state.path);\n            }\n            let newState = {};\n            newState.parent = object;\n            newState.path = state.path;\n            newState.depth = state.depth ? state.depth+1 : 1;\n            newState.pkey = key;\n            newState.payload = state.payload;\n            newState.seen = state.seen;\n            newState.identity = false;\n            newState.identityDetection = state.identityDetection;\n            recurse(object[key], newState, callback);\n        }\n        state.path = oPath;\n    }\n}\n\nmodule.exports = {\n    recurse : recurse\n};\n\n","module.exports = require(\"@redocly/openapi-core\");","module.exports = require(\"mark.js\");","module.exports = require(\"openapi-sampler\");","module.exports = require(\"perfect-scrollbar\");","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/*\\n * Container style\\n */\\n.ps {\\n  overflow: hidden !important;\\n  overflow-anchor: none;\\n  -ms-overflow-style: none;\\n  touch-action: auto;\\n  -ms-touch-action: auto;\\n}\\n\\n/*\\n * Scrollbar rail styles\\n */\\n.ps__rail-x {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  height: 15px;\\n  /* there must be 'bottom' or 'top' for ps__rail-x */\\n  bottom: 0px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__rail-y {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  width: 15px;\\n  /* there must be 'right' or 'left' for ps__rail-y */\\n  right: 0;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps--active-x > .ps__rail-x,\\n.ps--active-y > .ps__rail-y {\\n  display: block;\\n  background-color: transparent;\\n}\\n\\n.ps:hover > .ps__rail-x,\\n.ps:hover > .ps__rail-y,\\n.ps--focus > .ps__rail-x,\\n.ps--focus > .ps__rail-y,\\n.ps--scrolling-x > .ps__rail-x,\\n.ps--scrolling-y > .ps__rail-y {\\n  opacity: 0.6;\\n}\\n\\n.ps .ps__rail-x:hover,\\n.ps .ps__rail-y:hover,\\n.ps .ps__rail-x:focus,\\n.ps .ps__rail-y:focus,\\n.ps .ps__rail-x.ps--clicking,\\n.ps .ps__rail-y.ps--clicking {\\n  background-color: #eee;\\n  opacity: 0.9;\\n}\\n\\n/*\\n * Scrollbar thumb styles\\n */\\n.ps__thumb-x {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, height .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\\n  height: 6px;\\n  /* there must be 'bottom' for ps__thumb-x */\\n  bottom: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__thumb-y {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, width .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\\n  width: 6px;\\n  /* there must be 'right' for ps__thumb-y */\\n  right: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n\\n.ps__rail-x:hover > .ps__thumb-x,\\n.ps__rail-x:focus > .ps__thumb-x,\\n.ps__rail-x.ps--clicking .ps__thumb-x {\\n  background-color: #999;\\n  height: 11px;\\n}\\n\\n.ps__rail-y:hover > .ps__thumb-y,\\n.ps__rail-y:focus > .ps__thumb-y,\\n.ps__rail-y.ps--clicking .ps__thumb-y {\\n  background-color: #999;\\n  width: 11px;\\n}\\n\\n/* MS supports */\\n@supports (-ms-overflow-style: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}\\n\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","'use strict';\n\nconst sjs = require('fast-safe-stringify');\n\nconst colour = process.env.NODE_DISABLE_COLORS ?\n    { red: '', yellow: '', green: '', normal: '' } :\n    { red: '\\x1b[31m', yellow: '\\x1b[33;1m', green: '\\x1b[32m', normal: '\\x1b[0m' };\n\nfunction uniqueOnly(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction hasDuplicates(array) {\n    return (new Set(array)).size !== array.length;\n}\n\nfunction allSame(array) {\n    return (new Set(array)).size <= 1;\n}\n\nfunction deepEquals(obj1, obj2) {\n    function _equals(obj1, obj2) {\n        return sjs.stringify(obj1) === sjs.stringify(Object.assign({}, obj1, obj2));\n    }\n    return _equals(obj1, obj2) && _equals(obj2, obj1);\n}\n\nfunction compressArray(arr) {\n    let result = [];\n    for (let candidate of arr) {\n        let dupe = result.find(function(e,i,a){\n            return deepEquals(e,candidate);\n        });\n        if (!dupe) result.push(candidate);\n    }\n    return result;\n}\n\nfunction distinctArray(arr) {\n    return (arr.length === compressArray(arr).length);\n}\n\nfunction firstDupe(arr) {\n    return arr.find(function(e,i,a){\n        return arr.indexOf(e)<i;\n    });\n}\n\n/**\n * simple hash implementation based on https://stackoverflow.com/a/7616484/1749888\n * @param {string} s - string to hash\n * @returns {number} numerical hash code\n */\nfunction hash(s) {\n    let hash = 0;\n    let chr;\n    if (s.length === 0) return hash;\n    for (let i = 0; i < s.length; i++) {\n      chr   = s.charCodeAt(i);\n      hash  = ((hash << 5) - hash) + chr;\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\n\nString.prototype.toCamelCase = function camelize() {\n    return this.toLowerCase().replace(/[-_ \\/\\.](.)/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n}\n\nconst parameterTypeProperties = [\n    'format',\n    'minimum',\n    'maximum',\n    'exclusiveMinimum',\n    'exclusiveMaximum',\n    'minLength',\n    'maxLength',\n    'multipleOf',\n    'minItems',\n    'maxItems',\n    'uniqueItems',\n    'minProperties',\n    'maxProperties',\n    'additionalProperties',\n    'pattern',\n    'enum',\n    'default'\n];\n\nconst arrayProperties = [\n    'items',\n    'minItems',\n    'maxItems',\n    'uniqueItems'\n];\n\nconst httpMethods = [\n    'get',\n    'post',\n    'put',\n    'delete',\n    'patch',\n    'head',\n    'options',\n    'trace'\n];\n\nfunction sanitise(s) {\n    s = s.replace('[]','Array');\n    let components = s.split('/');\n    components[0] = components[0].replace(/[^A-Za-z0-9_\\-\\.]+|\\s+/gm, '_');\n    return components.join('/');\n}\n\nfunction sanitiseAll(s) {\n    return sanitise(s.split('/').join('_'));\n}\n\nmodule.exports = {\n\n    colour: colour,\n    uniqueOnly: uniqueOnly,\n    hasDuplicates: hasDuplicates,\n    allSame: allSame,\n    distinctArray: distinctArray,\n    firstDupe: firstDupe,\n    hash: hash,\n    parameterTypeProperties: parameterTypeProperties,\n    arrayProperties: arrayProperties,\n    httpMethods: httpMethods,\n    sanitise: sanitise,\n    sanitiseAll: sanitiseAll\n\n};\n\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","module.exports = require(\"inherits\");","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","module.exports = require(\"readable-stream\");","import * as lunr from 'lunr';\n\ntry {\n  // tslint:disable-next-line\n  require('core-js/es/promise'); // bundle into worker\n\n} catch (_) {// nope\n}\n/* just for better typings */\n\n\nexport default class Worker {\n  add: typeof add = add;\n  done = done;\n  search: typeof search = search;\n  toJS = toJS;\n  load = load;\n  dispose = dispose;\n  fromExternalJS = fromExternalJS;\n}\nexport interface SearchDocument {\n  title: string;\n  description: string;\n  id: string;\n}\nexport interface SearchResult<T = string> {\n  meta: T;\n  score: number;\n}\nlet store: any[] = [];\nlunr.tokenizer.separator = /\\s+/;\nlet builder: lunr.Builder;\nlet resolveIndex: (v: lunr.Index) => void;\nlet index: Promise<lunr.Index>;\n\nfunction initEmpty() {\n  builder = new lunr.Builder();\n  builder.field('title');\n  builder.field('description');\n  builder.ref('ref');\n  builder.pipeline.add(lunr.trimmer, lunr.stopWordFilter, lunr.stemmer);\n  index = new Promise(resolve => {\n    resolveIndex = resolve;\n  });\n}\n\ninitEmpty();\n\nconst expandTerm = term => '*' + lunr.stemmer(new lunr.Token(term, {})) + '*';\n\nexport function add<T>(title: string, description: string, meta?: T) {\n  const ref = store.push(meta) - 1;\n  const item = {\n    title: title.toLowerCase(),\n    description: description.toLowerCase(),\n    ref\n  };\n  builder.add(item);\n}\nexport async function done() {\n  resolveIndex(builder.build());\n}\nexport async function toJS() {\n  return {\n    store,\n    index: (await index).toJSON()\n  };\n}\nexport async function fromExternalJS(path: string, exportName: string) {\n  try {\n    importScripts(path);\n\n    if (!self[exportName]) {\n      throw new Error('Broken index file format');\n    }\n\n    load(self[exportName]);\n  } catch (e) {\n    console.error('Failed to load search index: ' + e.message);\n  }\n}\nexport async function load(state: any) {\n  store = state.store;\n  resolveIndex(lunr.Index.load(state.index));\n}\nexport async function dispose() {\n  store = [];\n  initEmpty();\n}\nexport async function search<Meta = string>(q: string, limit = 0): Promise<Array<SearchResult<Meta>>> {\n  if (q.trim().length === 0) {\n    return [];\n  }\n\n  let searchResults = (await index).query(t => {\n    q.trim().toLowerCase().split(/\\s+/).forEach(term => {\n      if (term.length === 1) return;\n      const exp = expandTerm(term);\n      t.term(exp, {});\n    });\n  });\n\n  if (limit > 0) {\n    searchResults = searchResults.slice(0, limit);\n  }\n\n  return searchResults.map(res => ({\n    meta: store[res.ref],\n    score: res.score\n  }));\n}","module.exports = require(\"slugify\");","module.exports = require(\"styled-components\");","// @ts-check\n'use strict';\n\nconst fs = require('fs');\nconst url = require('url');\nconst pathlib = require('path');\n\nconst maybe = require('call-me-maybe');\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js');\nconst resolveInternal = jptr.jptr;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst clone = require('reftools/lib/clone.js').clone;\nconst cclone = require('reftools/lib/clone.js').circularClone;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst resolver = require('oas-resolver');\nconst sw = require('oas-schema-walker');\nconst common = require('oas-kit-common');\n\nconst statusCodes = require('./lib/statusCodes.js').statusCodes;\n\nconst ourVersion = require('./package.json').version;\n\n// TODO handle specification-extensions with plugins?\n\nconst targetVersion = '3.0.0';\nlet componentNames; // initialised in main\n\nclass S2OError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'S2OError';\n  }\n}\n\nfunction throwError(message, options) {\n    let err = new S2OError(message);\n    err.options = options;\n    if (options.promise) {\n        options.promise.reject(err);\n    }\n    else {\n        throw err;\n    }\n}\n\nfunction throwOrWarn(message, container, options) {\n    if (options.warnOnly) {\n        container[options.warnProperty||'x-s2o-warning'] = message;\n    }\n    else {\n        throwError(message, options);\n    }\n}\n\nfunction fixUpSubSchema(schema,parent,options) {\n    if (schema.nullable) options.patches++;\n    if (schema.discriminator && typeof schema.discriminator === 'string') {\n        schema.discriminator = { propertyName: schema.discriminator };\n    }\n    if (schema.items && Array.isArray(schema.items)) {\n        if (schema.items.length === 0) {\n            schema.items = {};\n        }\n        else if (schema.items.length === 1) {\n            schema.items = schema.items[0];\n        }\n        else schema.items = { anyOf: schema.items };\n    }\n\n    if (schema.type && Array.isArray(schema.type)) {\n        if (options.patch) {\n            options.patches++;\n            if (schema.type.length === 0) {\n                delete schema.type;\n            }\n            else {\n                if (!schema.oneOf) schema.oneOf = [];\n                for (let type of schema.type) {\n                    let newSchema = {};\n                    if (type === 'null') {\n                        schema.nullable = true;\n                    }\n                    else {\n                        newSchema.type = type;\n                        for (let prop of common.arrayProperties) {\n                            if (typeof schema.prop !== 'undefined') {\n                                newSchema[prop] = schema[prop];\n                                delete schema[prop];\n                            }\n                        }\n                    }\n                    if (newSchema.type) {\n                        schema.oneOf.push(newSchema);\n                    }\n                }\n                delete schema.type;\n                if (schema.oneOf.length === 0) {\n                    delete schema.oneOf; // means was just null => nullable\n                }\n                else if (schema.oneOf.length < 2) {\n                    schema.type = schema.oneOf[0].type;\n                    if (Object.keys(schema.oneOf[0]).length > 1) {\n                        throwOrWarn('Lost properties from oneOf',schema,options);\n                    }\n                    delete schema.oneOf;\n                }\n            }\n            // do not else this\n            if (schema.type && Array.isArray(schema.type) && schema.type.length === 1) {\n                schema.type = schema.type[0];\n            }\n        }\n        else {\n            throwError('(Patchable) schema type must not be an array', options);\n        }\n    }\n\n    if (schema.type && schema.type === 'null') {\n        delete schema.type;\n        schema.nullable = true;\n    }\n    if ((schema.type === 'array') && (!schema.items)) {\n        schema.items = {};\n    }\n    if (typeof schema.required === 'boolean') {\n        if (schema.required && schema.name) {\n            if (typeof parent.required === 'undefined') {\n                parent.required = [];\n            }\n            if (Array.isArray(parent.required)) parent.required.push(schema.name);\n        }\n        delete schema.required;\n    }\n\n    // TODO if we have a nested properties (object inside an object) and the\n    // *parent* type is not set, force it to object\n    // TODO if default is set but type is not set, force type to typeof default\n\n    if (schema.xml && typeof schema.xml.namespace === 'string') {\n        if (!schema.xml.namespace) delete schema.xml.namespace;\n    }\n}\n\nfunction fixUpSubSchemaExtensions(schema,parent) {\n    if (schema[\"x-required\"] && Array.isArray(schema[\"x-required\"])) {\n        if (!schema.required) schema.required = [];\n        schema.required = schema.required.concat(schema[\"x-required\"]);\n        delete schema[\"x-required\"];\n    }\n    if (schema[\"x-anyOf\"]) {\n        schema.anyOf = schema[\"x-anyOf\"];\n        delete schema[\"x-anyOf\"];\n    }\n    if (schema[\"x-oneOf\"]) {\n        schema.oneOf = schema[\"x-oneOf\"];\n        delete schema[\"x-oneOf\"];\n    }\n    if (schema[\"x-not\"]) {\n        schema.not = schema[\"x-not\"];\n        delete schema[\"x-not\"];\n    }\n    if (typeof schema[\"x-nullable\"] === 'boolean') {\n        schema.nullable = schema[\"x-nullable\"];\n        delete schema[\"x-nullable\"];\n    }\n    if ((typeof schema[\"x-discriminator\"] === 'object') && (typeof schema[\"x-discriminator\"].propertyName === 'string')) {\n        schema.discriminator = schema[\"x-discriminator\"];\n        delete schema[\"x-discriminator\"];\n        for (let entry in schema.discriminator.mapping) {\n            let schemaOrRef = schema.discriminator.mapping[entry];\n            if (schemaOrRef.startsWith('#/definitions/')) {\n                schema.discriminator.mapping[entry] = schemaOrRef.replace('#/definitions/','#/components/schemas/');\n            }\n        }\n    }\n}\n\nfunction fixUpSchema(schema,options) {\n    sw.walkSchema(schema,{},{},function(schema,parent,state){\n        fixUpSubSchemaExtensions(schema,parent);\n        fixUpSubSchema(schema,parent,options);\n    });\n}\n\nfunction getMiroComponentName(ref) {\n    if (ref.indexOf('#')>=0) {\n        ref = ref.split('#')[1].split('/').pop();\n    }\n    else {\n        ref = ref.split('/').pop().split('.')[0];\n    }\n    return encodeURIComponent(common.sanitise(ref));\n}\n\nfunction fixupRefs(obj, key, state) {\n    let options = state.payload.options;\n    if (isRef(obj,key)) {\n        if (obj[key].startsWith('#/components/')) {\n            // no-op\n        }\n        else if (obj[key] === '#/consumes') {\n            // people are *so* creative\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.consumes);\n        }\n        else if (obj[key] === '#/produces') {\n            // and by creative, I mean devious\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.produces);\n        }\n        else if (obj[key].startsWith('#/definitions/')) {\n            //only the first part of a schema component name must be sanitised\n            let keys = obj[key].replace('#/definitions/', '').split('/');\n            const ref = jptr.jpunescape(keys[0]);\n\n            let newKey = componentNames.schemas[decodeURIComponent(ref)]; // lookup, resolves a $ref\n            if (newKey) {\n                keys[0] = newKey;\n            }\n            else {\n                throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n            }\n            obj[key] = '#/components/schemas/' + keys.join('/');\n        }\n        else if (obj[key].startsWith('#/parameters/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/parameters/' + common.sanitise(obj[key].replace('#/parameters/', ''));\n        }\n        else if (obj[key].startsWith('#/responses/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/responses/' + common.sanitise(obj[key].replace('#/responses/', ''));\n        }\n        else if (obj[key].startsWith('#')) {\n            // fixes up direct $refs or those created by resolvers\n            let target = clone(jptr.jptr(options.openapi,obj[key]));\n            if (target === false) throwOrWarn('direct $ref not found '+obj[key],obj,options)\n            else if (options.refmap[obj[key]]) {\n                obj[key] = options.refmap[obj[key]];\n            }\n            else {\n                // we use a heuristic to determine what kind of thing is being referenced\n                let oldRef = obj[key];\n                oldRef = oldRef.replace('/properties/headers/','');\n                oldRef = oldRef.replace('/properties/responses/','');\n                oldRef = oldRef.replace('/properties/parameters/','');\n                oldRef = oldRef.replace('/properties/schemas/','');\n                let type = 'schemas';\n                let schemaIndex = oldRef.lastIndexOf('/schema');\n                type = (oldRef.indexOf('/headers/')>schemaIndex) ? 'headers' :\n                    ((oldRef.indexOf('/responses/')>schemaIndex) ? 'responses' :\n                    ((oldRef.indexOf('/example')>schemaIndex) ? 'examples' :\n                    ((oldRef.indexOf('/x-')>schemaIndex) ? 'extensions' :\n                    ((oldRef.indexOf('/parameters/')>schemaIndex) ? 'parameters' : 'schemas'))));\n\n                // non-body/form parameters have not moved in the overall structure (like responses)\n                // but extracting the requestBodies can cause the *number* of parameters to change\n\n                if (type === 'schemas') {\n                    fixUpSchema(target,options);\n                }\n\n                if ((type !== 'responses') && (type !== 'extensions')) {\n                    let prefix = type.substr(0,type.length-1);\n                    if ((prefix === 'parameter') && target.name && (target.name === common.sanitise(target.name))) {\n                        prefix = encodeURIComponent(target.name);\n                    }\n\n                    let suffix = 1;\n                    if (obj['x-miro']) {\n                        prefix = getMiroComponentName(obj['x-miro']);\n                        suffix = '';\n                    }\n\n                    while (jptr.jptr(options.openapi,'#/components/'+type+'/'+prefix+suffix)) {\n                        suffix = (suffix === '' ? 2 : ++suffix);\n                    }\n\n                    let newRef = '#/components/'+type+'/'+prefix+suffix;\n                    let refSuffix = '';\n\n                    if (type === 'examples') {\n                        target = { value: target };\n                        refSuffix = '/value';\n                    }\n\n                    jptr.jptr(options.openapi,newRef,target);\n                    options.refmap[obj[key]] = newRef+refSuffix;\n                    obj[key] = newRef+refSuffix;\n                }\n            }\n        }\n\n        delete obj['x-miro'];\n        // do this last - rework cases where $ref object has sibling properties\n        if (Object.keys(obj).length > 1) {\n            const tmpRef = obj[key];\n            const inSchema = state.path.indexOf('/schema') >= 0; // not perfect, but in the absence of a reasonably-sized and complete OAS 2.0 parser...\n            if (options.refSiblings === 'preserve') {\n                // no-op\n            }\n            else if (inSchema && (options.refSiblings === 'allOf')) {\n                delete obj.$ref;\n                state.parent[state.pkey] = { allOf: [ { $ref: tmpRef }, obj ]};\n            }\n            else { // remove, or not 'preserve' and not in a schema\n                state.parent[state.pkey] = { $ref: tmpRef };\n            }\n        }\n\n    }\n    if ((key === 'x-ms-odata') && (typeof obj[key] === 'string') && (obj[key].startsWith('#/'))) {\n        let keys = obj[key].replace('#/definitions/', '').replace('#/components/schemas/','').split('/');\n        let newKey = componentNames.schemas[decodeURIComponent(keys[0])]; // lookup, resolves a $ref\n        if (newKey) {\n            keys[0] = newKey;\n        }\n        else {\n            throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n        }\n        obj[key] = '#/components/schemas/' + keys.join('/');\n    }\n}\n\n/*\n* This has to happen as a separate pass because multiple $refs may point\n* through elements of the same path\n*/\nfunction dedupeRefs(openapi, options) {\n    for (let ref in options.refmap) {\n        jptr.jptr(openapi,ref,{ $ref: options.refmap[ref] });\n    }\n}\n\nfunction processSecurity(securityObject) {\n    for (let s in securityObject) {\n        for (let k in securityObject[s]) {\n            let sname = common.sanitise(k);\n            if (k !== sname) {\n                securityObject[s][sname] = securityObject[s][k];\n                delete securityObject[s][k];\n            }\n        }\n    }\n}\n\nfunction processSecurityScheme(scheme, options) {\n    if (scheme.type === 'basic') {\n        scheme.type = 'http';\n        scheme.scheme = 'basic';\n    }\n    if (scheme.type === 'oauth2') {\n        let flow = {};\n        let flowName = scheme.flow;\n        if (scheme.flow === 'application') flowName = 'clientCredentials';\n        if (scheme.flow === 'accessCode') flowName = 'authorizationCode';\n        if (typeof scheme.authorizationUrl !== 'undefined') flow.authorizationUrl = scheme.authorizationUrl.split('?')[0].trim() || '/';\n        if (typeof scheme.tokenUrl === 'string') flow.tokenUrl = scheme.tokenUrl.split('?')[0].trim() || '/';\n        flow.scopes = scheme.scopes || {};\n        scheme.flows = {};\n        scheme.flows[flowName] = flow;\n        delete scheme.flow;\n        delete scheme.authorizationUrl;\n        delete scheme.tokenUrl;\n        delete scheme.scopes;\n        if (typeof scheme.name !== 'undefined') {\n            if (options.patch) {\n                options.patches++;\n                delete scheme.name;\n            }\n            else {\n                throwError('(Patchable) oauth2 securitySchemes should not have name property', options);\n            }\n        }\n    }\n}\n\nfunction keepParameters(value) {\n    return (value && !value[\"x-s2o-delete\"]);\n}\n\nfunction processHeader(header, options) {\n    if (header.$ref) {\n        header.$ref = header.$ref.replace('#/responses/', '#/components/responses/');\n    }\n    else {\n        if (header.type && !header.schema) {\n            header.schema = {};\n        }\n        if (header.type) header.schema.type = header.type;\n        if (header.items && header.items.type !== 'array') {\n            if (header.items.collectionFormat !== header.collectionFormat) {\n                throwOrWarn('Nested collectionFormats are not supported', header, options);\n            }\n            delete header.items.collectionFormat;\n        }\n        if (header.type === 'array') {\n            if (header.collectionFormat === 'ssv') {\n                throwOrWarn('collectionFormat:ssv is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'pipes') {\n                throwOrWarn('collectionFormat:pipes is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'multi') {\n                header.explode = true;\n            }\n            else if (header.collectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', header, options); // not lossless\n                header[\"x-collectionFormat\"] = 'tsv';\n            }\n            else { // 'csv'\n                header.style = 'simple';\n            }\n            delete header.collectionFormat;\n        }\n        else if (header.collectionFormat) {\n            if (options.patch) {\n                options.patches++;\n                delete header.collectionFormat;\n            }\n            else {\n                throwError('(Patchable) collectionFormat is only applicable to header.type array', options);\n            }\n        }\n        delete header.type;\n        for (let prop of common.parameterTypeProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n        for (let prop of common.arrayProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n    }\n}\n\nfunction fixParamRef(param, options) {\n    if (param.$ref.indexOf('#/parameters/') >= 0) {\n        let refComponents = param.$ref.split('#/parameters/');\n        param.$ref = refComponents[0] + '#/components/parameters/' + common.sanitise(refComponents[1]);\n    }\n    if (param.$ref.indexOf('#/definitions/') >= 0) {\n        throwOrWarn('Definition used as parameter', param, options);\n    }\n}\n\nfunction attachRequestBody(op,options) {\n    let newOp = {};\n    for (let key of Object.keys(op)) {\n        newOp[key] = op[key];\n        if (key === 'parameters') {\n            newOp.requestBody = {};\n            if (options.rbname) newOp[options.rbname] = '';\n        }\n    }\n    newOp.requestBody = {}; // just in case there are no parameters\n    return newOp;\n}\n\n/**\n * @returns op, as it may have changed\n */\nfunction processParameter(param, op, path, method, index, openapi, options) {\n    let result = {};\n    let singularRequestBody = true;\n    let originalType;\n\n    if (op && op.consumes && (typeof op.consumes === 'string')) {\n        if (options.patch) {\n            options.patches++;\n            op.consumes = [op.consumes];\n        }\n        else {\n            return throwError('(Patchable) operation.consumes must be an array', options);\n        }\n    }\n    if (!Array.isArray(openapi.consumes)) delete openapi.consumes;\n    let consumes = ((op ? op.consumes : null) || (openapi.consumes || [])).filter(common.uniqueOnly);\n\n    if (param && param.$ref && (typeof param.$ref === 'string')) {\n        // if we still have a ref here, it must be an internal one\n        fixParamRef(param, options);\n        let ptr = decodeURIComponent(param.$ref.replace('#/components/parameters/', ''));\n        let rbody = false;\n        let target = openapi.components.parameters[ptr]; // resolves a $ref, must have been sanitised already\n\n        if (((!target) || (target[\"x-s2o-delete\"])) && param.$ref.startsWith('#/')) {\n            // if it's gone, chances are it's a requestBody component now unless spec was broken\n            param[\"x-s2o-delete\"] = true;\n            rbody = true;\n        }\n\n        // shared formData parameters from swagger or path level could be used in any combination.\n        // we dereference all op.requestBody's then hash them and pull out common ones later\n\n        if (rbody) {\n            let ref = param.$ref;\n            let newParam = resolveInternal(openapi, param.$ref);\n            if (!newParam && ref.startsWith('#/')) {\n                throwOrWarn('Could not resolve reference ' + ref, param, options);\n            }\n            else {\n                if (newParam) param = newParam; // preserve reference\n            }\n        }\n    }\n\n    if (param && (param.name || param.in)) { // if it's a real parameter OR we've dereferenced it\n\n        if (typeof param['x-deprecated'] === 'boolean') {\n            param.deprecated = param['x-deprecated'];\n            delete param['x-deprecated'];\n        }\n\n        if (typeof param['x-example'] !== 'undefined') {\n            param.example = param['x-example'];\n            delete param['x-example'];\n        }\n\n        if ((param.in !== 'body') && (!param.type)) {\n            if (options.patch) {\n                options.patches++;\n                param.type = 'string';\n            }\n            else {\n                throwError('(Patchable) parameter.type is mandatory for non-body parameters', options);\n            }\n        }\n        if (param.type && typeof param.type === 'object' && param.type.$ref) {\n            // $ref anywhere sensibility\n            param.type = resolveInternal(openapi, param.type.$ref);\n        }\n        if (param.type === 'file') {\n            param['x-s2o-originalType'] = param.type;\n            originalType = param.type;\n        }\n        if (param.description && typeof param.description === 'object' && param.description.$ref) {\n            // $ref anywhere sensibility\n            param.description = resolveInternal(openapi, param.description.$ref);\n        }\n        if (param.description === null) delete param.description;\n\n        let oldCollectionFormat = param.collectionFormat;\n        if ((param.type === 'array') && !oldCollectionFormat) {\n            oldCollectionFormat = 'csv';\n        }\n        if (oldCollectionFormat) {\n            if (param.type !== 'array') {\n                if (options.patch) {\n                    options.patches++;\n                    delete param.collectionFormat;\n                }\n                else {\n                    throwError('(Patchable) collectionFormat is only applicable to param.type array', options);\n                }\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'query') || (param.in === 'cookie'))) {\n                param.style = 'form';\n                param.explode = false;\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'path') || (param.in === 'header'))) {\n                param.style = 'simple';\n            }\n            if (oldCollectionFormat === 'ssv') {\n                if (param.in === 'query') {\n                    param.style = 'spaceDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:ssv is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'pipes') {\n                if (param.in === 'query') {\n                    param.style = 'pipeDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:pipes is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'multi') {\n                param.explode = true;\n            }\n            if (oldCollectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', param, options); // not lossless\n                param[\"x-collectionFormat\"] = 'tsv';\n            }\n            delete param.collectionFormat;\n        }\n\n        if (param.type && (param.type !== 'body') && (param.in !== 'formData')) {\n            if (param.items && param.schema) {\n                throwOrWarn('parameter has array,items and schema', param, options);\n            }\n            else {\n                if (param.schema) options.patches++; // already present\n                if ((!param.schema) || (typeof param.schema !== 'object')) param.schema = {};\n                param.schema.type = param.type;\n                if (param.items) {\n                    param.schema.items = param.items;\n                    delete param.items;\n                    recurse(param.schema.items, null, function (obj, key, state) {\n                        if ((key === 'collectionFormat') && (typeof obj[key] === 'string')) {\n                            if (oldCollectionFormat && obj[key] !== oldCollectionFormat) {\n                                throwOrWarn('Nested collectionFormats are not supported', param, options);\n                            }\n                            delete obj[key]; // not lossless\n                        }\n                        // items in 2.0 was a subset of the JSON-Schema items\n                        // object, it gets fixed up below\n                    });\n                }\n                for (let prop of common.parameterTypeProperties) {\n                    if (typeof param[prop] !== 'undefined') param.schema[prop] = param[prop];\n                    delete param[prop];\n                }\n            }\n        }\n\n        if (param.schema) {\n            fixUpSchema(param.schema,options);\n        }\n\n        if (param[\"x-ms-skip-url-encoding\"]) {\n            if (param.in === 'query') { // might be in:path, not allowed in OAS3\n                param.allowReserved = true;\n                delete param[\"x-ms-skip-url-encoding\"];\n            }\n        }\n    }\n\n    if (param && param.in === 'formData') {\n        // convert to requestBody component\n        singularRequestBody = false;\n        result.content = {};\n        let contentType = 'application/x-www-form-urlencoded';\n        if ((consumes.length) && (consumes.indexOf('multipart/form-data') >= 0)) {\n            contentType = 'multipart/form-data';\n        }\n\n        result.content[contentType] = {};\n        if (param.schema) {\n            result.content[contentType].schema = param.schema;\n            if (param.schema.$ref) {\n                result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n            }\n        }\n        else {\n            result.content[contentType].schema = {};\n            result.content[contentType].schema.type = 'object';\n            result.content[contentType].schema.properties = {};\n            result.content[contentType].schema.properties[param.name] = {};\n            let schema = result.content[contentType].schema;\n            let target = result.content[contentType].schema.properties[param.name];\n            if (param.description) target.description = param.description;\n            if (param.example) target.example = param.example;\n            if (param.type) target.type = param.type;\n\n            for (let prop of common.parameterTypeProperties) {\n                if (typeof param[prop] !== 'undefined') target[prop] = param[prop];\n            }\n            if (param.required === true) {\n                if (!schema.required) schema.required = [];\n                schema.required.push(param.name);\n                result.required = true;\n            }\n            if (typeof param.default !== 'undefined') target.default = param.default;\n            if (target.properties) target.properties = param.properties;\n            if (param.allOf) target.allOf = param.allOf; // new are anyOf, oneOf, not\n            if ((param.type === 'array') && (param.items)) {\n                target.items = param.items;\n                if (target.items.collectionFormat) delete target.items.collectionFormat;\n            }\n            if ((originalType === 'file') || (param['x-s2o-originalType'] === 'file')) {\n                target.type = 'string';\n                target.format = 'binary';\n            }\n\n            // Copy any extensions on the form param to the target schema property.\n            copyExtensions(param, target);\n        }\n    }\n    else if (param && param.type === 'file') {\n        // convert to requestBody\n        if (param.required) result.required = param.required;\n        result.content = {};\n        result.content[\"application/octet-stream\"] = {};\n        result.content[\"application/octet-stream\"].schema = {};\n        result.content[\"application/octet-stream\"].schema.type = 'string';\n        result.content[\"application/octet-stream\"].schema.format = 'binary';\n        copyExtensions(param, result);\n    }\n    if (param && param.in === 'body') {\n        result.content = {};\n        if (param.name) result['x-s2o-name'] = (op && op.operationId ? common.sanitiseAll(op.operationId) : '') + ('_' + param.name).toCamelCase();\n        if (param.description) result.description = param.description;\n        if (param.required) result.required = param.required;\n\n        // Set the \"request body name\" extension on the operation if requested.\n        if (op && options.rbname && param.name) {\n            op[options.rbname] = param.name;\n        }\n        if (param.schema && param.schema.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n        }\n        else if (param.schema && (param.schema.type === 'array') && param.schema.items && param.schema.items.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.items.$ref.replace('#/components/schemas/', '')) + 'Array';\n        }\n\n        if (!consumes.length) {\n            consumes.push('application/json'); // TODO verify default\n        }\n\n        for (let mimetype of consumes) {\n            result.content[mimetype] = {};\n            result.content[mimetype].schema = clone(param.schema || {});\n            fixUpSchema(result.content[mimetype].schema,options);\n        }\n\n        // Copy any extensions from the original parameter to the new requestBody\n        copyExtensions(param, result);\n    }\n\n    if (Object.keys(result).length > 0) {\n        param[\"x-s2o-delete\"] = true;\n        // work out where to attach the requestBody\n        if (op) {\n            if (op.requestBody && singularRequestBody) {\n                op.requestBody[\"x-s2o-overloaded\"] = true;\n                let opId = op.operationId || index;\n\n                throwOrWarn('Operation ' + opId + ' has multiple requestBodies', op, options);\n            }\n            else {\n                if (!op.requestBody) {\n                   op = path[method] = attachRequestBody(op,options); // make sure we have one\n                }\n                if ((op.requestBody.content && op.requestBody.content[\"multipart/form-data\"])\n                    && (op.requestBody.content[\"multipart/form-data\"].schema) && (op.requestBody.content[\"multipart/form-data\"].schema.properties) && (result.content[\"multipart/form-data\"]) && (result.content[\"multipart/form-data\"].schema) && (result.content[\"multipart/form-data\"].schema.properties)) {\n                    op.requestBody.content[\"multipart/form-data\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"multipart/form-data\"].schema.properties, result.content[\"multipart/form-data\"].schema.properties);\n                    op.requestBody.content[\"multipart/form-data\"].schema.required = (op.requestBody.content[\"multipart/form-data\"].schema.required || []).concat(result.content[\"multipart/form-data\"].schema.required||[]);\n                    if (!op.requestBody.content[\"multipart/form-data\"].schema.required.length) {\n                        delete op.requestBody.content[\"multipart/form-data\"].schema.required;\n                    }\n                }\n                else if ((op.requestBody.content && op.requestBody.content[\"application/x-www-form-urlencoded\"] && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties)\n                    && result.content[\"application/x-www-form-urlencoded\"] && result.content[\"application/x-www-form-urlencoded\"].schema && result.content[\"application/x-www-form-urlencoded\"].schema.properties) {\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties, result.content[\"application/x-www-form-urlencoded\"].schema.properties);\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required = (op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required || []).concat(result.content[\"application/x-www-form-urlencoded\"].schema.required||[]);\n                    if (!op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required.length) {\n                        delete op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required;\n                    }\n                }\n                else {\n                    op.requestBody = Object.assign(op.requestBody, result);\n                    if (!op.requestBody['x-s2o-name']) {\n                        if (op.requestBody.schema && op.requestBody.schema.$ref) {\n                            op.requestBody['x-s2o-name'] = decodeURIComponent(op.requestBody.schema.$ref.replace('#/components/schemas/', '')).split('/').join('');\n                        }\n                        else if (op.operationId) {\n                            op.requestBody['x-s2o-name'] = common.sanitiseAll(op.operationId);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // tidy up\n    if (param && !param['x-s2o-delete']) {\n        delete param.type;\n        for (let prop of common.parameterTypeProperties) {\n            delete param[prop];\n        }\n\n        if ((param.in === 'path') && ((typeof param.required === 'undefined') || (param.required !== true))) {\n            if (options.patch) {\n                options.patches++;\n                param.required = true;\n            }\n            else {\n                throwError('(Patchable) path parameters must be required:true ['+param.name+' in '+index+']', options);\n            }\n        }\n    }\n\n    return op;\n}\n\nfunction copyExtensions(src, tgt) {\n    for (let prop in src) {\n        if (prop.startsWith('x-') && !prop.startsWith('x-s2o')) {\n            tgt[prop] = src[prop];\n        }\n    }\n}\n\nfunction processResponse(response, name, op, openapi, options) {\n    if (!response) return false;\n    if (response.$ref && (typeof response.$ref === 'string')) {\n        if (response.$ref.indexOf('#/definitions/') >= 0) {\n            //response.$ref = '#/components/schemas/'+common.sanitise(response.$ref.replace('#/definitions/',''));\n            throwOrWarn('definition used as response: ' + response.$ref, response, options);\n        }\n        else {\n            if (response.$ref.startsWith('#/responses/')) {\n                response.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.$ref.replace('#/responses/', '')));\n            }\n        }\n    }\n    else {\n        if ((typeof response.description === 'undefined') || (response.description === null)\n            || ((response.description === '') && options.patch)) {\n            if (options.patch) {\n                if ((typeof response === 'object') && (!Array.isArray(response))) {\n                    options.patches++;\n                    response.description = (statusCodes[response] || '');\n                }\n            }\n            else {\n                throwError('(Patchable) response.description is mandatory', options);\n            }\n        }\n        if (typeof response.schema !== 'undefined') {\n\n            fixUpSchema(response.schema,options);\n\n            if (response.schema.$ref && (typeof response.schema.$ref === 'string') && response.schema.$ref.startsWith('#/responses/')) {\n                response.schema.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.schema.$ref.replace('#/responses/', '')));\n            }\n\n            if (op && op.produces && (typeof op.produces === 'string')) {\n                if (options.patch) {\n                    options.patches++;\n                    op.produces = [op.produces];\n                }\n                else {\n                    return throwError('(Patchable) operation.produces must be an array', options);\n                }\n            }\n            if (openapi.produces && !Array.isArray(openapi.produces)) delete openapi.produces;\n\n            let produces = ((op ? op.produces : null) || (openapi.produces || [])).filter(common.uniqueOnly);\n            if (!produces.length) produces.push('*/*'); // TODO verify default\n\n            response.content = {};\n            for (let mimetype of produces) {\n                response.content[mimetype] = {};\n                response.content[mimetype].schema = clone(response.schema);\n                if (response.examples && response.examples[mimetype]) {\n                    let example = {};\n                    example.value = response.examples[mimetype];\n                    response.content[mimetype].examples = {};\n                    response.content[mimetype].examples.response = example;\n                    delete response.examples[mimetype];\n                }\n                if (response.content[mimetype].schema.type === 'file') {\n                    response.content[mimetype].schema = { type: 'string', format: 'binary' };\n                }\n            }\n            delete response.schema;\n        }\n        // examples for content-types not listed in produces\n        for (let mimetype in response.examples) {\n            if (!response.content) response.content = {};\n            if (!response.content[mimetype]) response.content[mimetype] = {};\n            response.content[mimetype].examples = {};\n            response.content[mimetype].examples.response = {};\n            response.content[mimetype].examples.response.value = response.examples[mimetype];\n        }\n        delete response.examples;\n\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n}\n\nfunction processPaths(container, containerName, options, requestBodyCache, openapi) {\n    for (let p in container) {\n        let path = container[p];\n        // path.$ref is external only\n        if (path && (path['x-trace']) && (typeof path['x-trace'] === 'object')) {\n            path.trace = path['x-trace'];\n            delete path['x-trace'];\n        }\n        if (path && (path['x-summary']) && (typeof path['x-summary'] === 'string')) {\n            path.summary = path['x-summary'];\n            delete path['x-summary'];\n        }\n        if (path && (path['x-description']) && (typeof path['x-description'] === 'string')) {\n            path.description = path['x-description'];\n            delete path['x-description'];\n        }\n        if (path && (path['x-servers']) && (Array.isArray(path['x-servers']))) {\n            path.servers = path['x-servers'];\n            delete path['x-servers'];\n        }\n        for (let method in path) {\n            if ((common.httpMethods.indexOf(method) >= 0) || (method === 'x-amazon-apigateway-any-method')) {\n                let op = path[method];\n\n                if (op && op.parameters && Array.isArray(op.parameters)) {\n                    if (path.parameters) {\n                        for (let param of path.parameters) {\n                            if (typeof param.$ref === 'string') {\n                                fixParamRef(param, options);\n                                param = resolveInternal(openapi, param.$ref);\n                            }\n                            let match = op.parameters.find(function (e, i, a) {\n                                return ((e.name === param.name) && (e.in === param.in));\n                            });\n\n                            if (!match && ((param.in === 'formData') || (param.in === 'body') || (param.type === 'file'))) {\n                                op = processParameter(param, op, path, method, p, openapi, options);\n                                if (options.rbname && op[options.rbname] === '') {\n                                    delete op[options.rbname];\n                                }\n                            }\n                        }\n                    }\n                    for (let param of op.parameters) {\n                        op = processParameter(param, op, path, method, method + ':' + p, openapi, options);\n                    }\n                    if (options.rbname && op[options.rbname] === '') {\n                        delete op[options.rbname];\n                    }\n                    if (!options.debug) {\n                        if (op.parameters) op.parameters = op.parameters.filter(keepParameters);\n                    }\n                }\n\n                if (op && op.security) processSecurity(op.security);\n\n                //don't need to remove requestBody for non-supported ops as they \"SHALL be ignored\"\n\n                // responses\n                if (typeof op === 'object') {\n                    if (!op.responses) {\n                        let defaultResp = {};\n                        defaultResp.description = 'Default response';\n                        op.responses = { default: defaultResp };\n                    }\n                    for (let r in op.responses) {\n                        let response = op.responses[r];\n                        processResponse(response, r, op, openapi, options);\n                    }\n                }\n\n                if (op && (op['x-servers']) && (Array.isArray(op['x-servers']))) {\n                    op.servers = op['x-servers'];\n                    delete op['x-servers'];\n                } else if (op && op.schemes && op.schemes.length) {\n                    for (let scheme of op.schemes) {\n                        if ((!openapi.schemes) || (openapi.schemes.indexOf(scheme) < 0)) {\n                            if (!op.servers) {\n                                op.servers = [];\n                            }\n                            if (Array.isArray(openapi.servers)) {\n                                for (let server of openapi.servers) {\n                                    let newServer = clone(server);\n                                    let serverUrl = url.parse(newServer.url);\n                                    serverUrl.protocol = scheme;\n                                    newServer.url = serverUrl.format();\n                                    op.servers.push(newServer);\n                                }\n                            }\n                        }\n                    }\n                }\n\n                if (options.debug) {\n                    op[\"x-s2o-consumes\"] = op.consumes || [];\n                    op[\"x-s2o-produces\"] = op.produces || [];\n                }\n                if (op) {\n                    delete op.consumes;\n                    delete op.produces;\n                    delete op.schemes;\n\n                    if (op[\"x-ms-examples\"]) {\n                        for (let e in op[\"x-ms-examples\"]) {\n                            let example = op[\"x-ms-examples\"][e];\n                            let se = common.sanitiseAll(e);\n                            if (example.parameters) {\n                                for (let p in example.parameters) {\n                                    let value = example.parameters[p];\n                                    for (let param of (op.parameters||[]).concat(path.parameters||[])) {\n                                        if (param.$ref) {\n                                            param = jptr.jptr(openapi,param.$ref);\n                                        }\n                                        if ((param.name === p) && (!param.example)) {\n                                            if (!param.examples) {\n                                                param.examples = {};\n                                            }\n                                            param.examples[e] = {value: value};\n                                        }\n                                    }\n                                }\n                            }\n                            if (example.responses) {\n                                for (let r in example.responses) {\n                                    if (example.responses[r].headers) {\n                                        for (let h in example.responses[r].headers) {\n                                            let value = example.responses[r].headers[h];\n                                            for (let rh in op.responses[r].headers) {\n                                                if (rh === h) {\n                                                    let header = op.responses[r].headers[rh];\n                                                    header.example = value;\n                                                }\n                                            }\n                                        }\n                                    }\n                                    if (example.responses[r].body) {\n                                        openapi.components.examples[se] = { value: clone(example.responses[r].body) };\n                                        if (op.responses[r] && op.responses[r].content) {\n                                            for (let ct in op.responses[r].content) {\n                                                let contentType = op.responses[r].content[ct];\n                                                if (!contentType.examples) {\n                                                    contentType.examples = {};\n                                                }\n                                                contentType.examples[e] = { $ref: '#/components/examples/'+se };\n                                            }\n                                        }\n                                    }\n\n                                }\n                            }\n                        }\n                        delete op[\"x-ms-examples\"];\n                    }\n\n                    if (op.parameters && op.parameters.length === 0) delete op.parameters;\n                    if (op.requestBody) {\n                        let effectiveOperationId = op.operationId ? common.sanitiseAll(op.operationId) : common.sanitiseAll(method + p).toCamelCase();\n                        let rbName = common.sanitise(op.requestBody['x-s2o-name'] || effectiveOperationId || '');\n                        delete op.requestBody['x-s2o-name'];\n                        let rbStr = JSON.stringify(op.requestBody);\n                        let rbHash = common.hash(rbStr);\n                        if (!requestBodyCache[rbHash]) {\n                            let entry = {};\n                            entry.name = rbName;\n                            entry.body = op.requestBody;\n                            entry.refs = [];\n                            requestBodyCache[rbHash] = entry;\n                        }\n                        let ptr = '#/'+containerName+'/'+encodeURIComponent(jptr.jpescape(p))+'/'+method+'/requestBody';\n                        requestBodyCache[rbHash].refs.push(ptr);\n                    }\n                }\n\n            }\n        }\n        if (path && path.parameters) {\n            for (let p2 in path.parameters) {\n                let param = path.parameters[p2];\n                processParameter(param, null, path, null, p, openapi, options); // index here is the path string\n            }\n            if (!options.debug && Array.isArray(path.parameters)) {\n                path.parameters = path.parameters.filter(keepParameters);\n            }\n        }\n    }\n}\n\nfunction main(openapi, options) {\n\n    let requestBodyCache = {};\n    componentNames = { schemas: {} };\n\n    if (openapi.security) processSecurity(openapi.security);\n\n    for (let s in openapi.components.securitySchemes) {\n        let sname = common.sanitise(s);\n        if (s !== sname) {\n            if (openapi.components.securitySchemes[sname]) {\n                throwError('Duplicate sanitised securityScheme name ' + sname, options);\n            }\n            openapi.components.securitySchemes[sname] = openapi.components.securitySchemes[s];\n            delete openapi.components.securitySchemes[s];\n        }\n        processSecurityScheme(openapi.components.securitySchemes[sname], options);\n    }\n\n    for (let s in openapi.components.schemas) {\n        let sname = common.sanitiseAll(s);\n        let suffix = '';\n        if (s !== sname) {\n            while (openapi.components.schemas[sname + suffix]) {\n                // @ts-ignore\n                suffix = (suffix ? ++suffix : 2);\n            }\n            openapi.components.schemas[sname + suffix] = openapi.components.schemas[s];\n            delete openapi.components.schemas[s];\n        }\n        componentNames.schemas[s] = sname + suffix;\n        fixUpSchema(openapi.components.schemas[sname+suffix],options)\n    }\n\n    // fix all $refs to their new locations (and potentially new names)\n    options.refmap = {};\n    recurse(openapi, { payload: { options: options } }, fixupRefs);\n    dedupeRefs(openapi,options);\n\n    for (let p in openapi.components.parameters) {\n        let sname = common.sanitise(p);\n        if (p !== sname) {\n            if (openapi.components.parameters[sname]) {\n                throwError('Duplicate sanitised parameter name ' + sname, options);\n            }\n            openapi.components.parameters[sname] = openapi.components.parameters[p];\n            delete openapi.components.parameters[p];\n        }\n        let param = openapi.components.parameters[sname];\n        processParameter(param, null, null, null, sname, openapi, options);\n    }\n\n    for (let r in openapi.components.responses) {\n        let sname = common.sanitise(r);\n        if (r !== sname) {\n            if (openapi.components.responses[sname]) {\n                throwError('Duplicate sanitised response name ' + sname, options);\n            }\n            openapi.components.responses[sname] = openapi.components.responses[r];\n            delete openapi.components.responses[r];\n        }\n        let response = openapi.components.responses[sname];\n        processResponse(response, sname, null, openapi, options);\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n\n    for (let r in openapi.components.requestBodies) { // converted ones\n        let rb = openapi.components.requestBodies[r];\n        let rbStr = JSON.stringify(rb);\n        let rbHash = common.hash(rbStr);\n        let entry = {};\n        entry.name = r;\n        entry.body = rb;\n        entry.refs = [];\n        requestBodyCache[rbHash] = entry;\n    }\n\n    processPaths(openapi.paths, 'paths', options, requestBodyCache, openapi);\n    if (openapi[\"x-ms-paths\"]) {\n        processPaths(openapi[\"x-ms-paths\"], 'x-ms-paths', options, requestBodyCache, openapi);\n    }\n\n    if (!options.debug) {\n        for (let p in openapi.components.parameters) {\n            let param = openapi.components.parameters[p];\n            if (param[\"x-s2o-delete\"]) {\n                delete openapi.components.parameters[p];\n            }\n        }\n    }\n\n    if (options.debug) {\n        openapi[\"x-s2o-consumes\"] = openapi.consumes || [];\n        openapi[\"x-s2o-produces\"] = openapi.produces || [];\n    }\n    delete openapi.consumes;\n    delete openapi.produces;\n    delete openapi.schemes;\n\n    let rbNamesGenerated = [];\n\n    openapi.components.requestBodies = {}; // for now as we've dereffed them\n\n    if (!options.resolveInternal) {\n        let counter = 1;\n        for (let e in requestBodyCache) {\n            let entry = requestBodyCache[e];\n            if (entry.refs.length > 1) {\n                // create a shared requestBody\n                let suffix = '';\n                if (!entry.name) {\n                    entry.name = 'requestBody';\n                    // @ts-ignore\n                    suffix = counter++;\n                }\n                while (rbNamesGenerated.indexOf(entry.name + suffix) >= 0) {\n                    // @ts-ignore - this can happen if descriptions are not exactly the same (e.g. bitbucket)\n                    suffix = (suffix ? ++suffix : 2);\n                }\n                entry.name = entry.name + suffix;\n                rbNamesGenerated.push(entry.name);\n                openapi.components.requestBodies[entry.name] = clone(entry.body);\n                for (let r in entry.refs) {\n                    let ref = {};\n                    ref.$ref = '#/components/requestBodies/' + entry.name;\n                    jptr.jptr(openapi,entry.refs[r],ref);\n                }\n            }\n        }\n    }\n\n    if (openapi.components.responses && Object.keys(openapi.components.responses).length === 0) {\n        delete openapi.components.responses;\n    }\n    if (openapi.components.parameters && Object.keys(openapi.components.parameters).length === 0) {\n        delete openapi.components.parameters;\n    }\n    if (openapi.components.examples && Object.keys(openapi.components.examples).length === 0) {\n        delete openapi.components.examples;\n    }\n    if (openapi.components.requestBodies && Object.keys(openapi.components.requestBodies).length === 0) {\n        delete openapi.components.requestBodies;\n    }\n    if (openapi.components.securitySchemes && Object.keys(openapi.components.securitySchemes).length === 0) {\n        delete openapi.components.securitySchemes;\n    }\n    if (openapi.components.headers && Object.keys(openapi.components.headers).length === 0) {\n        delete openapi.components.headers;\n    }\n    if (openapi.components.schemas && Object.keys(openapi.components.schemas).length === 0) {\n        delete openapi.components.schemas;\n    }\n    if (openapi.components && Object.keys(openapi.components).length === 0) {\n        delete openapi.components;\n    }\n\n    return openapi;\n}\n\nfunction extractServerParameters(server) {\n    if (!server || !server.url || (typeof server.url !== 'string')) return server;\n    server.url = server.url.split('{{').join('{');\n    server.url = server.url.split('}}').join('}');\n    server.url.replace(/\\{(.+?)\\}/g, function (match, group1) { // TODO extend to :parameters (not port)?\n        if (!server.variables) {\n            server.variables = {};\n        }\n        server.variables[group1] = { default: 'unknown' };\n    });\n    return server;\n}\n\nfunction fixInfo(openapi, options, reject) {\n    if ((typeof openapi.info === 'undefined') || (openapi.info === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info = { version: '', title: '' };\n        }\n        else {\n            return reject(new S2OError('(Patchable) info object is mandatory'));\n        }\n    }\n    if ((typeof openapi.info !== 'object') || (Array.isArray(openapi.info))) {\n        return reject(new S2OError('info must be an object'));\n    }\n    if ((typeof openapi.info.title === 'undefined') || (openapi.info.title === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.title = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.title cannot be null'));\n        }\n    }\n    if ((typeof openapi.info.version === 'undefined') || (openapi.info.version === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version cannot be null'));\n        }\n    }\n    if (typeof openapi.info.version !== 'string') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = openapi.info.version.toString();\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version must be a string'));\n        }\n    }\n    if (typeof openapi.info.logo !== 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info['x-logo'] = openapi.info.logo;\n            delete openapi.info.logo;\n        }\n        else return reject(new S2OError('(Patchable) info should not have logo property'));\n    }\n    if (typeof openapi.info.termsOfService !== 'undefined') {\n        if (openapi.info.termsOfService === null) {\n            if (options.patch) {\n                options.patches++;\n                openapi.info.termsOfService = '';\n            }\n            else {\n                return reject(new S2OError('(Patchable) info.termsOfService cannot be null'));\n            }\n        }\n        try {\n            let u = new URL(openapi.info.termsOfService);\n        }\n        catch (ex) {\n            if (options.patch) {\n                options.patches++;\n                delete openapi.info.termsOfService;\n            }\n            else return reject(new S2OError('(Patchable) info.termsOfService must be a URL'));\n        }\n    }\n}\n\nfunction fixPaths(openapi, options, reject) {\n    if (typeof openapi.paths === 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.paths = {};\n        }\n        else {\n            return reject(new S2OError('(Patchable) paths object is mandatory'));\n        }\n    }\n}\n\nfunction detectObjectReferences(obj, options) {\n    const seen = new WeakSet();\n    recurse(obj, {identityDetection:true}, function (obj, key, state) {\n        if ((typeof obj[key] === 'object') && (obj[key] !== null)) {\n            if (seen.has(obj[key])) {\n                if (options.anchors) {\n                    obj[key] = clone(obj[key]);\n                }\n                else {\n                    throwError('YAML anchor or merge key at '+state.path, options);\n                }\n            }\n            else {\n                seen.add(obj[key]);\n            }\n        }\n    });\n}\n\nfunction convertObj(swagger, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        if (!swagger) swagger = {};\n        options.original = swagger;\n        if (!options.text) options.text = yaml.stringify(swagger);\n        options.externals = [];\n        options.externalRefs = {};\n        options.rewriteRefs = true; // avoids stack explosions\n        options.preserveMiro = true;\n        options.promise = {};\n        options.promise.resolve = resolve;\n        options.promise.reject = reject;\n        options.patches = 0;\n        if (!options.cache) options.cache = {};\n        if (options.source) options.cache[options.source] = options.original;\n\n        detectObjectReferences(swagger, options);\n\n        if (swagger.openapi && (typeof swagger.openapi === 'string') && swagger.openapi.startsWith('3.')) {\n            options.openapi = cclone(swagger);\n            fixInfo(options.openapi, options, reject);\n            fixPaths(options.openapi, options, reject);\n\n            resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n            .then(function(){\n                if (options.direct) {\n                    return resolve(options.openapi);\n                }\n                else {\n                    return resolve(options);\n                }\n            })\n            .catch(function(ex){\n                console.warn(ex);\n                reject(ex);\n            });\n            return; // we should have resolved or rejected by now\n        }\n\n        if ((!swagger.swagger) || (swagger.swagger != \"2.0\")) {\n            return reject(new S2OError('Unsupported swagger/OpenAPI version: ' + (swagger.openapi ? swagger.openapi : swagger.swagger)));\n        }\n\n        let openapi = options.openapi = {};\n        openapi.openapi = (typeof options.targetVersion === 'string' && options.targetVersion.startsWith('3.')) ? options.targetVersion : targetVersion; // semver\n\n        if (options.origin) {\n            if (!openapi[\"x-origin\"]) {\n                openapi[\"x-origin\"] = [];\n            }\n            let origin = {};\n            origin.url = options.source||options.origin;\n            origin.format = 'swagger';\n            origin.version = swagger.swagger;\n            origin.converter = {};\n            origin.converter.url = 'https://github.com/mermade/oas-kit';\n            origin.converter.version = ourVersion;\n            openapi[\"x-origin\"].push(origin);\n        }\n\n        // we want the new and existing properties to appear in a sensible order. Not guaranteed\n        openapi = Object.assign(openapi, cclone(swagger));\n        delete openapi.swagger;\n        recurse(openapi, {}, function(obj, key, state){\n            if ((obj[key] === null) && (!key.startsWith('x-')) && key !== 'default' && (state.path.indexOf('/example') < 0)) delete obj[key]; // this saves *so* much grief later\n        });\n\n        if (swagger.host) {\n            for (let s of (Array.isArray(swagger.schemes) ? swagger.schemes : [''])) {\n                let server = {};\n                server.url = (s ? s+':' : '') + '//' + swagger.host + (swagger.basePath ? swagger.basePath : '');\n                extractServerParameters(server);\n                if (!openapi.servers) openapi.servers = [];\n                openapi.servers.push(server);\n            }\n        }\n        else if (swagger.basePath) {\n            let server = {};\n            server.url = swagger.basePath;\n            extractServerParameters(server);\n            if (!openapi.servers) openapi.servers = [];\n            openapi.servers.push(server);\n        }\n        delete openapi.host;\n        delete openapi.basePath;\n\n        if (openapi['x-servers'] && Array.isArray(openapi['x-servers'])) {\n            openapi.servers = openapi['x-servers'];\n            delete openapi['x-servers'];\n        }\n\n        // TODO APIMatic extensions (x-server-configuration) ?\n\n        if (swagger['x-ms-parameterized-host']) {\n            let xMsPHost = swagger['x-ms-parameterized-host'];\n            let server = {};\n            server.url = xMsPHost.hostTemplate + (swagger.basePath ? swagger.basePath : '');\n            server.variables = {};\n            const paramNames = server.url.match(/\\{\\w+\\}/g);\n            for (let msp in xMsPHost.parameters) {\n                let param = xMsPHost.parameters[msp];\n                if (param.$ref) {\n                    param = clone(resolveInternal(openapi, param.$ref));\n                }\n                if (!msp.startsWith('x-')) {\n                    delete param.required; // all true\n                    delete param.type; // all strings\n                    delete param.in; // all 'host'\n                    if (typeof param.default === 'undefined') {\n                        if (param.enum) {\n                            param.default = param.enum[0];\n                        }\n                        else {\n                            param.default = '';\n                        }\n                    }\n                    if (!param.name) {\n                      param.name = paramNames[msp].replace('{','').replace('}','');\n                    }\n                    server.variables[param.name] = param;\n                    delete param.name;\n                }\n            }\n            if (!openapi.servers) openapi.servers = [];\n            if (xMsPHost.useSchemePrefix === false) {\n                // The server URL already includes a protocol scheme\n                openapi.servers.push(server);\n            } else {\n                // Define this server once for each given protocol scheme\n                swagger.schemes.forEach((scheme) => {\n                    openapi.servers.push(\n                        Object.assign({}, server, { url: scheme + '://' + server.url })\n                    )\n                });\n            }\n            delete openapi['x-ms-parameterized-host'];\n        }\n\n        fixInfo(openapi, options, reject);\n        fixPaths(openapi, options, reject);\n\n        if (typeof openapi.consumes === 'string') {\n            openapi.consumes = [openapi.consumes];\n        }\n        if (typeof openapi.produces === 'string') {\n            openapi.produces = [openapi.produces];\n        }\n\n        openapi.components = {};\n        if (openapi['x-callbacks']) {\n            openapi.components.callbacks = openapi['x-callbacks'];\n            delete openapi['x-callbacks'];\n        }\n        openapi.components.examples = {};\n        openapi.components.headers = {};\n        if (openapi['x-links']) {\n            openapi.components.links = openapi['x-links'];\n            delete openapi['x-links'];\n        }\n        openapi.components.parameters = openapi.parameters || {};\n        openapi.components.responses = openapi.responses || {};\n        openapi.components.requestBodies = {};\n        openapi.components.securitySchemes = openapi.securityDefinitions || {};\n        openapi.components.schemas = openapi.definitions || {};\n        delete openapi.definitions;\n        delete openapi.responses;\n        delete openapi.parameters;\n        delete openapi.securityDefinitions;\n\n        resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n        .then(function(){\n            main(options.openapi, options);\n            if (options.direct) {\n                resolve(options.openapi);\n            }\n            else {\n                resolve(options);\n            }\n        })\n        .catch(function(ex){\n            console.warn(ex);\n            reject(ex);\n        });\n\n    }));\n}\n\nfunction convertStr(str, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let obj = null;\n        let error = null;\n        try {\n            obj = JSON.parse(str);\n            options.text = JSON.stringify(obj,null,2);\n        }\n        catch (ex) {\n            error = ex;\n            try {\n                obj = yaml.parse(str, { schema: 'core', prettyErrors: true });\n                options.sourceYaml = true;\n                options.text = str;\n            }\n            catch (ex) {\n                error = ex;\n            }\n        }\n        if (obj) {\n            convertObj(obj, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }\n        else {\n            reject(new S2OError(error ? error.message : 'Could not parse string'));\n        }\n    }));\n}\n\nfunction convertUrl(url, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        options.origin = true;\n        if (!options.source) {\n            options.source = url;\n        }\n        if (options.verbose) {\n            console.warn('GET ' + url);\n        }\n        if (!options.fetch) {\n          options.fetch = fetch;\n        }\n        const fetchOptions = Object.assign({}, options.fetchOptions, {agent:options.agent});\n        options.fetch(url, fetchOptions).then(function (res) {\n            if (res.status !== 200) throw new S2OError(`Received status code ${res.status}: ${url}`);\n            return res.text();\n        }).then(function (body) {\n            convertStr(body, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }).catch(function (err) {\n            reject(err);\n        });\n    }));\n}\n\nfunction convertFile(filename, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        fs.readFile(filename, options.encoding || 'utf8', function (err, s) {\n            if (err) {\n                reject(err);\n            }\n            else {\n                options.sourceFile = filename;\n                convertStr(s, options)\n                .then(options => resolve(options))\n                .catch(ex => reject(ex));\n            }\n        });\n    }));\n}\n\nfunction convertStream(readable, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let data = '';\n        readable.on('data', function (chunk) {\n            data += chunk;\n        })\n        .on('end', function () {\n            convertStr(data, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        });\n    }));\n}\n\nmodule.exports = {\n    S2OError: S2OError,\n    targetVersion: targetVersion,\n    convert: convertObj,\n    convertObj: convertObj,\n    convertUrl: convertUrl,\n    convertStr: convertStr,\n    convertFile: convertFile,\n    convertStream: convertStream\n};\n","'use strict';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nmodule.exports = memoizeOne;\n","module.exports = require(\"@redocly/react-dropdown-aria\");","module.exports = require(\"dompurify\");","module.exports = require(\"classnames\");","module.exports = require(\"react-switch\");","module.exports = require(\"react-ace\");","module.exports = require(\"call-me-maybe\");","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst url = require('url');\n\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js').jptr;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst clone = require('reftools/lib/clone.js').clone;\nconst deRef = require('reftools/lib/dereference.js').dereference;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst common = require('oas-kit-common');\n\nfunction unique(arr) {\n    return [... new Set(arr)];\n}\n\nfunction readFileAsync(filename, encoding, options, pointer, def) {\n    return new Promise(function (resolve, reject) {\n        fs.readFile(filename, encoding, function (err, data) {\n            if (err) {\n                if (options.ignoreIOErrors && def) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    resolve(def);\n                }\n                else {\n                    reject(err);\n                }\n            }\n            else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nfunction resolveAllFragment(obj, context, src, parentPath, base, options) {\n\n    let attachPoint = options.externalRefs[src+parentPath].paths[0];\n\n    let baseUrl = url.parse(base);\n    let seen = {}; // seen is indexed by the $ref value and contains path replacements\n    let changes = 1;\n    while (changes) {\n        changes = 0;\n        recurse(obj, {identityDetection:true}, function (obj, key, state) {\n            if (isRef(obj, key)) {\n                if (obj[key].startsWith('#')) {\n                    if (!seen[obj[key]] && !obj.$fixed) {\n                        let target = clone(jptr(context, obj[key]));\n                        if (options.verbose>1) console.warn((target === false ? common.colour.red : common.colour.green)+'Fragment resolution', obj[key], common.colour.normal);\n                        /*\n                            ResolutionCase:A is where there is a local reference in an externally\n                            referenced document, and we have not seen it before. The reference\n                            is replaced by a copy of the data pointed to, which may be outside this fragment\n                            but within the context of the external document\n                        */\n                        if (target === false) {\n                            state.parent[state.pkey] = {}; /* case:A(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Fragment $ref resolution failed '+obj[key]);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                        else {\n                            changes++;\n                            state.parent[state.pkey] = target;\n                            seen[obj[key]] = state.path.replace('/%24ref','');\n                        }\n                    }\n                    else {\n                        if (!obj.$fixed) {\n                            let newRef = (attachPoint+'/'+seen[obj[key]]).split('/#/').join('/');\n                            state.parent[state.pkey] = { $ref: newRef, 'x-miro': obj[key], $fixed: true };\n                            if (options.verbose>1) console.warn('Replacing with',newRef);\n                            changes++;\n                        }\n                        /*\n                            ResolutionCase:B is where there is a local reference in an externally\n                            referenced document, and we have seen this reference before and resolved it.\n                            We create a new object containing the (immutable) $ref string\n                        */\n                    }\n                }\n                else if (baseUrl.protocol) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external url ref',obj[key],'as',newRef,common.colour.normal);\n                    obj['x-miro'] = obj[key];\n                    if (options.externalRefs[obj[key]]) {\n                        if (!options.externalRefs[newRef]) {\n                            options.externalRefs[newRef] = options.externalRefs[obj[key]];\n                        }\n                        options.externalRefs[newRef].failed = options.externalRefs[obj[key]].failed;\n                    }\n                    obj[key] = newRef;\n                }\n                else if (!obj['x-miro']) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    let failed = false;\n                    if (options.externalRefs[obj[key]]) {\n                        failed = options.externalRefs[obj[key]].failed;\n                    }\n                    if (!failed) {\n                        if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external ref',obj[key],'as',newRef,common.colour.normal);\n                        obj['x-miro'] = obj[key]; // we use x-miro as a flag so we don't do this > once\n                        obj[key] = newRef;\n                    }\n                }\n            }\n        });\n    }\n\n    recurse(obj,{},function(obj,key,state){\n        if (isRef(obj, key)) {\n            if (typeof obj.$fixed !== 'undefined') delete obj.$fixed;\n        }\n    });\n\n    if (options.verbose>1) console.warn('Finished fragment resolution');\n    return obj;\n}\n\nfunction filterData(data, options) {\n    if (!options.filters || !options.filters.length) return data;\n    for (let filter of options.filters) {\n        data = filter(data, options);\n    }\n    return data;\n}\n\nfunction testProtocol(input, backup) {\n    if (input && input.length > 2) return input;\n    if (backup && backup.length > 2) return backup;\n    return 'file:';\n}\n\nfunction resolveExternal(root, pointer, options, callback) {\n    var u = url.parse(options.source);\n    var base = options.source.split('\\\\').join('/').split('/');\n    let doc = base.pop(); // drop the actual filename\n    if (!doc) base.pop(); // in case it ended with a /\n    let fragment = '';\n    let fnComponents = pointer.split('#');\n    if (fnComponents.length > 1) {\n        fragment = '#' + fnComponents[1];\n        pointer = fnComponents[0];\n    }\n    base = base.join('/');\n\n    let u2 = url.parse(pointer);\n    let effectiveProtocol = testProtocol(u2.protocol, u.protocol);\n\n    let target;\n    if (effectiveProtocol === 'file:') {\n        target = path.resolve(base ? base + '/' : '', pointer);\n    }\n    else {\n        target = url.resolve(base ? base + '/' : '', pointer);\n    }\n\n    if (options.cache[target]) {\n        if (options.verbose) console.warn('CACHED', target, fragment);\n        /*\n            resolutionSource:A this is where we have cached the externally-referenced document from a\n            file, http or custom handler\n        */\n        let context = clone(options.cache[target]);\n        let data = options.externalRef = context;\n        if (fragment) {\n            data = jptr(data, fragment);\n            if (data === false) {\n                data = {}; // case:A(2) where the resolution fails\n                if (options.fatal) {\n                    let ex = new Error('Cached $ref resolution failed '+target+fragment);\n                    if (options.promise) options.promise.reject(ex)\n                    else throw ex;\n                }\n            }\n        }\n        data = resolveAllFragment(data, context, pointer, fragment, target, options);\n        data = filterData(data, options);\n        callback(clone(data), target, options);\n        return Promise.resolve(data);\n    }\n\n    if (options.verbose) console.warn('GET', target, fragment);\n\n    if (options.handlers && options.handlers[effectiveProtocol]) {\n        return options.handlers[effectiveProtocol](base, pointer, fragment, options)\n            .then(function (data) {\n                options.externalRef = data;\n                data = filterData(data, options);\n                options.cache[target] = data;\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(ex){\n                if (options.verbose) console.warn(ex);\n                throw ex;\n            });\n    }\n    else if (effectiveProtocol && effectiveProtocol.startsWith('http')) {\n        const fetchOptions = Object.assign({}, options.fetchOptions, { agent: options.agent });\n        return options.fetch(target, fetchOptions)\n            .then(function (res) {\n                if (res.status !== 200) {\n                  if (options.ignoreIOErrors) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    return '{\"$ref\":\"'+pointer+'\"}';\n                  }\n                  else {\n                    throw new Error(`Received status code ${res.status}: ${target}`);\n                  }\n                }\n                return res.text();\n            })\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    options.cache[target] = clone(data);\n                    /* resolutionSource:B, from the network, data is fresh, but we clone it into the cache */\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:B(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Remote $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function (err) {\n                if (options.verbose) console.warn(err);\n                options.cache[target] = {};\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n    else {\n        const def = '{\"$ref\":\"'+pointer+'\"}';\n        return readFileAsync(target, options.encoding || 'utf8', options, pointer, def)\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    /*\n                        resolutionSource:C from a file, data is fresh but we clone it into the cache\n                    */\n                    options.cache[target] = clone(data);\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:C(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('File $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(err){\n                if (options.verbose) console.warn(err);\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n}\n\nfunction scanExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        function inner(obj,key,state){\n            if (obj[key] && isRef(obj[key],'$ref')) {\n                let $ref = obj[key].$ref;\n                if (!$ref.startsWith('#')) { // is external\n\n                    let $extra = '';\n\n                    if (!refs[$ref]) {\n                        let potential = Object.keys(refs).find(function(e,i,a){\n                            return $ref.startsWith(e+'/');\n                        });\n                        if (potential) {\n                            if (options.verbose) console.warn('Found potential subschema at',potential);\n                            $extra = '/'+($ref.split('#')[1]||'').replace(potential.split('#')[1]||'');\n                            $extra = $extra.split('/undefined').join(''); // FIXME\n                            $ref = potential;\n                        }\n                    }\n\n                    if (!refs[$ref]) {\n                        refs[$ref] = { resolved: false, paths: [], extras:{}, description: obj[key].description };\n                    }\n                    if (refs[$ref].resolved) {\n                        // we've already seen it\n                        if (refs[$ref].failed) {\n                          // do none\n                        }\n                        else if (options.rewriteRefs) {\n                            let newRef = refs[$ref].resolvedAt;\n                            if (options.verbose>1) console.warn('Rewriting ref', $ref, newRef);\n                            obj[key]['x-miro'] = $ref;\n                            obj[key].$ref = newRef+$extra; // resolutionCase:C (new string)\n                        }\n                        else {\n                            obj[key] = clone(refs[$ref].data); // resolutionCase:D (cloned:yes)\n                        }\n                    }\n                    else {\n                        refs[$ref].paths.push(state.path);\n                        refs[$ref].extras[state.path] = $extra;\n                    }\n                }\n            }\n        }\n\n        let refs = options.externalRefs;\n\n        if ((options.resolver.depth>0) && (options.source === options.resolver.base)) {\n            // we only need to do any of this when called directly on pass #1\n            return res(refs);\n        }\n\n        recurse(options.openapi.definitions, {identityDetection: true, path: '#/definitions'}, inner);\n        recurse(options.openapi.components, {identityDetection: true, path: '#/components'}, inner);\n        recurse(options.openapi, {identityDetection: true}, inner);\n\n        res(refs);\n    });\n}\n\nfunction findExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        scanExternalRefs(options)\n        .then(function (refs) {\n            for (let ref in refs) {\n\n                if (!refs[ref].resolved) {\n                    let depth = options.resolver.depth;\n                    if (depth>0) depth++;\n                    options.resolver.actions[depth].push(function () {\n                        return resolveExternal(options.openapi, ref, options, function (data, source, options) {\n                            if (!refs[ref].resolved) {\n                                let external = {};\n                                external.context = refs[ref];\n                                external.$ref = ref;\n                                external.original = clone(data);\n                                external.updated = data;\n                                external.source = source;\n                                options.externals.push(external);\n                                refs[ref].resolved = true;\n                            }\n\n                            let localOptions = Object.assign({}, options, { source: '',\n                                resolver: {actions: options.resolver.actions,\n                                depth: options.resolver.actions.length-1, base: options.resolver.base } });\n                            if (options.patch && refs[ref].description && !data.description &&\n                                (typeof data === 'object')) {\n                                data.description = refs[ref].description;\n                            }\n                            refs[ref].data = data;\n\n                            // sorting $refs by length causes bugs (due to overlapping regions?)\n                            let pointers = unique(refs[ref].paths);\n                            pointers = pointers.sort(function(a,b){\n                                const aComp = (a.startsWith('#/components/') || a.startsWith('#/definitions/'));\n                                const bComp = (b.startsWith('#/components/') || b.startsWith('#/definitions/'));\n                                if (aComp && !bComp) return -1;\n                                if (bComp && !aComp) return +1;\n                                return 0;\n                            });\n\n                            for (let ptr of pointers) {\n                                // shared x-ms-examples $refs confuse the fixupRefs heuristic in index.js\n                                if (refs[ref].resolvedAt && (ptr !== refs[ref].resolvedAt) && (ptr.indexOf('x-ms-examples/')<0)) {\n                                    if (options.verbose>1) console.warn('Creating pointer to data at', ptr);\n                                    jptr(options.openapi, ptr, { $ref: refs[ref].resolvedAt+refs[ref].extras[ptr], 'x-miro': ref+refs[ref].extras[ptr] }); // resolutionCase:E (new object)\n                                }\n                                else {\n                                    if (refs[ref].resolvedAt) {\n                                        if (options.verbose>1) console.warn('Avoiding circular reference');\n                                    }\n                                    else {\n                                        refs[ref].resolvedAt = ptr;\n                                        if (options.verbose>1) console.warn('Creating initial clone of data at', ptr);\n                                    }\n                                    let cdata = clone(data);\n                                    jptr(options.openapi, ptr, cdata); // resolutionCase:F (cloned:yes)\n                                }\n                            }\n                            if (options.resolver.actions[localOptions.resolver.depth].length === 0) {\n                                //options.resolver.actions[localOptions.resolver.depth].push(function () { return scanExternalRefs(localOptions) });\n                                options.resolver.actions[localOptions.resolver.depth].push(function () { return findExternalRefs(localOptions) }); // findExternalRefs calls scanExternalRefs\n                            }\n                        });\n                    });\n                }\n            }\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n\n        let result = {options:options};\n        result.actions = options.resolver.actions[options.resolver.depth];\n        res(result);\n    });\n}\n\nconst serial = funcs =>\n    funcs.reduce((promise, func) =>\n        promise.then(result => func().then(Array.prototype.concat.bind(result))), Promise.resolve([]));\n\nfunction loopReferences(options, res, rej) {\n    options.resolver.actions.push([]);\n    findExternalRefs(options)\n        .then(function (data) {\n            serial(data.actions)\n                .then(function () {\n                    if (options.resolver.depth>=options.resolver.actions.length) {\n                        console.warn('Ran off the end of resolver actions');\n                        return res(true);\n                    } else {\n                        options.resolver.depth++;\n                        if (options.resolver.actions[options.resolver.depth].length) {\n                            setTimeout(function () {\n                                loopReferences(data.options, res, rej);\n                            }, 0);\n                        }\n                        else {\n                            if (options.verbose>1) console.warn(common.colour.yellow+'Finished external resolution!',common.colour.normal);\n                            if (options.resolveInternal) {\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Starting internal resolution!',common.colour.normal);\n                                options.openapi = deRef(options.openapi,options.original,{verbose:options.verbose-1});\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Finished internal resolution!',common.colour.normal);\n                            }\n                            recurse(options.openapi,{},function(obj,key,state){\n                                if (isRef(obj, key)) {\n                                    if (!options.preserveMiro) delete obj['x-miro'];\n                                }\n                            });\n                            res(options);\n                        }\n                    }\n                })\n                .catch(function (ex) {\n                    if (options.verbose) console.warn(ex);\n                    rej(ex);\n                });\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n}\n\nfunction setupOptions(options) {\n    if (!options.cache) options.cache = {};\n    if (!options.fetch) options.fetch = fetch;\n\n    if (options.source) {\n        let srcUrl = url.parse(options.source);\n        if (!srcUrl.protocol || srcUrl.protocol.length <= 2) { // windows drive-letters\n            options.source = path.resolve(options.source);\n        }\n    }\n\n    options.externals = [];\n    options.externalRefs = {};\n    options.rewriteRefs = true;\n    options.resolver = {};\n    options.resolver.depth = 0;\n    options.resolver.base = options.source;\n    options.resolver.actions = [[]];\n}\n\n/** compatibility function for swagger2openapi */\nfunction optionalResolve(options) {\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        if (options.resolve)\n            loopReferences(options, res, rej)\n        else\n            res(options);\n    });\n}\n\nfunction resolve(openapi,source,options) {\n    if (!options) options = {};\n    options.openapi = openapi;\n    options.source = source;\n    options.resolve = true;\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        loopReferences(options, res, rej)\n    });\n}\n\nmodule.exports = {\n    optionalResolve: optionalResolve,\n    resolve: resolve\n};\n\n","'use strict';\n\nconst recurse = require('./recurse.js').recurse;\nconst clone = require('./clone.js').shallowClone;\nconst jptr = require('./jptr.js').jptr;\nconst isRef = require('./isref.js').isRef;\n\nvar getLogger = function (options) {\n    if (options && options.verbose) {\n        return {\n            warn: function() {\n                var args = Array.prototype.slice.call(arguments);\n                console.warn.apply(console, args);\n            }\n        }\n    }\n    else {\n        return {\n            warn: function() {\n                //nop\n            }\n        }\n    }\n}\n\n/**\n* dereferences the given object\n* @param o the object to dereference\n* @definitions a source of definitions to reference\n* @options optional settings (used recursively)\n* @return the dereferenced object\n*/\nfunction dereference(o,definitions,options) {\n    if (!options) options = {};\n    if (!options.cache) options.cache = {};\n    if (!options.state) options.state = {};\n    options.state.identityDetection = true;\n    // options.depth allows us to limit cloning to the first invocation\n    options.depth = (options.depth ? options.depth+1 : 1);\n    let obj = (options.depth > 1 ? o : clone(o));\n    let container = { data: obj };\n    let defs = (options.depth > 1 ? definitions : clone(definitions));\n    // options.master is the top level object, regardless of depth\n    if (!options.master) options.master = obj;\n\n    let logger = getLogger(options);\n\n    let changes = 1;\n    while (changes > 0) {\n        changes = 0;\n    recurse(container,options.state,function(obj,key,state){\n        if (isRef(obj,key)) {\n            let $ref = obj[key]; // immutable\n            changes++;\n            if (!options.cache[$ref]) {\n                let entry = {};\n                entry.path = state.path.split('/$ref')[0];\n                entry.key = $ref;\n                logger.warn('Dereffing %s at %s',$ref,entry.path);\n                entry.source = defs;\n                entry.data = jptr(entry.source,entry.key);\n                if (entry.data === false) {\n                    entry.data = jptr(options.master,entry.key);\n                    entry.source = options.master;\n                }\n                if (entry.data === false) {\n                    logger.warn('Missing $ref target',entry.key);\n                }\n                options.cache[$ref] = entry;\n                entry.data = state.parent[state.pkey] = dereference(jptr(entry.source,entry.key),entry.source,options);\n                if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                entry.resolved = true;\n            }\n            else {\n                let entry = options.cache[$ref];\n                if (entry.resolved) {\n                    // we have already seen and resolved this reference\n                    logger.warn('Patching %s for %s',$ref,entry.path);\n                    state.parent[state.pkey] = entry.data;\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                }\n                else if ($ref === entry.path) {\n                    // reference to itself, throw\n                    throw new Error(`Tight circle at ${entry.path}`);\n                }\n                else {\n                    // we're dealing with a circular reference here\n                    logger.warn('Unresolved ref');\n                    state.parent[state.pkey] = jptr(entry.source,entry.path);\n                    if (state.parent[state.pkey] === false) {\n                        state.parent[state.pkey] = jptr(entry.source,entry.key);\n                    }\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[options.$ref] = $ref;\n                }\n            }\n        }\n    });\n    }\n    return container.data;\n}\n\nmodule.exports = {\n    dereference : dereference\n};\n\n","module.exports = require(\"fast-safe-stringify\");","'use strict';\n\n/**\n* functions to walk an OpenAPI schema object and traverse all subschemas\n* calling a callback function on each one\n*/\n\n/**\n* obtains the default starting state for the `state` object used\n* by walkSchema\n* @return the state object suitable for use in walkSchema\n*/\nfunction getDefaultState() {\n    return { depth: 0, seen: new WeakMap(), top: true, combine: false, allowRefSiblings: false };\n}\n\n/**\n* begins the walk of a schema object\n* @param schema the schema object to walk\n* @param parent the parent schema, if any. Use empty object if none\n* @param state the initial starting state of the walker, usually obtained from `getDefaultState`. Use empty object to auto-initialise\n* @param callback a function taking a schema, parent and state to be called on this and all subschemas\n* @return the schema object\n*/\nfunction walkSchema(schema, parent, state, callback) {\n\n    if (typeof state.depth === 'undefined') state = getDefaultState();\n    if ((schema === null) || (typeof schema === 'undefined')) return schema;\n    if (typeof schema.$ref !== 'undefined') {\n        let temp = {$ref:schema.$ref};\n        if (state.allowRefSiblings && schema.description) {\n            temp.description = schema.description;\n        }\n        callback(temp,parent,state);\n        return temp; // all other properties SHALL be ignored\n    }\n\n    if (state.combine) {\n        if (schema.allOf && Array.isArray(schema.allOf) && schema.allOf.length === 1) {\n            schema = Object.assign({},schema.allOf[0],schema);\n            delete schema.allOf;\n        }\n        if (schema.anyOf && Array.isArray(schema.anyOf) && schema.anyOf.length === 1) {\n            schema = Object.assign({},schema.anyOf[0],schema);\n            delete schema.anyOf;\n        }\n        if (schema.oneOf && Array.isArray(schema.oneOf) && schema.oneOf.length === 1) {\n            schema = Object.assign({},schema.oneOf[0],schema);\n            delete schema.oneOf;\n        }\n    }\n\n    callback(schema,parent,state);\n    if (state.seen.has(schema)) {\n        return schema;\n    }\n    //else\n    if ((typeof schema === 'object') && (schema !== null)) state.seen.set(schema,true);\n    state.top = false;\n    state.depth++;\n\n    if (typeof schema.items !== 'undefined') {\n        state.property = 'items';\n        walkSchema(schema.items,schema,state,callback);\n    }\n    if (schema.additionalItems) {\n        if (typeof schema.additionalItems === 'object') {\n            state.property = 'additionalItems';\n            walkSchema(schema.additionalItems,schema,state,callback);\n        }\n    }\n    if (schema.additionalProperties) {\n        if (typeof schema.additionalProperties === 'object') {\n            state.property = 'additionalProperties';\n            walkSchema(schema.additionalProperties,schema,state,callback);\n        }\n    }\n    if (schema.properties) {\n        for (let prop in schema.properties) {\n            let subSchema = schema.properties[prop];\n            state.property = 'properties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.patternProperties) {\n        for (let prop in schema.patternProperties) {\n            let subSchema = schema.patternProperties[prop];\n            state.property = 'patternProperties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.allOf) {\n        for (let index in schema.allOf) {\n            let subSchema = schema.allOf[index];\n            state.property = 'allOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.anyOf) {\n        for (let index in schema.anyOf) {\n            let subSchema = schema.anyOf[index];\n            state.property = 'anyOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.oneOf) {\n        for (let index in schema.oneOf) {\n            let subSchema = schema.oneOf[index];\n            state.property = 'oneOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.not) {\n        state.property = 'not';\n        walkSchema(schema.not,schema,state,callback);\n    }\n    state.depth--;\n    return schema;\n}\n\nmodule.exports = {\n    getDefaultState: getDefaultState,\n    walkSchema: walkSchema\n};\n\n","'use strict';\n\nconst http = require('http');\n\nconst ours = {\n    \"default\": \"Default response\",\n    \"1XX\": \"Informational\",\n    \"103\": \"Early hints\", // not in Node < 10\n    \"2XX\": \"Successful\",\n    \"3XX\": \"Redirection\",\n    \"4XX\": \"Client Error\",\n    \"5XX\": \"Server Error\",\n    \"7XX\": \"Developer Error\" // April fools RFC\n};\n\nmodule.exports = {\n    statusCodes: Object.assign({},ours,http.STATUS_CODES)\n};\n\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","module.exports = require(\"base64-js\");","module.exports = require(\"ieee754\");","module.exports = require(\"isarray\");","module.exports = require(\"to-arraybuffer\");","module.exports = require(\"xtend\");","module.exports = require(\"builtin-status-codes\");","module.exports = require(\"prismjs/components/prism-bash.js\");","module.exports = require(\"prismjs/components/prism-c.js\");","module.exports = require(\"prismjs/components/prism-clike.js\");","module.exports = require(\"prismjs/components/prism-coffeescript.js\");","module.exports = require(\"prismjs/components/prism-cpp.js\");","module.exports = require(\"prismjs/components/prism-csharp.js\");","module.exports = require(\"prismjs/components/prism-go.js\");","module.exports = require(\"prismjs/components/prism-http.js\");","module.exports = require(\"prismjs/components/prism-java.js\");","module.exports = require(\"prismjs/components/prism-lua.js\");","module.exports = require(\"prismjs/components/prism-markup-templating.js\");","module.exports = require(\"prismjs/components/prism-markup.js\");","module.exports = require(\"prismjs/components/prism-objectivec.js\");","module.exports = require(\"prismjs/components/prism-perl.js\");","module.exports = require(\"prismjs/components/prism-php.js\");","module.exports = require(\"prismjs/components/prism-python.js\");","module.exports = require(\"prismjs/components/prism-ruby.js\");","module.exports = require(\"prismjs/components/prism-scala.js\");","module.exports = require(\"prismjs/components/prism-sql.js\");","module.exports = require(\"prismjs/components/prism-swift.js\");","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"add\",\"done\",\"toJS\",\"fromExternalJS\",\"load\",\"dispose\",\"search\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"e61ed2e87d483d7b2309.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","export default function addMethods(worker, methods) {\n\tlet c = 0;\n\tlet callbacks = {};\n\tworker.addEventListener('message', (e) => {\n\t\tlet d = e.data;\n\t\tif (d.type!=='RPC') return;\n\t\tif (d.id) {\n\t\t\tlet f = callbacks[d.id];\n\t\t\tif (f) {\n\t\t\t\tdelete callbacks[d.id];\n\t\t\t\tif (d.error) {\n\t\t\t\t\tf[1](Object.assign(Error(d.error.message), d.error));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf[0](d.result);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tlet evt = document.createEvent('Event');\n\t\t\tevt.initEvent(d.method, false, false);\n\t\t\tevt.data = d.params;\n\t\t\tworker.dispatchEvent(evt);\n\t\t}\n\t});\n\tmethods.forEach( method => {\n\t\tworker[method] = (...params) => new Promise( (a, b) => {\n\t\t\tlet id = ++c;\n\t\t\tcallbacks[id] = [a, b];\n\t\t\tworker.postMessage({ type: 'RPC', id, method, params });\n\t\t});\n\t});\n}\n","module.exports = require(\"core-js/es/promise\");","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = require(\"brace/mode/curly\");","module.exports = require(\"brace/mode/json\");","module.exports = require(\"brace/theme/github\");","module.exports = require(\"brace/theme/monokai\");","module.exports = require(\"qs\");","module.exports = require(\"stickyfill\");","import { darken, desaturate, lighten, readableColor, transparentize } from 'polished';\nconst defaultTheme: ThemeInterface = {\n  spacing: {\n    unit: 5,\n    sectionHorizontal: ({\n      spacing\n    }) => spacing.unit * 8,\n    sectionVertical: ({\n      spacing\n    }) => spacing.unit * 8\n  },\n  breakpoints: {\n    small: '50rem',\n    medium: '75rem',\n    large: '105rem'\n  },\n  colors: {\n    tonalOffset: 0.2,\n    primary: {\n      main: '#32329f',\n      light: ({\n        colors\n      }) => lighten(colors.tonalOffset, colors.primary.main),\n      dark: ({\n        colors\n      }) => darken(colors.tonalOffset, colors.primary.main),\n      contrastText: ({\n        colors\n      }) => readableColor(colors.primary.main)\n    },\n    success: {\n      main: '#1d8127',\n      light: ({\n        colors\n      }) => lighten(colors.tonalOffset * 2, colors.success.main),\n      dark: ({\n        colors\n      }) => darken(colors.tonalOffset, colors.success.main),\n      contrastText: ({\n        colors\n      }) => readableColor(colors.success.main)\n    },\n    warning: {\n      main: '#ffa500',\n      light: ({\n        colors\n      }) => lighten(colors.tonalOffset, colors.warning.main),\n      dark: ({\n        colors\n      }) => darken(colors.tonalOffset, colors.warning.main),\n      contrastText: '#ffffff'\n    },\n    error: {\n      main: '#d41f1c',\n      light: ({\n        colors\n      }) => lighten(colors.tonalOffset, colors.error.main),\n      dark: ({\n        colors\n      }) => darken(colors.tonalOffset, colors.error.main),\n      contrastText: ({\n        colors\n      }) => readableColor(colors.error.main)\n    },\n    gray: {\n      50: '#FAFAFA',\n      100: '#F5F5F5'\n    },\n    text: {\n      primary: '#333333',\n      secondary: ({\n        colors\n      }) => lighten(colors.tonalOffset, colors.text.primary)\n    },\n    border: {\n      dark: 'rgba(0,0,0, 0.1)',\n      light: '#ffffff'\n    },\n    responses: {\n      success: {\n        color: ({\n          colors\n        }) => colors.success.main,\n        backgroundColor: ({\n          colors\n        }) => transparentize(0.93, colors.success.main),\n        tabTextColor: ({\n          colors\n        }) => colors.responses.success.color\n      },\n      error: {\n        color: ({\n          colors\n        }) => colors.error.main,\n        backgroundColor: ({\n          colors\n        }) => transparentize(0.93, colors.error.main),\n        tabTextColor: ({\n          colors\n        }) => colors.responses.error.color\n      },\n      redirect: {\n        color: ({\n          colors\n        }) => colors.warning.main,\n        backgroundColor: ({\n          colors\n        }) => transparentize(0.9, colors.responses.redirect.color),\n        tabTextColor: ({\n          colors\n        }) => colors.responses.redirect.color\n      },\n      info: {\n        color: '#87ceeb',\n        backgroundColor: ({\n          colors\n        }) => transparentize(0.9, colors.responses.info.color),\n        tabTextColor: ({\n          colors\n        }) => colors.responses.info.color\n      }\n    },\n    http: {\n      get: '#2F8132',\n      post: '#186FAF',\n      put: '#95507c',\n      options: '#947014',\n      patch: '#bf581d',\n      delete: '#cc3333',\n      basic: '#707070',\n      link: '#07818F',\n      head: '#A23DAD'\n    }\n  },\n  schema: {\n    linesColor: theme => lighten(theme.colors.tonalOffset, desaturate(theme.colors.tonalOffset, theme.colors.primary.main)),\n    defaultDetailsWidth: '75%',\n    typeNameColor: theme => theme.colors.text.secondary,\n    typeTitleColor: theme => theme.schema.typeNameColor,\n    requireLabelColor: theme => theme.colors.error.main,\n    labelsTextSize: '0.9em',\n    nestingSpacing: '1em',\n    nestedBackground: '#fafafa',\n    arrow: {\n      size: '1.1em',\n      color: theme => theme.colors.text.secondary\n    }\n  },\n  typography: {\n    fontSize: '14px',\n    lineHeight: '1.5em',\n    fontWeightRegular: '400',\n    fontWeightBold: '600',\n    fontWeightLight: '300',\n    fontFamily: 'Roboto, sans-serif, Vazir',\n    smoothing: 'antialiased',\n    optimizeSpeed: true,\n    headings: {\n      fontFamily: 'Montserrat, sans-serif, Vazir',\n      fontWeight: '400',\n      lineHeight: '1.6em'\n    },\n    code: {\n      fontSize: '13px',\n      fontFamily: 'Courier, monospace, Vazir',\n      lineHeight: ({\n        typography\n      }) => typography.lineHeight,\n      fontWeight: ({\n        typography\n      }) => typography.fontWeightRegular,\n      color: '#e53935',\n      backgroundColor: 'rgba(38, 50, 56, 0.05)',\n      wrap: false\n    },\n    links: {\n      color: ({\n        colors\n      }) => colors.primary.main,\n      visited: ({\n        typography\n      }) => typography.links.color,\n      hover: ({\n        typography\n      }) => lighten(0.2, typography.links.color)\n    }\n  },\n  codeSample: {\n    backgroundColor: ({\n      rightPanel\n    }) => darken(0.1, rightPanel.backgroundColor),\n    textColor: ({\n      rightPanel\n    }) => rightPanel.textColor\n  },\n  sidebar: {\n    width: '260px',\n    backgroundColor: '#fafafa',\n    textColor: '#333333',\n    activeTextColor: theme => theme.sidebar.textColor !== defaultTheme.sidebar!.textColor ? theme.sidebar.textColor : theme.colors.primary.main,\n    groupItems: {\n      textTransform: 'uppercase'\n    },\n    level1Items: {\n      textTransform: 'none'\n    },\n    arrow: {\n      size: '1.5em',\n      color: theme => theme.sidebar.textColor\n    }\n  },\n  logo: {\n    maxHeight: ({\n      sidebar\n    }) => sidebar.width,\n    maxWidth: ({\n      sidebar\n    }) => sidebar.width,\n    gutter: '2px'\n  },\n  rightPanel: {\n    backgroundColor: '#263238',\n    width: '40%',\n    textColor: '#ffffff'\n  },\n  codeBlock: {\n    backgroundColor: ({\n      rightPanel\n    }) => darken(0.1, rightPanel.backgroundColor),\n    textColor: ({\n      rightPanel\n    }) => rightPanel.textColor\n  },\n  styledPre: {\n    maxHeight: '500px'\n  }\n};\nexport default defaultTheme;\nexport function resolveTheme(theme: ThemeInterface): ResolvedThemeInterface {\n  const resolvedValues = {};\n  let counter = 0;\n\n  const setProxy = (obj, path: string) => {\n    Object.keys(obj).forEach(k => {\n      const currentPath = (path ? path + '.' : '') + k;\n      const val = obj[k];\n\n      if (typeof val === 'function') {\n        Object.defineProperty(obj, k, {\n          get() {\n            if (!resolvedValues[currentPath]) {\n              counter++;\n\n              if (counter > 1000) {\n                throw new Error(`Theme probably contains circular dependency at ${currentPath}: ${val.toString()}`);\n              }\n\n              resolvedValues[currentPath] = val(theme);\n            }\n\n            return resolvedValues[currentPath];\n          },\n\n          enumerable: true\n        });\n      } else if (typeof val === 'object') {\n        setProxy(val, currentPath);\n      }\n    });\n  };\n\n  setProxy(theme, '');\n  return JSON.parse(JSON.stringify(theme));\n}\nexport interface ColorSetting {\n  main: string;\n  light: string;\n  dark: string;\n  contrastText: string;\n}\nexport interface HTTPResponseColos {\n  color: string;\n  backgroundColor: string;\n  tabTextColor: string;\n}\nexport interface FontSettings {\n  fontSize: string;\n  fontWeight: string;\n  fontFamily: string;\n  lineHeight: string;\n  color: string;\n}\nexport interface ResolvedThemeInterface {\n  spacing: {\n    unit: number;\n    sectionHorizontal: number;\n    sectionVertical: number;\n  };\n  breakpoints: {\n    small: string;\n    medium: string;\n    large: string;\n  };\n  colors: {\n    tonalOffset: number;\n    primary: ColorSetting;\n    success: ColorSetting;\n    warning: ColorSetting;\n    error: ColorSetting;\n    gray: {\n      50: string;\n      100: string;\n    };\n    border: {\n      light: string;\n      dark: string;\n    };\n    text: {\n      primary: string;\n      secondary: string;\n    };\n    responses: {\n      success: HTTPResponseColos;\n      error: HTTPResponseColos;\n      redirect: HTTPResponseColos;\n      info: HTTPResponseColos;\n    };\n    http: {\n      get: string;\n      post: string;\n      put: string;\n      options: string;\n      patch: string;\n      delete: string;\n      basic: string;\n      link: string;\n      head: string;\n    };\n  };\n  schema: {\n    linesColor: string;\n    defaultDetailsWidth: string;\n    typeNameColor: string;\n    typeTitleColor: string;\n    requireLabelColor: string;\n    labelsTextSize: string;\n    nestingSpacing: string;\n    nestedBackground: string;\n    arrow: {\n      size: string;\n      color: string;\n    };\n  };\n  typography: {\n    fontSize: string;\n    lineHeight: string;\n    fontWeightLight: string;\n    fontWeightRegular: string;\n    fontWeightBold: string;\n    fontFamily: string;\n    direction?: 'ltr' | 'rtl';\n    smoothing: string;\n    optimizeSpeed: boolean;\n    code: FontSettings & {\n      backgroundColor: string;\n      wrap: boolean;\n    };\n    headings: {\n      fontFamily: string;\n      fontWeight: string;\n      lineHeight: string;\n    };\n    links: {\n      color: string;\n      visited: string;\n      hover: string;\n    };\n  };\n  sidebar: {\n    width: string;\n    backgroundColor: string;\n    textColor: string;\n    activeTextColor: string;\n    groupItems: {\n      textTransform: string;\n    };\n    level1Items: {\n      textTransform: string;\n    };\n    arrow: {\n      size: string;\n      color: string;\n    };\n  };\n  logo: {\n    maxHeight: string;\n    maxWidth: string;\n    gutter: string;\n  };\n  rightPanel: {\n    backgroundColor: string;\n    textColor: string;\n    width: string;\n  };\n  codeBlock: {\n    backgroundColor: string;\n    textColor: string;\n  };\n  codeSample: {\n    backgroundColor: string;\n    textColor: string;\n  };\n  extensionsHook?: (name: string, props: any) => string;\n  styledPre: {\n    maxHeight: string;\n  };\n}\nexport type primitive = string | number | boolean | undefined | null;\nexport type AdvancedThemeDeep<T> = T extends primitive ? T | ((theme: ResolvedThemeInterface) => T) : AdvancedThemeObject<T>;\nexport type AdvancedThemeObject<T> = { [P in keyof T]?: AdvancedThemeDeep<T[P]> };\nexport type ThemeInterface = AdvancedThemeObject<ResolvedThemeInterface>;","import slugify from 'slugify';\nimport { format, parse } from 'url';\n/**\r\n * Maps over array passing `isLast` bool to iterator as the second argument\r\n */\n\nexport function mapWithLast<T, P>(array: T[], iteratee: (item: T, isLast: boolean) => P) {\n  const res: P[] = [];\n\n  for (let i = 0; i < array.length - 1; i++) {\n    res.push(iteratee(array[i], false));\n  }\n\n  if (array.length !== 0) {\n    res.push(iteratee(array[array.length - 1], true));\n  }\n\n  return res;\n}\n/**\r\n * Creates an object with the same keys as object and values generated by running each\r\n * own enumerable string keyed property of object thru iteratee.\r\n * The iteratee is invoked with three arguments: (value, key, object).\r\n *\r\n * @param object the object to iterate over\r\n * @param iteratee the function invoked per iteration.\r\n */\n\nexport function mapValues<T, P>(object: Record<string, T>, iteratee: (val: T, key: string, obj: Record<string, T>) => P): Record<string, P> {\n  const res: {\n    [key: string]: P;\n  } = {};\n\n  for (const key in object) {\n    if (object.hasOwnProperty(key)) {\n      res[key] = iteratee(object[key], key, object);\n    }\n  }\n\n  return res;\n}\n/**\r\n * flattens collection using `prop` field as a children\r\n * @param collectionItems collection items\r\n * @param prop item property with child elements\r\n */\n\nexport function flattenByProp<T extends object, P extends keyof T>(collectionItems: T[], prop: P): T[] {\n  const res: T[] = [];\n\n  const iterate = (items: T[]) => {\n    for (const item of items) {\n      res.push(item);\n\n      if (item[prop]) {\n        iterate(((item[prop] as any) as T[]));\n      }\n    }\n  };\n\n  iterate(collectionItems);\n  return res;\n}\nexport function stripTrailingSlash(path: string): string {\n  if (path.endsWith('/')) {\n    return path.substring(0, path.length - 1);\n  }\n\n  return path;\n}\nexport function isNumeric(n: any): n is number {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nexport function appendToMdHeading(md: string, heading: string, content: string) {\n  // if  heading is already in md and append to the end of it\n  const testRegex = new RegExp(`(^|\\\\n)#\\\\s?${heading}\\\\s*\\\\n`, 'i');\n  const replaceRegex = new RegExp(`((\\\\n|^)#\\\\s*${heading}\\\\s*(\\\\n|$)(?:.|\\\\n)*?)(\\\\n#|$)`, 'i');\n\n  if (testRegex.test(md)) {\n    return md.replace(replaceRegex, `$1\\n\\n${content}\\n$4`);\n  } else {\n    // else append heading itself\n    const br = md === '' || md.endsWith('\\n\\n') ? '' : md.endsWith('\\n') ? '\\n' : '\\n\\n';\n    return `${md}${br}# ${heading}\\n\\n${content}`;\n  }\n} // credits https://stackoverflow.com/a/46973278/1749888\n\nexport const mergeObjects = (target: any, ...sources: any[]): any => {\n  if (!sources.length) {\n    return target;\n  }\n\n  const source = sources.shift();\n\n  if (source === undefined) {\n    return target;\n  }\n\n  if (isMergebleObject(target) && isMergebleObject(source)) {\n    Object.keys(source).forEach((key: string) => {\n      if (isMergebleObject(source[key])) {\n        if (!target[key]) {\n          target[key] = {};\n        }\n\n        mergeObjects(target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    });\n  }\n\n  return mergeObjects(target, ...sources);\n};\n\nconst isObject = (item: any): boolean => {\n  return item !== null && typeof item === 'object';\n};\n\nconst isMergebleObject = (item): boolean => {\n  return isObject(item) && !Array.isArray(item);\n};\n/**\r\n * slugify() returns empty string when failed to slugify.\r\n * so try to return minimum slugified-string with failed one which keeps original value\r\n * the regex codes are referenced with https://gist.github.com/mathewbyrne/1280286\r\n */\n\n\nexport function safeSlugify(value: string): string {\n  return slugify(value) || value.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n  .replace(/&/g, '-and-') // Replace & with 'and'\n  .replace(/\\--+/g, '-') // Replace multiple - with single -\n  .replace(/^-+/, '') // Trim - from start of text\n  .replace(/-+$/, ''); // Trim - from end of text\n}\nexport function isAbsoluteUrl(url: string) {\n  return /(?:^[a-z][a-z0-9+.-]*:|\\/\\/)/i.test(url);\n}\n/**\r\n * simple resolve URL which doesn't break on strings with url fragments\r\n * e.g. resolveUrl('http://test.com:{port}', 'path') results in http://test.com:{port}/path\r\n */\n\nexport function resolveUrl(url: string, to: string) {\n  let res;\n\n  if (to.startsWith('//')) {\n    const {\n      protocol: specProtocol\n    } = parse(url);\n    res = `${specProtocol || 'https:'}${to}`;\n  } else if (isAbsoluteUrl(to)) {\n    res = to;\n  } else if (!to.startsWith('/')) {\n    res = stripTrailingSlash(url) + '/' + to;\n  } else {\n    const urlObj = parse(url);\n    res = format({ ...urlObj,\n      pathname: to\n    });\n  }\n\n  return stripTrailingSlash(res);\n}\nexport function getBasePath(serverUrl: string): string {\n  try {\n    return parseURL(serverUrl).pathname;\n  } catch (e) {\n    // when using with redoc-cli serverUrl can be empty resulting in crash\n    return serverUrl;\n  }\n}\nexport function titleize(text: string) {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\nexport function removeQueryString(serverUrl: string): string {\n  try {\n    const url = parseURL(serverUrl);\n    url.search = '';\n    return url.toString();\n  } catch (e) {\n    // when using with redoc-cli serverUrl can be empty resulting in crash\n    return serverUrl;\n  }\n}\n\nfunction parseURL(url: string) {\n  if (typeof URL === 'undefined') {\n    // node\n    return new (require('url').URL)(url);\n  } else {\n    return new URL(url);\n  }\n}\n\nexport function unescapeHTMLChars(str: string): string {\n  return str.replace(/&#(\\d+);/g, (_m, code) => String.fromCharCode(parseInt(code, 10))).replace(/&amp;/g, '&');\n}","export interface LabelsConfig {\n  enum: string;\n  enumSingleValue: string;\n  enumArray: string;\n  default: string;\n  deprecated: string;\n  example: string;\n  examples: string;\n  nullable: string;\n  recursive: string;\n  arrayOf: string;\n  webhook: string;\n}\nexport type LabelsConfigRaw = Partial<LabelsConfig>;\nconst labels: LabelsConfig = {\n  enum: 'Enum',\n  enumSingleValue: 'Value',\n  enumArray: 'Items',\n  default: 'Default',\n  deprecated: 'Deprecated',\n  example: 'Example',\n  examples: 'Examples',\n  nullable: 'Nullable',\n  recursive: 'Recursive',\n  arrayOf: 'Array of ',\n  webhook: 'Event'\n};\nexport function setRedocLabels(_labels?: LabelsConfigRaw) {\n  Object.assign(labels, _labels);\n}\nexport function l(key: keyof LabelsConfig, idx?: number): string {\n  const label = labels[key];\n\n  if (idx !== undefined) {\n    return label[idx];\n  }\n\n  return label;\n}","import defaultTheme, { ResolvedThemeInterface, resolveTheme, ThemeInterface } from '../theme';\nimport { querySelector } from '../utils/dom';\nimport { isNumeric, mergeObjects } from '../utils/helpers';\nimport { LabelsConfigRaw, setRedocLabels } from './Labels';\nimport { MDXComponentMeta } from './MarkdownRenderer';\nexport interface RedocRawOptions {\n  theme?: ThemeInterface;\n  scrollYOffset?: number | string | (() => number);\n  hideHostname?: boolean | string;\n  enableConsole?: boolean;\n  additionalHeaders?: object;\n  expandResponses?: string | 'all';\n  requiredPropsFirst?: boolean | string;\n  sortPropsAlphabetically?: boolean | string;\n  sortEnumValuesAlphabetically?: boolean | string;\n  noAutoAuth?: boolean | string;\n  nativeScrollbars?: boolean | string;\n  pathInMiddlePanel?: boolean | string;\n  untrustedSpec?: boolean | string;\n  hideLoading?: boolean | string;\n  hideDownloadButton?: boolean | string;\n  disableSearch?: boolean | string;\n  onlyRequiredInSamples?: boolean | string;\n  showExtensions?: boolean | string | string[];\n  hideSingleRequestSampleTab?: boolean | string;\n  menuToggle?: boolean | string;\n  jsonSampleExpandLevel?: number | string | 'all';\n  hideSchemaTitles?: boolean | string;\n  simpleOneOfTypeLabel?: boolean | string;\n  payloadSampleIdx?: number;\n  expandSingleSchemaField?: boolean | string;\n  providedByName?: string;\n  providedByUri?: string;\n  queryParamPrefix?: string;\n  queryParamSuffix?: string;\n  unstable_ignoreMimeParameters?: boolean;\n  allowedMdComponents?: Record<string, MDXComponentMeta>;\n  labels?: LabelsConfigRaw;\n  enumSkipQuotes?: boolean | string;\n  expandDefaultServerVariables?: boolean;\n  maxDisplayedEnumValues?: number;\n  ignoreNamedSchemas?: string[] | string;\n  hideSchemaPattern?: boolean;\n}\n\nfunction argValueToBoolean(val?: string | boolean, defaultValue?: boolean): boolean {\n  if (val === undefined) {\n    return defaultValue || false;\n  }\n\n  if (typeof val === 'string') {\n    return val === 'false' ? false : true;\n  }\n\n  return val;\n}\n\nfunction argValueToNumber(value: number | string | undefined): number | undefined {\n  if (typeof value === 'string') {\n    return parseInt(value, 10);\n  }\n\n  if (typeof value === 'number') {\n    return value;\n  }\n}\n\nexport class RedocNormalizedOptions {\n  static normalizeExpandResponses(value: RedocRawOptions['expandResponses']) {\n    if (value === 'all') {\n      return 'all';\n    }\n\n    if (typeof value === 'string') {\n      const res = {};\n      value.split(',').forEach(code => {\n        res[code.trim()] = true;\n      });\n      return res;\n    } else if (value !== undefined) {\n      console.warn(`expandResponses must be a string but received value \"${value}\" of type ${typeof value}`);\n    }\n\n    return {};\n  }\n\n  static normalizeHideHostname(value: RedocRawOptions['hideHostname']): boolean {\n    return !!value;\n  }\n\n  static normalizeScrollYOffset(value: RedocRawOptions['scrollYOffset']): () => number {\n    // just number is not valid selector and leads to crash so checking if isNumeric here\n    if (typeof value === 'string' && !isNumeric(value)) {\n      const el = querySelector(value);\n\n      if (!el) {\n        console.warn('scrollYOffset value is a selector to non-existing element. Using offset 0 by default');\n      }\n\n      const bottom = el && el.getBoundingClientRect().bottom || 0;\n      return () => bottom;\n    } else if (typeof value === 'number' || isNumeric(value)) {\n      return () => typeof value === 'number' ? value : parseFloat(value);\n    } else if (typeof value === 'function') {\n      return () => {\n        const res = value();\n\n        if (typeof res !== 'number') {\n          console.warn(`scrollYOffset should return number but returned value \"${res}\" of type ${typeof res}`);\n        }\n\n        return res;\n      };\n    } else if (value !== undefined) {\n      console.warn('Wrong value for scrollYOffset ReDoc option: should be string, number or function');\n    }\n\n    return () => 0;\n  }\n\n  static normalizeShowExtensions(value: RedocRawOptions['showExtensions']): string[] | boolean {\n    if (typeof value === 'undefined') {\n      return false;\n    }\n\n    if (value === '') {\n      return true;\n    }\n\n    if (typeof value !== 'string') {\n      return value;\n    }\n\n    switch (value) {\n      case 'true':\n        return true;\n\n      case 'false':\n        return false;\n\n      default:\n        return value.split(',').map(ext => ext.trim());\n    }\n  }\n\n  static normalizePayloadSampleIdx(value: RedocRawOptions['payloadSampleIdx']): number {\n    if (typeof value === 'number') {\n      return Math.max(0, value); // always greater or equal than 0\n    }\n\n    if (typeof value === 'string') {\n      return isFinite(value) ? parseInt(value, 10) : 0;\n    }\n\n    return 0;\n  }\n\n  private static normalizeJsonSampleExpandLevel(level?: number | string | 'all'): number {\n    if (level === 'all') {\n      return +Infinity;\n    }\n\n    if (!isNaN(Number(level))) {\n      return Math.ceil(Number(level));\n    }\n\n    return 2;\n  }\n\n  theme: ResolvedThemeInterface;\n  scrollYOffset: () => number;\n  hideHostname: boolean;\n  expandResponses: {\n    [code: string]: boolean;\n  } | 'all';\n  requiredPropsFirst: boolean;\n  sortPropsAlphabetically: boolean;\n  sortEnumValuesAlphabetically: boolean;\n  noAutoAuth: boolean;\n  nativeScrollbars: boolean;\n  pathInMiddlePanel: boolean;\n  untrustedSpec: boolean;\n  hideDownloadButton: boolean;\n  disableSearch: boolean;\n  onlyRequiredInSamples: boolean;\n  showExtensions: boolean | string[];\n  hideSingleRequestSampleTab: boolean;\n  menuToggle: boolean;\n  jsonSampleExpandLevel: number;\n  enumSkipQuotes: boolean;\n  hideSchemaTitles: boolean;\n  simpleOneOfTypeLabel: boolean;\n  payloadSampleIdx: number;\n  enableConsole: boolean;\n  additionalHeaders: object;\n  providedByName: string;\n  providedByUri: string;\n  queryParamPrefix: string;\n  queryParamSuffix: string;\n  expandSingleSchemaField: boolean;\n  /* tslint:disable-next-line */\n\n  unstable_ignoreMimeParameters: boolean;\n  allowedMdComponents: Record<string, MDXComponentMeta>;\n  expandDefaultServerVariables: boolean;\n  maxDisplayedEnumValues?: number;\n  ignoreNamedSchemas: Set<string>;\n  hideSchemaPattern: boolean;\n\n  constructor(raw: RedocRawOptions, defaults: RedocRawOptions = {}) {\n    raw = { ...defaults,\n      ...raw\n    };\n    const hook = raw.theme && raw.theme.extensionsHook; // migrate from old theme\n\n    if ((raw.theme as any)?.menu && !raw.theme?.sidebar) {\n      console.warn('Theme setting \"menu\" is deprecated. Rename to \"sidebar\"');\n      raw.theme!.sidebar = (raw.theme as any).menu;\n    }\n\n    if ((raw.theme as any)?.codeSample && !raw.theme?.codeBlock) {\n      console.warn('Theme setting \"codeSample\" is deprecated. Rename to \"codeBlock\"');\n      raw.theme!.codeBlock = (raw.theme as any).codeSample;\n    }\n\n    this.theme = resolveTheme(mergeObjects(({} as any), defaultTheme, { ...raw.theme,\n      extensionsHook: undefined\n    }));\n    this.theme.extensionsHook = (hook as any); // do not support dynamic labels changes. Labels should be configured before\n\n    setRedocLabels(raw.labels);\n    this.scrollYOffset = RedocNormalizedOptions.normalizeScrollYOffset(raw.scrollYOffset);\n    this.hideHostname = RedocNormalizedOptions.normalizeHideHostname(raw.hideHostname);\n    this.expandResponses = RedocNormalizedOptions.normalizeExpandResponses(raw.expandResponses);\n    this.requiredPropsFirst = argValueToBoolean(raw.requiredPropsFirst);\n    this.sortPropsAlphabetically = argValueToBoolean(raw.sortPropsAlphabetically);\n    this.sortEnumValuesAlphabetically = argValueToBoolean(raw.sortEnumValuesAlphabetically);\n    this.noAutoAuth = argValueToBoolean(raw.noAutoAuth);\n    this.nativeScrollbars = argValueToBoolean(raw.nativeScrollbars);\n    this.pathInMiddlePanel = argValueToBoolean(raw.pathInMiddlePanel);\n    this.untrustedSpec = argValueToBoolean(raw.untrustedSpec);\n    this.hideDownloadButton = argValueToBoolean(raw.hideDownloadButton);\n    this.disableSearch = argValueToBoolean(raw.disableSearch);\n    this.onlyRequiredInSamples = argValueToBoolean(raw.onlyRequiredInSamples);\n    this.showExtensions = RedocNormalizedOptions.normalizeShowExtensions(raw.showExtensions);\n    this.hideSingleRequestSampleTab = argValueToBoolean(raw.hideSingleRequestSampleTab);\n    this.menuToggle = argValueToBoolean(raw.menuToggle, true);\n    this.jsonSampleExpandLevel = RedocNormalizedOptions.normalizeJsonSampleExpandLevel(raw.jsonSampleExpandLevel);\n    this.enumSkipQuotes = argValueToBoolean(raw.enumSkipQuotes);\n    this.hideSchemaTitles = argValueToBoolean(raw.hideSchemaTitles);\n    this.simpleOneOfTypeLabel = argValueToBoolean(raw.simpleOneOfTypeLabel);\n    this.payloadSampleIdx = RedocNormalizedOptions.normalizePayloadSampleIdx(raw.payloadSampleIdx);\n    this.expandSingleSchemaField = argValueToBoolean(raw.expandSingleSchemaField);\n    this.enableConsole = argValueToBoolean(raw.enableConsole);\n    this.additionalHeaders = raw.additionalHeaders || {};\n    this.providedByName = raw.providedByName || 'Documentation Powered by ReDoc';\n    this.providedByUri = raw.providedByUri || 'https://github.com/Rebilly/ReDoc';\n    this.queryParamPrefix = raw.queryParamPrefix || '{';\n    this.queryParamSuffix = raw.queryParamSuffix || '}';\n    this.unstable_ignoreMimeParameters = argValueToBoolean(raw.unstable_ignoreMimeParameters);\n    this.allowedMdComponents = raw.allowedMdComponents || {};\n    this.expandDefaultServerVariables = argValueToBoolean(raw.expandDefaultServerVariables);\n    this.maxDisplayedEnumValues = argValueToNumber(raw.maxDisplayedEnumValues);\n    const ignoreNamedSchemas = Array.isArray(raw.ignoreNamedSchemas) ? raw.ignoreNamedSchemas : raw.ignoreNamedSchemas?.split(',').map(s => s.trim());\n    this.ignoreNamedSchemas = new Set(ignoreNamedSchemas);\n    this.hideSchemaPattern = argValueToBoolean(raw.hideSchemaPattern);\n  }\n\n}","import * as styledComponents from 'styled-components';\nimport { ResolvedThemeInterface } from './theme';\nexport { ResolvedThemeInterface };\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider\n} = (styledComponents as styledComponents.ThemedStyledComponentsModule<ResolvedThemeInterface>);\nexport const media = {\n  lessThan(breakpoint, print?: boolean, extra?: string) {\n    return (...args) => css`\n      @media ${print ? 'print, ' : ''} screen and (max-width: ${props => props.theme.breakpoints[breakpoint]})${extra || ''} {\n        ${(css as any)(...args)};\n      }\n    `;\n  },\n\n  greaterThan(breakpoint) {\n    return (...args) => css`\n      @media (min-width: ${props => props.theme.breakpoints[breakpoint]}) {\n        ${(css as any)(...args)};\n      }\n    `;\n  },\n\n  between(firstBreakpoint, secondBreakpoint) {\n    return (...args) => css`\n      @media (min-width: ${props => props.theme.breakpoints[firstBreakpoint]}) and (max-width: ${props => props.theme.breakpoints[secondBreakpoint]}) {\n        ${(css as any)(...args)};\n      }\n    `;\n  }\n\n};\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\nexport default styled;\nexport function extensionsHook(styledName: string) {\n  return props => {\n    if (!props.theme.extensionsHook) {\n      return;\n    }\n\n    return props.theme.extensionsHook(styledName, props);\n  };\n}","import * as React from 'react';\nimport styled from '../styled-components';\nconst ErrorWrapper = styled.div`\n  padding: 20px;\n  color: red;\n`;\nexport class ErrorBoundary extends React.Component<React.PropsWithChildren<unknown>, {\n  error?: Error;\n}> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: undefined\n    };\n  }\n\n  componentDidCatch(error) {\n    this.setState({\n      error\n    });\n    return false;\n  }\n\n  render() {\n    if (this.state.error) {\n      return <ErrorWrapper>\r\n          <h1>Something went wrong...</h1>\r\n          <small> {this.state.error.message} </small>\r\n          <p>\r\n            <details>\r\n              <summary>Stack trace</summary>\r\n              <pre>{this.state.error.stack}</pre>\r\n            </details>\r\n          </p>\r\n          <small> ReDoc Version: {__REDOC_VERSION__}</small> <br />\r\n          <small> Commit: {__REDOC_REVISION__}</small>\r\n        </ErrorWrapper>;\n    }\n\n    return React.Children.only(this.props.children);\n  }\n\n}","import * as React from 'react';\nimport styled, { keyframes } from '../../styled-components';\n\nconst _Spinner = (props: {\n  className?: string;\n  color: string;\n}) => <svg className={props.className} version=\"1.1\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\r\n    <path d=\"M275.682 147.999c0 10.864-8.837 19.661-19.682 19.661v0c-10.875 0-19.681-8.796-19.681-19.661v-96.635c0-10.885 8.806-19.661 19.681-19.661v0c10.844 0 19.682 8.776 19.682 19.661v96.635z\" />\r\n    <path d=\"M275.682 460.615c0 10.865-8.837 19.682-19.682 19.682v0c-10.875 0-19.681-8.817-19.681-19.682v-96.604c0-10.885 8.806-19.681 19.681-19.681v0c10.844 0 19.682 8.796 19.682 19.682v96.604z\" />\r\n    <path d=\"M147.978 236.339c10.885 0 19.681 8.755 19.681 19.641v0c0 10.885-8.796 19.702-19.681 19.702h-96.624c-10.864 0-19.661-8.817-19.661-19.702v0c0-10.885 8.796-19.641 19.661-19.641h96.624z\" />\r\n    <path d=\"M460.615 236.339c10.865 0 19.682 8.755 19.682 19.641v0c0 10.885-8.817 19.702-19.682 19.702h-96.584c-10.885 0-19.722-8.817-19.722-19.702v0c0-10.885 8.837-19.641 19.722-19.641h96.584z\" />\r\n    <path d=\"M193.546 165.703c7.69 7.66 7.68 20.142 0 27.822v0c-7.701 7.701-20.162 7.701-27.853 0.020l-68.311-68.322c-7.68-7.701-7.68-20.142 0-27.863v0c7.68-7.68 20.121-7.68 27.822 0l68.342 68.342z\" />\r\n    <path d=\"M414.597 386.775c7.7 7.68 7.7 20.163 0.021 27.863v0c-7.7 7.659-20.142 7.659-27.843-0.062l-68.311-68.26c-7.68-7.7-7.68-20.204 0-27.863v0c7.68-7.7 20.163-7.7 27.842 0l68.291 68.322z\" />\r\n    <path d=\"M165.694 318.464c7.69-7.7 20.153-7.7 27.853 0v0c7.68 7.659 7.69 20.163 0 27.863l-68.342 68.322c-7.67 7.659-20.142 7.659-27.822-0.062v0c-7.68-7.68-7.68-20.122 0-27.801l68.311-68.322z\" />\r\n    <path d=\"M386.775 97.362c7.7-7.68 20.142-7.68 27.822 0v0c7.7 7.68 7.7 20.183 0.021 27.863l-68.322 68.311c-7.68 7.68-20.163 7.68-27.843-0.020v0c-7.68-7.68-7.68-20.162 0-27.822l68.322-68.332z\" />\r\n  </svg>;\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\nexport const Spinner = styled(_Spinner)`\n  animation: 2s ${rotate} linear infinite;\n  width: 50px;\n  height: 50px;\n  content: '';\n  display: inline-block;\n  margin-left: -25px;\n\n  path {\n    fill: ${props => props.color};\n  }\n`;","import * as React from 'react';\nimport styled from '../../styled-components';\nimport { Spinner } from './Spinner.svg';\nconst LoadingMessage = styled.div<{\n  color: string;\n}>`\n  font-family: helvetica, sans;\n  width: 100%;\n  text-align: center;\n  font-size: 25px;\n  margin: 30px 0 20px 0;\n  color: ${props => props.color};\n`;\nexport interface LoadingProps {\n  color: string;\n}\nexport class Loading extends React.PureComponent<LoadingProps> {\n  render() {\n    return <div style={{\n      textAlign: 'center'\n    }}>\r\n        <LoadingMessage color={this.props.color}>Loading ...</LoadingMessage>\r\n        <Spinner color={this.props.color} />\r\n      </div>;\n  }\n\n}","import * as React from 'react';\nimport { RedocNormalizedOptions } from '../services/RedocNormalizedOptions';\nexport const OptionsContext = React.createContext(new RedocNormalizedOptions({}));\nexport const OptionsProvider = OptionsContext.Provider;\nexport const OptionsConsumer = OptionsContext.Consumer;","'use strict';\n\nimport * as JsonPointerLib from 'json-pointer';\nconst origParse = JsonPointerLib.parse;\n/**\r\n * Wrapper for JsonPointer. Provides common operations\r\n */\n\nexport class JsonPointer {\n  /**\r\n   * returns last JsonPointer token\r\n   * if level > 1 returns levels last (second last/third last)\r\n   * @example\r\n   * // returns subpath\r\n   * JsonPointerHelper.baseName('/path/0/subpath')\r\n   * // returns foo\r\n   * JsonPointerHelper.baseName('/path/foo/subpath', 2)\r\n   */\n  static baseName(pointer, level = 1) {\n    const tokens = JsonPointer.parse(pointer);\n    return tokens[tokens.length - level];\n  }\n  /**\r\n   * returns dirname of pointer\r\n   * if level > 1 returns corresponding dirname in the hierarchy\r\n   * @example\r\n   * // returns /path/0\r\n   * JsonPointerHelper.dirName('/path/0/subpath')\r\n   * // returns /path\r\n   * JsonPointerHelper.dirName('/path/foo/subpath', 2)\r\n   */\n\n\n  static dirName(pointer, level = 1) {\n    const tokens = JsonPointer.parse(pointer);\n    return JsonPointerLib.compile(tokens.slice(0, tokens.length - level));\n  }\n  /**\r\n   * returns relative path tokens\r\n   * @example\r\n   * // returns ['subpath']\r\n   * JsonPointerHelper.relative('/path/0', '/path/0/subpath')\r\n   * // returns ['foo', 'subpath']\r\n   * JsonPointerHelper.relative('/path', '/path/foo/subpath')\r\n   */\n\n\n  static relative(from, to): string[] {\n    const fromTokens = JsonPointer.parse(from);\n    const toTokens = JsonPointer.parse(to);\n    return toTokens.slice(fromTokens.length);\n  }\n  /**\r\n   * overridden JsonPointer original parse to take care of prefixing '#' symbol\r\n   * that is not valid JsonPointer\r\n   */\n\n\n  static parse(pointer) {\n    let ptr = pointer;\n\n    if (ptr.charAt(0) === '#') {\n      ptr = ptr.substring(1);\n    }\n\n    return origParse(ptr);\n  }\n  /**\r\n   * Creates a JSON pointer path, by joining one or more tokens to a base path.\r\n   *\r\n   * @param {string} base - The base path\r\n   * @param {string|string[]} tokens - The token(s) to append (e.g. [\"name\", \"first\"])\r\n   * @returns {string}\r\n   */\n\n\n  static join(base, tokens) {\n    // TODO: optimize\n    const baseTokens = JsonPointer.parse(base);\n    const resTokens = baseTokens.concat(tokens);\n    return JsonPointerLib.compile(resTokens);\n  }\n\n  static get(object: object, pointer: string) {\n    return JsonPointerLib.get(object, pointer);\n  }\n\n  static compile(tokens: string[]) {\n    return JsonPointerLib.compile(tokens);\n  }\n\n  static escape(pointer: string) {\n    return JsonPointerLib.escape(pointer);\n  }\n\n}\n(JsonPointerLib as any).parse = JsonPointer.parse;\nObject.assign(JsonPointer, JsonPointerLib);\nexport default JsonPointer;","import { dirname } from 'path';\nimport * as URLtemplate from 'url-template';\nimport { FieldModel } from '../services/models';\nimport { OpenAPIParser } from '../services/OpenAPIParser';\nimport { OpenAPIEncoding, OpenAPIMediaType, OpenAPIOperation, OpenAPIParameter, OpenAPIParameterStyle, OpenAPISchema, OpenAPIServer, Referenced } from '../types';\nimport { IS_BROWSER } from './dom';\nimport { isNumeric, removeQueryString, resolveUrl } from './helpers';\n\nfunction isWildcardStatusCode(statusCode: string | number): statusCode is string {\n  return typeof statusCode === 'string' && /\\dxx/i.test(statusCode);\n}\n\nexport function isStatusCode(statusCode: string) {\n  return statusCode === 'default' || isNumeric(statusCode) || isWildcardStatusCode(statusCode);\n}\nexport function getStatusCodeType(statusCode: string | number, defaultAsError = false): string {\n  if (statusCode === 'default') {\n    return defaultAsError ? 'error' : 'success';\n  }\n\n  let code = typeof statusCode === 'string' ? parseInt(statusCode, 10) : statusCode;\n\n  if (isWildcardStatusCode(statusCode)) {\n    code *= 100; // parseInt('2xx') parses to 2\n  }\n\n  if (code < 100 || code > 599) {\n    throw new Error('invalid HTTP code');\n  }\n\n  let res = 'success';\n\n  if (code >= 300 && code < 400) {\n    res = 'redirect';\n  } else if (code >= 400) {\n    res = 'error';\n  } else if (code < 200) {\n    res = 'info';\n  }\n\n  return res;\n}\nconst operationNames = {\n  get: true,\n  post: true,\n  put: true,\n  head: true,\n  patch: true,\n  delete: true,\n  options: true\n};\nexport function isOperationName(key: string): boolean {\n  return key in operationNames;\n}\nexport function getOperationSummary(operation: OpenAPIOperation): string {\n  return operation.summary || operation.operationId || operation.description && operation.description.substring(0, 50) || '<no summary>';\n}\nconst schemaKeywordTypes = {\n  multipleOf: 'number',\n  maximum: 'number',\n  exclusiveMaximum: 'number',\n  minimum: 'number',\n  exclusiveMinimum: 'number',\n  maxLength: 'string',\n  minLength: 'string',\n  pattern: 'string',\n  items: 'array',\n  maxItems: 'array',\n  minItems: 'array',\n  uniqueItems: 'array',\n  maxProperties: 'object',\n  minProperties: 'object',\n  required: 'object',\n  additionalProperties: 'object',\n  properties: 'object'\n};\nexport function detectType(schema: OpenAPISchema): string {\n  if (schema.type !== undefined) {\n    return schema.type;\n  }\n\n  const keywords = Object.keys(schemaKeywordTypes);\n\n  for (const keyword of keywords) {\n    const type = schemaKeywordTypes[keyword];\n\n    if (schema[keyword] !== undefined) {\n      return type;\n    }\n  }\n\n  return 'any';\n}\nexport function isPrimitiveType(schema: OpenAPISchema, type: string | undefined = schema.type) {\n  if (schema.oneOf !== undefined || schema.anyOf !== undefined) {\n    return false;\n  }\n\n  if (type === 'object') {\n    return schema.properties !== undefined ? Object.keys(schema.properties).length === 0 : schema.additionalProperties === undefined;\n  }\n\n  if (type === 'array') {\n    if (schema.items === undefined) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return true;\n}\nexport function isJsonLike(contentType: string): boolean {\n  return contentType.search(/json/i) !== -1;\n}\nexport function isFormUrlEncoded(contentType: string): boolean {\n  return contentType === 'application/x-www-form-urlencoded';\n}\n\nfunction delimitedEncodeField(fieldVal: any, fieldName: string, delimiter: string): string {\n  if (Array.isArray(fieldVal)) {\n    return fieldVal.map(v => v.toString()).join(delimiter);\n  } else if (typeof fieldVal === 'object') {\n    return Object.keys(fieldVal).map(k => `${k}${delimiter}${fieldVal[k]}`).join(delimiter);\n  } else {\n    return fieldName + '=' + fieldVal.toString();\n  }\n}\n\nfunction deepObjectEncodeField(fieldVal: any, fieldName: string): string {\n  if (Array.isArray(fieldVal)) {\n    console.warn('deepObject style cannot be used with array value:' + fieldVal.toString());\n    return '';\n  } else if (typeof fieldVal === 'object') {\n    return Object.keys(fieldVal).map(k => `${fieldName}[${k}]=${fieldVal[k]}`).join('&');\n  } else {\n    console.warn('deepObject style cannot be used with non-object value:' + fieldVal.toString());\n    return '';\n  }\n}\n\nfunction serializeFormValue(name: string, explode: boolean, value: any) {\n  // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\n  const safeName = '__redoc_param_name__';\n  const suffix = explode ? '*' : '';\n  const template = URLtemplate.parse(`{?${safeName}${suffix}}`);\n  return template.expand({\n    [safeName]: value\n  }).substring(1).replace(/__redoc_param_name__/g, name);\n}\n/*\r\n * Should be used only for url-form-encoded body payloads\r\n * To be used for parameters should be extended with other style values\r\n */\n\n\nexport function urlFormEncodePayload(payload: object, encoding: {\n  [field: string]: OpenAPIEncoding;\n} = {}) {\n  if (Array.isArray(payload)) {\n    throw new Error('Payload must have fields: ' + payload.toString());\n  } else {\n    return Object.keys(payload).map(fieldName => {\n      const fieldVal = payload[fieldName];\n      const {\n        style = 'form',\n        explode = true\n      } = encoding[fieldName] || {};\n\n      switch (style) {\n        case 'form':\n          return serializeFormValue(fieldName, explode, fieldVal);\n\n        case 'spaceDelimited':\n          return delimitedEncodeField(fieldVal, fieldName, '%20');\n\n        case 'pipeDelimited':\n          return delimitedEncodeField(fieldVal, fieldName, '|');\n\n        case 'deepObject':\n          return deepObjectEncodeField(fieldVal, fieldName);\n\n        default:\n          // TODO implement rest of styles for path parameters\n          console.warn('Incorrect or unsupported encoding style: ' + style);\n          return '';\n      }\n    }).join('&');\n  }\n}\n\nfunction serializePathParameter(name: string, style: OpenAPIParameterStyle, explode: boolean, value: any): string {\n  const suffix = explode ? '*' : '';\n  let prefix = '';\n\n  if (style === 'label') {\n    prefix = '.';\n  } else if (style === 'matrix') {\n    prefix = ';';\n  } // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\n\n\n  const safeName = '__redoc_param_name__';\n  const template = URLtemplate.parse(`{${prefix}${safeName}${suffix}}`);\n  return template.expand({\n    [safeName]: value\n  }).replace(/__redoc_param_name__/g, name);\n}\n\nfunction serializeQueryParameter(name: string, style: OpenAPIParameterStyle, explode: boolean, value: any): string {\n  switch (style) {\n    case 'form':\n      return serializeFormValue(name, explode, value);\n\n    case 'spaceDelimited':\n      if (!Array.isArray(value)) {\n        console.warn('The style spaceDelimited is only applicable to arrays');\n        return '';\n      }\n\n      if (explode) {\n        return serializeFormValue(name, explode, value);\n      }\n\n      return `${name}=${value.join('%20')}`;\n\n    case 'pipeDelimited':\n      if (!Array.isArray(value)) {\n        console.warn('The style pipeDelimited is only applicable to arrays');\n        return '';\n      }\n\n      if (explode) {\n        return serializeFormValue(name, explode, value);\n      }\n\n      return `${name}=${value.join('|')}`;\n\n    case 'deepObject':\n      if (!explode || Array.isArray(value) || typeof value !== 'object') {\n        console.warn('The style deepObject is only applicable for objects with explode=true');\n        return '';\n      }\n\n      return deepObjectEncodeField(value, name);\n\n    default:\n      console.warn('Unexpected style for query: ' + style);\n      return '';\n  }\n}\n\nfunction serializeHeaderParameter(style: OpenAPIParameterStyle, explode: boolean, value: any): string {\n  switch (style) {\n    case 'simple':\n      const suffix = explode ? '*' : ''; // name is not important here, so use RFC6570 safe name ([a-zA-Z0-9_])\n\n      const name = '__redoc_param_name__';\n      const template = URLtemplate.parse(`{${name}${suffix}}`);\n      return decodeURIComponent(template.expand({\n        [name]: value\n      }));\n\n    default:\n      console.warn('Unexpected style for header: ' + style);\n      return '';\n  }\n}\n\nfunction serializeCookieParameter(name: string, style: OpenAPIParameterStyle, explode: boolean, value: any): string {\n  switch (style) {\n    case 'form':\n      return serializeFormValue(name, explode, value);\n\n    default:\n      console.warn('Unexpected style for cookie: ' + style);\n      return '';\n  }\n}\n\nexport function serializeParameterValueWithMime(value: any, mime: string): string {\n  if (isJsonLike(mime)) {\n    return JSON.stringify(value);\n  } else {\n    console.warn(`Parameter serialization as ${mime} is not supported`);\n    return '';\n  }\n}\nexport function serializeParameterValue(parameter: OpenAPIParameter & {\n  serializationMime?: string;\n}, value: any): string {\n  const {\n    name,\n    style,\n    explode = false,\n    serializationMime\n  } = parameter;\n\n  if (serializationMime) {\n    switch (parameter.in) {\n      case 'path':\n      case 'header':\n        return serializeParameterValueWithMime(value, serializationMime);\n\n      case 'cookie':\n      case 'query':\n        return `${name}=${serializeParameterValueWithMime(value, serializationMime)}`;\n\n      default:\n        console.warn('Unexpected parameter location: ' + parameter.in);\n        return '';\n    }\n  }\n\n  if (!style) {\n    console.warn(`Missing style attribute or content for parameter ${name}`);\n    return '';\n  }\n\n  switch (parameter.in) {\n    case 'path':\n      return serializePathParameter(name, style, explode, value);\n\n    case 'query':\n      return serializeQueryParameter(name, style, explode, value);\n\n    case 'header':\n      return serializeHeaderParameter(style, explode, value);\n\n    case 'cookie':\n      return serializeCookieParameter(name, style, explode, value);\n\n    default:\n      console.warn('Unexpected parameter location: ' + parameter.in);\n      return '';\n  }\n}\nexport function langFromMime(contentType: string): string {\n  if (contentType.search(/xml/i) !== -1) {\n    return 'xml';\n  }\n\n  return 'clike';\n}\nexport function isNamedDefinition(pointer?: string): boolean {\n  return /^#\\/components\\/schemas\\/[^\\/]+$/.test(pointer || '');\n}\nexport function getDefinitionName(pointer?: string): string | undefined {\n  if (!pointer) return undefined;\n  const match = pointer.match(/^#\\/components\\/schemas\\/([^\\/]+)$/);\n  return match === null ? undefined : match[1];\n}\n\nfunction humanizeMultipleOfConstraint(multipleOf: number | undefined): string | undefined {\n  if (multipleOf === undefined) {\n    return;\n  }\n\n  const strigifiedMultipleOf = multipleOf.toString(10);\n\n  if (!/^0\\.0*1$/.test(strigifiedMultipleOf)) {\n    return `multiple of ${strigifiedMultipleOf}`;\n  }\n\n  return `decimal places <= ${strigifiedMultipleOf.split('.')[1].length}`;\n}\n\nfunction humanizeRangeConstraint(description: string, min: number | undefined, max: number | undefined): string | undefined {\n  let stringRange;\n\n  if (min !== undefined && max !== undefined) {\n    if (min === max) {\n      stringRange = `${min} ${description}`;\n    } else {\n      stringRange = `[ ${min} .. ${max} ] ${description}`;\n    }\n  } else if (max !== undefined) {\n    stringRange = `<= ${max} ${description}`;\n  } else if (min !== undefined) {\n    if (min === 1) {\n      stringRange = 'non-empty';\n    } else {\n      stringRange = `>= ${min} ${description}`;\n    }\n  }\n\n  return stringRange;\n}\n\nexport function humanizeConstraints(schema: OpenAPISchema): string[] {\n  const res: string[] = [];\n  const stringRange = humanizeRangeConstraint('characters', schema.minLength, schema.maxLength);\n\n  if (stringRange !== undefined) {\n    res.push(stringRange);\n  }\n\n  const arrayRange = humanizeRangeConstraint('items', schema.minItems, schema.maxItems);\n\n  if (arrayRange !== undefined) {\n    res.push(arrayRange);\n  }\n\n  const multipleOfConstraint = humanizeMultipleOfConstraint(schema.multipleOf);\n\n  if (multipleOfConstraint !== undefined) {\n    res.push(multipleOfConstraint);\n  }\n\n  let numberRange;\n\n  if (schema.minimum !== undefined && schema.maximum !== undefined) {\n    numberRange = schema.exclusiveMinimum ? '( ' : '[ ';\n    numberRange += schema.minimum;\n    numberRange += ' .. ';\n    numberRange += schema.maximum;\n    numberRange += schema.exclusiveMaximum ? ' )' : ' ]';\n  } else if (schema.maximum !== undefined) {\n    numberRange = schema.exclusiveMaximum ? '< ' : '<= ';\n    numberRange += schema.maximum;\n  } else if (schema.minimum !== undefined) {\n    numberRange = schema.exclusiveMinimum ? '> ' : '>= ';\n    numberRange += schema.minimum;\n  }\n\n  if (numberRange !== undefined) {\n    res.push(numberRange);\n  }\n\n  if (schema.uniqueItems) {\n    res.push('unique');\n  }\n\n  return res;\n}\nexport function sortByRequired(fields: FieldModel[], order: string[] = []) {\n  const unrequiredFields: FieldModel[] = [];\n  const orderedFields: FieldModel[] = [];\n  const unorderedFields: FieldModel[] = [];\n  fields.forEach(field => {\n    if (field.required) {\n      order.includes(field.name) ? orderedFields.push(field) : unorderedFields.push(field);\n    } else {\n      unrequiredFields.push(field);\n    }\n  });\n  orderedFields.sort((a, b) => order.indexOf(a.name) - order.indexOf(b.name));\n  return [...orderedFields, ...unorderedFields, ...unrequiredFields];\n}\nexport function sortByField(fields: FieldModel[], param: keyof Pick<FieldModel, 'name' | 'description' | 'kind'>) {\n  return [...fields].sort((a, b) => {\n    return a[param].localeCompare(b[param]);\n  });\n}\nexport function mergeParams(parser: OpenAPIParser, pathParams: Array<Referenced<OpenAPIParameter>> = [], operationParams: Array<Referenced<OpenAPIParameter>> = []): Array<Referenced<OpenAPIParameter>> {\n  const operationParamNames = {};\n  operationParams.forEach(param => {\n    param = parser.shalowDeref(param);\n    operationParamNames[param.name + '_' + param.in] = true;\n  }); // filter out path params overridden by operation ones with the same name\n\n  pathParams = pathParams.filter(param => {\n    param = parser.shalowDeref(param);\n    return !operationParamNames[param.name + '_' + param.in];\n  });\n  return pathParams.concat(operationParams);\n}\nexport function mergeSimilarMediaTypes(types: Record<string, OpenAPIMediaType>): Record<string, OpenAPIMediaType> {\n  const mergedTypes = {};\n  Object.keys(types).forEach(name => {\n    const mime = types[name]; // ignore content type parameters (e.g. charset) and merge\n\n    const normalizedMimeName = name.split(';')[0].trim();\n\n    if (!mergedTypes[normalizedMimeName]) {\n      mergedTypes[normalizedMimeName] = mime;\n      return;\n    }\n\n    mergedTypes[normalizedMimeName] = { ...mergedTypes[normalizedMimeName],\n      ...mime\n    };\n  });\n  return mergedTypes;\n}\nexport function expandDefaultServerVariables(url: string, variables: object = {}) {\n  return url.replace(/(?:{)([\\w-.]+)(?:})/g, (match, name) => variables[name] && variables[name].default || match);\n}\nexport function normalizeServers(specUrl: string | undefined, servers: OpenAPIServer[]): OpenAPIServer[] {\n  const getHref = () => {\n    if (!IS_BROWSER) {\n      return '';\n    }\n\n    const href = window.location.href;\n    return href.endsWith('.html') ? dirname(href) : href;\n  };\n\n  const baseUrl = specUrl === undefined ? removeQueryString(getHref()) : dirname(specUrl);\n\n  if (servers.length === 0) {\n    // Behaviour defined in OpenAPI spec: https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#openapi-object\n    servers = [{\n      url: '/'\n    }];\n  }\n\n  function normalizeUrl(url: string): string {\n    return resolveUrl(baseUrl, url);\n  }\n\n  return servers.map(server => {\n    return { ...server,\n      url: normalizeUrl(server.url),\n      description: server.description || ''\n    };\n  });\n}\nexport const SECURITY_DEFINITIONS_COMPONENT_NAME = 'security-definitions';\nexport const SECURITY_DEFINITIONS_JSX_NAME = 'SecurityDefinitions';\nexport const SCHEMA_DEFINITION_JSX_NAME = 'SchemaDefinition';\nexport let SECURITY_SCHEMES_SECTION_PREFIX = 'section/Authentication/';\nexport function setSecuritySchemePrefix(prefix: string) {\n  SECURITY_SCHEMES_SECTION_PREFIX = prefix;\n}\nexport const shortenHTTPVerb = verb => ({\n  delete: 'del',\n  options: 'opts'\n})[verb] || verb;\nexport function isRedocExtension(key: string): boolean {\n  const redocExtensions = {\n    'x-circular-ref': true,\n    'x-code-samples': true,\n    // deprecated\n    'x-codeSamples': true,\n    'x-displayName': true,\n    'x-examples': true,\n    'x-ignoredHeaderParameters': true,\n    'x-logo': true,\n    'x-nullable': true,\n    'x-servers': true,\n    'x-tagGroups': true,\n    'x-traitTag': true,\n    'x-additionalPropertiesName': true,\n    'x-explicitMappingOnly': true\n  };\n  return key in redocExtensions;\n}\nexport function extractExtensions(obj: object, showExtensions: string[] | true): Record<string, any> {\n  return Object.keys(obj).filter(key => {\n    if (showExtensions === true) {\n      return key.startsWith('x-') && !isRedocExtension(key);\n    }\n\n    return key.startsWith('x-') && showExtensions.indexOf(key) > -1;\n  }).reduce((acc, key) => {\n    acc[key] = obj[key];\n    return acc;\n  }, {});\n}\nexport function pluralizeType(displayType: string): string {\n  return displayType.split(' or ').map(type => type.replace(/^(string|object|number|integer|array|boolean)s?( ?.*)/, '$1s$2')).join(' or ');\n}","import * as Prism from 'prismjs';\nimport 'prismjs/components/prism-bash.js';\nimport 'prismjs/components/prism-c.js';\nimport 'prismjs/components/prism-clike.js';\nimport 'prismjs/components/prism-coffeescript.js';\nimport 'prismjs/components/prism-cpp.js';\nimport 'prismjs/components/prism-csharp.js';\nimport 'prismjs/components/prism-go.js';\nimport 'prismjs/components/prism-http.js';\nimport 'prismjs/components/prism-java.js';\nimport 'prismjs/components/prism-lua.js';\nimport 'prismjs/components/prism-markup-templating.js'; // dep of php\n\nimport 'prismjs/components/prism-markup.js'; // xml\n\nimport 'prismjs/components/prism-objectivec.js';\nimport 'prismjs/components/prism-perl.js';\nimport 'prismjs/components/prism-php.js';\nimport 'prismjs/components/prism-python.js';\nimport 'prismjs/components/prism-ruby.js';\nimport 'prismjs/components/prism-scala.js';\nimport 'prismjs/components/prism-sql.js';\nimport 'prismjs/components/prism-swift.js';\nconst DEFAULT_LANG = 'clike';\nPrism.languages.insertBefore('javascript', 'string', ({\n  'property string': {\n    pattern: /([{,]\\s*)\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/i,\n    lookbehind: true\n  }\n} as any), (undefined as any));\nPrism.languages.insertBefore('javascript', 'punctuation', {\n  property: {\n    pattern: /([{,]\\s*)[a-z]\\w*(?=\\s*:)/i,\n    lookbehind: true\n  }\n}, (undefined as any));\n/**\r\n * map language names to Prism.js names\r\n */\n\nexport function mapLang(lang: string): string {\n  return {\n    json: 'js',\n    'c++': 'cpp',\n    'c#': 'csharp',\n    'objective-c': 'objectivec',\n    shell: 'bash',\n    viml: 'vim'\n  }[lang] || DEFAULT_LANG;\n}\n/**\r\n * Highlight source code string using Prism.js\r\n * @param source source code to highlight\r\n * @param lang highlight language\r\n * @return highlighted source code as **html string**\r\n */\n\nexport function highlight(source: string | number | boolean, lang: string = DEFAULT_LANG): string {\n  lang = lang.toLowerCase();\n  let grammar = Prism.languages[lang];\n\n  if (!grammar) {\n    grammar = Prism.languages[mapLang(lang)];\n  }\n\n  return Prism.highlight(source.toString(), grammar, lang);\n}","function throttle(func, wait) {\n  let context;\n  let args;\n  let result;\n  let timeout: any = null;\n  let previous = 0;\n\n  const later = () => {\n    previous = new Date().getTime();\n    timeout = null;\n    result = func.apply(context, args);\n\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n\n  return function () {\n    const now = new Date().getTime();\n    const remaining = wait - (now - previous);\n    context = this; // eslint-disable-next-line prefer-rest-params\n\n    args = arguments;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func.apply(context, args);\n\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\nexport function Throttle(delay: number) {\n  return (_, _2, desc: PropertyDescriptor) => {\n    desc.value = throttle(desc.value, delay);\n  };\n}","export function debugTime(label: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.time(label);\n  }\n}\nexport function debugTimeEnd(label: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.timeEnd(label);\n  }\n}","// source: https://github.com/andreypopp/memoize-decorator\nconst SENTINEL = {};\nexport function memoize<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\n  if (typeof descriptor.value === 'function') {\n    return ((_memoizeMethod(target, name, descriptor) as any) as TypedPropertyDescriptor<T>);\n  } else if (typeof descriptor.get === 'function') {\n    return (_memoizeGetter(target, name, descriptor) as TypedPropertyDescriptor<T>);\n  } else {\n    throw new Error('@memoize decorator can be applied to methods or getters, got ' + String(descriptor.value) + ' instead');\n  }\n}\n\nfunction _memoizeGetter(target: any, name: string, descriptor: PropertyDescriptor) {\n  const memoizedName = `_memoized_${name}`;\n  const get = descriptor.get!;\n  target[memoizedName] = SENTINEL;\n  return { ...descriptor,\n\n    get() {\n      if (this[memoizedName] === SENTINEL) {\n        this[memoizedName] = get.call(this);\n      }\n\n      return this[memoizedName];\n    }\n\n  };\n}\n\nfunction _memoizeMethod<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\n  if (!descriptor.value || (descriptor.value as any).length > 0) {\n    throw new Error('@memoize decorator can only be applied to methods of zero arguments');\n  }\n\n  const memoizedName = `_memoized_${name}`;\n  const value = descriptor.value;\n  target[memoizedName] = SENTINEL;\n  return { ...descriptor,\n\n    value() {\n      if (this[memoizedName] === SENTINEL) {\n        this[memoizedName] = (value as any).call(this);\n      }\n\n      return (this[memoizedName] as any);\n    }\n\n  };\n}","export * from './JsonPointer';\nexport * from './openapi';\nexport * from './helpers';\nexport * from './highlight';\nexport * from './loadAndBundleSpec';\nexport * from './dom';\nexport * from './decorators';\nexport * from './debug';\nexport * from './memoize';","import { bind, debounce } from 'decko';\nimport { EventEmitter } from 'eventemitter3';\nimport { IS_BROWSER } from '../utils/';\nconst EVENT = 'hashchange';\nexport class HistoryService {\n  private _emiter;\n\n  constructor() {\n    this._emiter = new EventEmitter();\n    this.bind();\n  }\n\n  get currentId(): string {\n    return IS_BROWSER ? decodeURIComponent(window.location.hash.substring(1)) : '';\n  }\n\n  linkForId(id: string) {\n    if (!id) {\n      return '';\n    }\n\n    return '#' + id;\n  }\n\n  subscribe(cb): () => void {\n    const emmiter = this._emiter.addListener(EVENT, cb);\n\n    return () => emmiter.removeListener(EVENT, cb);\n  }\n\n  emit = () => {\n    this._emiter.emit(EVENT, this.currentId);\n  };\n\n  bind() {\n    if (IS_BROWSER) {\n      window.addEventListener('hashchange', this.emit, false);\n    }\n  }\n\n  dispose() {\n    if (IS_BROWSER) {\n      window.removeEventListener('hashchange', this.emit);\n    }\n  }\n\n  @bind\n  @debounce\n  replace(id: string | null, rewriteHistory: boolean = false) {\n    if (!IS_BROWSER) {\n      return;\n    }\n\n    if (id == null || id === this.currentId) {\n      return;\n    }\n\n    if (rewriteHistory) {\n      window.history.replaceState(null, '', window.location.href.split('#')[0] + this.linkForId(id));\n      return;\n    }\n\n    window.history.pushState(null, '', window.location.href.split('#')[0] + this.linkForId(id));\n    this.emit();\n  }\n\n}\nexport const history = new HistoryService();\n\nif (module.hot) {\n  module.hot.dispose(() => {\n    history.dispose();\n  });\n}","import * as Mark from 'mark.js';\nexport class MarkerService {\n  map: Map<Element, Mark> = new Map();\n  private prevTerm: string = '';\n\n  add(el: HTMLElement) {\n    this.map.set(el, new Mark(el));\n  }\n\n  delete(el: Element) {\n    this.map.delete(el);\n  }\n\n  addOnly(elements: Element[]) {\n    this.map.forEach((inst, elem) => {\n      if (elements.indexOf(elem) === -1) {\n        inst.unmark();\n        this.map.delete(elem);\n      }\n    });\n\n    for (const el of elements) {\n      if (!this.map.has(el)) {\n        this.map.set(el, new Mark((el as HTMLElement)));\n      }\n    }\n  }\n\n  clearAll() {\n    this.unmark();\n    this.map.clear();\n  }\n\n  mark(term?: string) {\n    if (!term && !this.prevTerm) {\n      return;\n    }\n\n    this.map.forEach(val => {\n      val.unmark();\n      val.mark(term || this.prevTerm);\n    });\n    this.prevTerm = term || this.prevTerm;\n  }\n\n  unmark() {\n    this.map.forEach(val => val.unmark());\n    this.prevTerm = '';\n  }\n\n}","import * as marked from 'marked';\nimport { highlight, safeSlugify, unescapeHTMLChars } from '../utils';\nimport { AppStore } from './AppStore';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\nconst renderer = new marked.Renderer();\nmarked.setOptions({\n  renderer,\n  highlight: (str, lang) => {\n    return highlight(str, lang);\n  }\n});\nexport const LEGACY_REGEXP = '^ {0,3}<!-- ReDoc-Inject:\\\\s+?<({component}).*?/?>\\\\s+?-->\\\\s*$'; // prettier-ignore\n\nexport const MDX_COMPONENT_REGEXP = '(?:^ {0,3}<({component})([\\\\s\\\\S]*?)>([\\\\s\\\\S]*?)</\\\\2>' // with children\n+ '|^ {0,3}<({component})([\\\\s\\\\S]*?)(?:/>|\\\\n{2,}))'; // self-closing\n\nexport const COMPONENT_REGEXP = '(?:' + LEGACY_REGEXP + '|' + MDX_COMPONENT_REGEXP + ')';\nexport interface MDXComponentMeta {\n  component: React.ComponentType;\n  propsSelector: (store?: AppStore) => any;\n  props?: object;\n}\nexport interface MarkdownHeading {\n  id: string;\n  name: string;\n  level: number;\n  items?: MarkdownHeading[];\n  description?: string;\n}\nexport function buildComponentComment(name: string) {\n  return `<!-- ReDoc-Inject: <${name}> -->`;\n}\nexport class MarkdownRenderer {\n  static containsComponent(rawText: string, componentName: string) {\n    const compRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, componentName), 'gmi');\n    return compRegexp.test(rawText);\n  }\n\n  static getTextBeforeHading(md: string, heading: string): string {\n    const headingLinePos = md.search(new RegExp(`^##?\\\\s+${heading}`, 'm'));\n\n    if (headingLinePos > -1) {\n      return md.substring(0, headingLinePos);\n    }\n\n    return md;\n  }\n\n  headings: MarkdownHeading[] = [];\n  currentTopHeading: MarkdownHeading;\n  private headingEnhanceRenderer: marked.Renderer;\n  private originalHeadingRule: typeof marked.Renderer.prototype.heading;\n\n  constructor(public options?: RedocNormalizedOptions) {\n    this.headingEnhanceRenderer = new marked.Renderer();\n    this.originalHeadingRule = this.headingEnhanceRenderer.heading.bind(this.headingEnhanceRenderer);\n    this.headingEnhanceRenderer.heading = this.headingRule;\n  }\n\n  saveHeading(name: string, level: number, container: MarkdownHeading[] = this.headings, parentId?: string): MarkdownHeading {\n    name = unescapeHTMLChars(name);\n    const item = {\n      id: parentId ? `${parentId}/${safeSlugify(name)}` : `section/${safeSlugify(name)}`,\n      name,\n      level,\n      items: []\n    };\n    container.push(item);\n    return item;\n  }\n\n  flattenHeadings(container?: MarkdownHeading[]): MarkdownHeading[] {\n    if (container === undefined) {\n      return [];\n    }\n\n    const res: MarkdownHeading[] = [];\n\n    for (const heading of container) {\n      res.push(heading);\n      res.push(...this.flattenHeadings(heading.items));\n    }\n\n    return res;\n  }\n\n  attachHeadingsDescriptions(rawText: string) {\n    const buildRegexp = (heading: MarkdownHeading) => {\n      return new RegExp(`##?\\\\s+${heading.name.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')}`);\n    };\n\n    const flatHeadings = this.flattenHeadings(this.headings);\n\n    if (flatHeadings.length < 1) {\n      return;\n    }\n\n    let prevHeading = flatHeadings[0];\n    let prevRegexp = buildRegexp(prevHeading);\n    let prevPos = rawText.search(prevRegexp);\n\n    for (let i = 1; i < flatHeadings.length; i++) {\n      const heading = flatHeadings[i];\n      const regexp = buildRegexp(heading);\n      const currentPos = rawText.substr(prevPos + 1).search(regexp) + prevPos + 1;\n      prevHeading.description = rawText.substring(prevPos, currentPos).replace(prevRegexp, '').trim();\n      prevHeading = heading;\n      prevRegexp = regexp;\n      prevPos = currentPos;\n    }\n\n    prevHeading.description = rawText.substring(prevPos).replace(prevRegexp, '').trim();\n  }\n\n  headingRule = (text: string, level: 1 | 2 | 3 | 4 | 5 | 6, raw: string, slugger: marked.Slugger) => {\n    if (level === 1) {\n      this.currentTopHeading = this.saveHeading(text, level);\n    } else if (level === 2) {\n      this.saveHeading(text, level, this.currentTopHeading && this.currentTopHeading.items, this.currentTopHeading && this.currentTopHeading.id);\n    }\n\n    return this.originalHeadingRule(text, level, raw, slugger);\n  };\n\n  renderMd(rawText: string, extractHeadings: boolean = false): string {\n    const opts = extractHeadings ? {\n      renderer: this.headingEnhanceRenderer\n    } : undefined;\n    const res = marked(rawText.toString(), opts);\n    return res;\n  }\n\n  extractHeadings(rawText: string): MarkdownHeading[] {\n    this.renderMd(rawText, true);\n    this.attachHeadingsDescriptions(rawText);\n    const res = this.headings;\n    this.headings = [];\n    return res;\n  } // regexp-based 👎: remark is slow and too big so for now using marked + regexps soup\n\n\n  renderMdWithComponents(rawText: string): Array<string | MDXComponentMeta> {\n    const components = this.options && this.options.allowedMdComponents;\n\n    if (!components || Object.keys(components).length === 0) {\n      return [this.renderMd(rawText)];\n    }\n\n    const names = Object.keys(components).join('|');\n    const componentsRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, names), 'mig');\n    const htmlParts: string[] = [];\n    const componentDefs: MDXComponentMeta[] = [];\n    let match = componentsRegexp.exec(rawText);\n    let lasxtIdx = 0;\n\n    while (match) {\n      htmlParts.push(rawText.substring(lasxtIdx, match.index));\n      lasxtIdx = componentsRegexp.lastIndex;\n      const compName = match[1] || match[2] || match[5];\n      const componentMeta = components[compName];\n      const props = match[3] || match[6];\n      const children = match[4];\n\n      if (componentMeta) {\n        componentDefs.push({\n          component: componentMeta.component,\n          propsSelector: componentMeta.propsSelector,\n          props: { ...parseProps(props),\n            ...componentMeta.props,\n            children\n          }\n        });\n      }\n\n      match = componentsRegexp.exec(rawText);\n    }\n\n    htmlParts.push(rawText.substring(lasxtIdx));\n    const res: any[] = [];\n\n    for (let i = 0; i < htmlParts.length; i++) {\n      const htmlPart = htmlParts[i];\n\n      if (htmlPart) {\n        res.push(this.renderMd(htmlPart));\n      }\n\n      if (componentDefs[i]) {\n        res.push(componentDefs[i]);\n      }\n    }\n\n    return res;\n  }\n\n}\n\nfunction parseProps(props: string): object {\n  if (!props) {\n    return {};\n  }\n\n  const regex = /([\\w-]+)\\s*=\\s*(?:{([^}]+?)}|\"([^\"]+?)\")/gim;\n  const parsed = {};\n  let match; // tslint:disable-next-line\n\n  while ((match = regex.exec(props)) !== null) {\n    if (match[3]) {\n      // string prop match (in double quotes)\n      parsed[match[1]] = match[3];\n    } else if (match[2]) {\n      // jsx prop match (in curly braces)\n      let val;\n\n      try {\n        val = JSON.parse(match[2]);\n      } catch (e) {\n        /* noop */\n      }\n\n      parsed[match[1]] = val;\n    }\n  }\n\n  return parsed;\n}","import { OpenAPIContact, OpenAPIInfo, OpenAPILicense } from '../../types';\nimport { IS_BROWSER } from '../../utils/';\nimport { OpenAPIParser } from '../OpenAPIParser';\nexport class ApiInfoModel implements OpenAPIInfo {\n  title: string;\n  version: string;\n  description: string;\n  termsOfService?: string;\n  contact?: OpenAPIContact;\n  license?: OpenAPILicense;\n  downloadLink?: string;\n  downloadFileName?: string;\n\n  constructor(private parser: OpenAPIParser) {\n    Object.assign(this, parser.spec.info);\n    this.description = parser.spec.info.description || '';\n    const firstHeadingLinePos = this.description.search(/^##?\\s+/m);\n\n    if (firstHeadingLinePos > -1) {\n      this.description = this.description.substring(0, firstHeadingLinePos);\n    }\n\n    this.downloadLink = this.getDownloadLink();\n    this.downloadFileName = this.getDownloadFileName();\n  }\n\n  private getDownloadLink(): string | undefined {\n    if (this.parser.specUrl) {\n      return this.parser.specUrl;\n    }\n\n    if (IS_BROWSER && window.Blob && window.URL && window.URL.createObjectURL) {\n      const blob = new Blob([JSON.stringify(this.parser.spec, null, 2)], {\n        type: 'application/json'\n      });\n      return window.URL.createObjectURL(blob);\n    }\n  }\n\n  private getDownloadFileName(): string | undefined {\n    if (!this.parser.specUrl) {\n      return 'swagger.json';\n    }\n\n    return undefined;\n  }\n\n}","import { OpenAPISecurityRequirement, OpenAPISecurityScheme } from '../../types';\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\nexport interface SecurityScheme extends OpenAPISecurityScheme {\n  id: string;\n  sectionId: string;\n  scopes: string[];\n}\nexport class SecurityRequirementModel {\n  schemes: SecurityScheme[];\n\n  constructor(requirement: OpenAPISecurityRequirement, parser: OpenAPIParser) {\n    const schemes = parser.spec.components && parser.spec.components.securitySchemes || {};\n    this.schemes = (Object.keys(requirement || {}).map(id => {\n      const scheme = parser.deref(schemes[id]);\n      const scopes = requirement[id] || [];\n\n      if (!scheme) {\n        console.warn(`Non existing security scheme referenced: ${id}. Skipping`);\n        return undefined;\n      }\n\n      return { ...scheme,\n        id,\n        sectionId: SECURITY_SCHEMES_SECTION_PREFIX + id,\n        scopes\n      };\n    }).filter(scheme => scheme !== undefined) as SecurityScheme[]);\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { OpenAPICallback, Referenced } from '../../types';\nimport { isOperationName, JsonPointer } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { OperationModel } from './Operation';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nexport class CallbackModel {\n  @observable\n  expanded: boolean = false;\n  name: string;\n  operations: OperationModel[] = [];\n\n  constructor(parser: OpenAPIParser, name: string, infoOrRef: Referenced<OpenAPICallback>, pointer: string, options: RedocNormalizedOptions) {\n    makeObservable(this);\n    this.name = name;\n    const paths = parser.deref<OpenAPICallback>(infoOrRef);\n    parser.exitRef(infoOrRef);\n\n    for (const pathName of Object.keys(paths)) {\n      const path = paths[pathName];\n      const operations = Object.keys(path).filter(isOperationName);\n\n      for (const operationName of operations) {\n        const operationInfo = path[operationName];\n        const operation = new OperationModel(parser, { ...operationInfo,\n          pathName,\n          pointer: JsonPointer.compile([pointer, name, pathName, operationName]),\n          httpVerb: operationName,\n          pathParameters: path.parameters || [],\n          pathServers: path.servers\n        }, undefined, options, true);\n        this.operations.push(operation);\n      }\n    }\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { OpenAPIExternalDocumentation, OpenAPISchema, Referenced } from '../../types';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { FieldModel } from './Field';\nimport { MergedOpenAPISchema } from '../';\nimport { detectType, extractExtensions, humanizeConstraints, isNamedDefinition, isPrimitiveType, JsonPointer, pluralizeType, sortByField, sortByRequired } from '../../utils/';\nimport { l } from '../Labels'; // TODO: refactor this model, maybe use getters instead of copying all the values\n\nexport class SchemaModel {\n  pointer: string;\n  type: string;\n  displayType: string;\n  typePrefix: string = '';\n  title: string;\n  description: string;\n  externalDocs?: OpenAPIExternalDocumentation;\n  isPrimitive: boolean;\n  isCircular: boolean = false;\n  format?: string;\n  displayFormat?: string;\n  nullable: boolean;\n  deprecated: boolean;\n  pattern?: string;\n  example?: any;\n  enum: any[];\n  default?: any;\n  readOnly: boolean;\n  writeOnly: boolean;\n  constraints: string[];\n  fields?: FieldModel[];\n  items?: SchemaModel;\n  oneOf?: SchemaModel[];\n  oneOfType: string;\n  discriminatorProp: string;\n  @observable\n  activeOneOf: number = 0;\n  rawSchema: OpenAPISchema;\n  schema: MergedOpenAPISchema;\n  extensions?: Record<string, any>;\n  /**\r\n   * @param isChild if schema discriminator Child\r\n   * When true forces dereferencing in allOfs even if circular\r\n   */\n\n  constructor(parser: OpenAPIParser, schemaOrRef: Referenced<OpenAPISchema>, pointer: string, private options: RedocNormalizedOptions, isChild: boolean = false) {\n    makeObservable(this);\n    this.pointer = schemaOrRef.$ref || pointer || '';\n    this.rawSchema = parser.deref(schemaOrRef);\n    this.schema = parser.mergeAllOf(this.rawSchema, this.pointer, isChild);\n    this.init(parser, isChild);\n    parser.exitRef(schemaOrRef);\n    parser.exitParents(this.schema);\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(this.schema, options.showExtensions);\n    }\n  }\n  /**\r\n   * Set specified alternative schema as active\r\n   * @param idx oneOf index\r\n   */\n\n\n  @action\n  activateOneOf(idx: number) {\n    this.activeOneOf = idx;\n  }\n\n  init(parser: OpenAPIParser, isChild: boolean) {\n    const schema = this.schema;\n    this.isCircular = schema['x-circular-ref'];\n    this.title = schema.title || isNamedDefinition(this.pointer) && JsonPointer.baseName(this.pointer) || '';\n    this.description = schema.description || '';\n    this.type = schema.type || detectType(schema);\n    this.format = schema.format;\n    this.nullable = !!schema.nullable;\n    this.enum = schema.enum || [];\n    this.example = schema.example;\n    this.deprecated = !!schema.deprecated;\n    this.pattern = schema.pattern;\n    this.externalDocs = schema.externalDocs;\n    this.constraints = humanizeConstraints(schema);\n    this.displayType = this.type;\n    this.displayFormat = this.format;\n    this.isPrimitive = isPrimitiveType(schema, this.type);\n    this.default = schema.default;\n    this.readOnly = !!schema.readOnly;\n    this.writeOnly = !!schema.writeOnly;\n\n    if (this.isCircular) {\n      return;\n    }\n\n    if (!isChild && getDiscriminator(schema) !== undefined) {\n      this.initDiscriminator(schema, parser);\n      return;\n    } else if (isChild && Array.isArray(schema.oneOf) && schema.oneOf.find(s => s.$ref === this.pointer)) {\n      // we hit allOf of the schema with the parent discriminator\n      delete schema.oneOf;\n    }\n\n    if (schema.oneOf !== undefined) {\n      this.initOneOf(schema.oneOf, parser);\n      this.oneOfType = 'One of';\n\n      if (schema.anyOf !== undefined) {\n        console.warn(`oneOf and anyOf are not supported on the same level. Skipping anyOf at ${this.pointer}`);\n      }\n\n      return;\n    }\n\n    if (schema.anyOf !== undefined) {\n      this.initOneOf(schema.anyOf, parser);\n      this.oneOfType = 'Any of';\n      return;\n    }\n\n    if (this.type === 'object') {\n      this.fields = buildFields(parser, schema, this.pointer, this.options);\n    } else if (this.type === 'array' && schema.items) {\n      this.items = new SchemaModel(parser, schema.items, this.pointer + '/items', this.options);\n      this.displayType = pluralizeType(this.items.displayType);\n      this.displayFormat = this.items.format;\n      this.typePrefix = this.items.typePrefix + l('arrayOf');\n      this.title = this.title || this.items.title;\n      this.isPrimitive = this.items.isPrimitive;\n\n      if (this.example === undefined && this.items.example !== undefined) {\n        this.example = [this.items.example];\n      }\n\n      if (this.items.isPrimitive) {\n        this.enum = this.items.enum;\n      }\n    }\n\n    if (this.enum.length && this.options.sortEnumValuesAlphabetically) {\n      this.enum.sort();\n    }\n  }\n\n  private initOneOf(oneOf: OpenAPISchema[], parser: OpenAPIParser) {\n    this.oneOf = oneOf!.map((variant, idx) => {\n      const derefVariant = parser.deref(variant);\n      const merged = parser.mergeAllOf(derefVariant, this.pointer + '/oneOf/' + idx); // try to infer title\n\n      const title = isNamedDefinition(variant.$ref) && !merged.title ? JsonPointer.baseName(variant.$ref) : merged.title;\n      const schema = new SchemaModel(parser, ( // merge base schema into each of oneOf's subschemas\n      { // variant may already have allOf so merge it to not get overwritten\n        ...merged,\n        title,\n        allOf: [{ ...this.schema,\n          oneOf: undefined,\n          anyOf: undefined\n        }]\n      } as OpenAPISchema), this.pointer + '/oneOf/' + idx, this.options);\n      parser.exitRef(variant); // each oneOf should be independent so exiting all the parent refs\n      // otherwise it will cause false-positive recursive detection\n\n      parser.exitParents(merged);\n      return schema;\n    });\n\n    if (this.options.simpleOneOfTypeLabel) {\n      const types = collectUniqueOneOfTypesDeep(this);\n      this.displayType = types.join(' or ');\n    } else {\n      this.displayType = this.oneOf.map(schema => {\n        let name = schema.typePrefix + (schema.title ? `${schema.title} (${schema.displayType})` : schema.displayType);\n\n        if (name.indexOf(' or ') > -1) {\n          name = `(${name})`;\n        }\n\n        return name;\n      }).join(' or ');\n    }\n  }\n\n  private initDiscriminator(schema: OpenAPISchema & {\n    parentRefs?: string[];\n  }, parser: OpenAPIParser) {\n    const discriminator = getDiscriminator(schema)!;\n    this.discriminatorProp = discriminator.propertyName;\n    const implicitInversedMapping = parser.findDerived([...(schema.parentRefs || []), this.pointer]);\n\n    if (schema.oneOf) {\n      for (const variant of schema.oneOf) {\n        if (variant.$ref === undefined) {\n          continue;\n        }\n\n        const name = JsonPointer.baseName(variant.$ref);\n        implicitInversedMapping[variant.$ref] = name;\n      }\n    }\n\n    const mapping = discriminator.mapping || {}; // Defines if the mapping is exhaustive. This avoids having references\n    // that overlap with the mapping entries\n\n    let isLimitedToMapping = discriminator['x-explicitMappingOnly'] || false; // if there are no mappings, assume non-exhaustive\n\n    if (Object.keys(mapping).length === 0) {\n      isLimitedToMapping = false;\n    }\n\n    const explicitInversedMapping = {};\n\n    for (const name in mapping) {\n      const $ref = mapping[name];\n\n      if (Array.isArray(explicitInversedMapping[$ref])) {\n        explicitInversedMapping[$ref].push(name);\n      } else {\n        // overrides implicit mapping here\n        explicitInversedMapping[$ref] = [name];\n      }\n    }\n\n    const inversedMapping = isLimitedToMapping ? { ...explicitInversedMapping\n    } : { ...implicitInversedMapping,\n      ...explicitInversedMapping\n    };\n    let refs: Array<{\n      $ref;\n      name;\n    }> = [];\n\n    for (const $ref of Object.keys(inversedMapping)) {\n      const names = inversedMapping[$ref];\n\n      if (Array.isArray(names)) {\n        for (const name of names) {\n          refs.push({\n            $ref,\n            name\n          });\n        }\n      } else {\n        refs.push({\n          $ref,\n          name: names\n        });\n      }\n    } // Make the listing respects the mapping\n    // in case a mapping is defined, the user usually wants to have the order shown\n    // as it was defined in the yaml. This will sort the names given the provided\n    // mapping (if provided).\n    // The logic is:\n    // - If a name is among the mapping, promote it to first\n    // - Names among the mapping are sorted by their order in the mapping\n    // - Names outside the mapping are sorted alphabetically\n\n\n    const names = Object.keys(mapping);\n\n    if (names.length !== 0) {\n      refs = refs.sort((left, right) => {\n        const indexLeft = names.indexOf(left.name);\n        const indexRight = names.indexOf(right.name);\n\n        if (indexLeft < 0 && indexRight < 0) {\n          // out of mapping, order by name\n          return left.name.localeCompare(right.name);\n        } else if (indexLeft < 0) {\n          // the right is found, so mapping wins\n          return 1;\n        } else if (indexRight < 0) {\n          // left wins as it's in mapping\n          return -1;\n        } else {\n          return indexLeft - indexRight;\n        }\n      });\n    }\n\n    this.oneOf = refs.map(({\n      $ref,\n      name\n    }) => {\n      const innerSchema = new SchemaModel(parser, parser.byRef($ref)!, $ref, this.options, true);\n      innerSchema.title = name;\n      return innerSchema;\n    });\n  }\n\n}\n\nfunction buildFields(parser: OpenAPIParser, schema: OpenAPISchema, $ref: string, options: RedocNormalizedOptions): FieldModel[] {\n  const props = schema.properties || {};\n  const additionalProps = schema.additionalProperties;\n  const defaults = schema.default || {};\n  let fields = Object.keys(props || []).map(fieldName => {\n    let field = props[fieldName];\n\n    if (!field) {\n      console.warn(`Field \"${fieldName}\" is invalid, skipping.\\n Field must be an object but got ${typeof field} at \"${$ref}\"`);\n      field = {};\n    }\n\n    const required = schema.required === undefined ? false : schema.required.indexOf(fieldName) > -1;\n    return new FieldModel(parser, {\n      name: fieldName,\n      required,\n      schema: { ...field,\n        default: field.default === undefined ? defaults[fieldName] : field.default\n      }\n    }, $ref + '/properties/' + fieldName, options);\n  });\n\n  if (options.sortPropsAlphabetically) {\n    fields = sortByField(fields, 'name');\n  }\n\n  if (options.requiredPropsFirst) {\n    // if not sort alphabetically sort in the order from required keyword\n    fields = sortByRequired(fields, !options.sortPropsAlphabetically ? schema.required : undefined);\n  }\n\n  if (typeof additionalProps === 'object' || additionalProps === true) {\n    fields.push(new FieldModel(parser, {\n      name: (typeof additionalProps === 'object' ? additionalProps['x-additionalPropertiesName'] || 'property name' : 'property name').concat('*'),\n      required: false,\n      schema: additionalProps === true ? {} : additionalProps,\n      kind: 'additionalProperties'\n    }, $ref + '/additionalProperties', options));\n  }\n\n  return fields;\n}\n\nfunction getDiscriminator(schema: OpenAPISchema): OpenAPISchema['discriminator'] {\n  return schema.discriminator || schema['x-discriminator'];\n}\n\nfunction collectUniqueOneOfTypesDeep(schema: SchemaModel) {\n  const uniqueTypes = new Set();\n\n  function crawl(schema: SchemaModel) {\n    for (const oneOfType of schema.oneOf || []) {\n      if (oneOfType.oneOf) {\n        crawl(oneOfType);\n        continue;\n      }\n\n      if (oneOfType.type) {\n        uniqueTypes.add(oneOfType.type);\n      }\n    }\n  }\n\n  crawl(schema);\n  return Array.from(uniqueTypes.values());\n}","import { resolve as urlResolve } from 'url';\nimport { OpenAPIEncoding, OpenAPIExample, Referenced } from '../../types';\nimport { isFormUrlEncoded, isJsonLike, urlFormEncodePayload } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\nconst externalExamplesCache: {\n  [url: string]: Promise<any>;\n} = {};\nexport class ExampleModel {\n  value: any;\n  summary?: string;\n  description?: string;\n  externalValueUrl?: string;\n\n  constructor(parser: OpenAPIParser, infoOrRef: Referenced<OpenAPIExample>, public mime: string, encoding?: {\n    [field: string]: OpenAPIEncoding;\n  }) {\n    const example = parser.deref(infoOrRef);\n    this.value = example.value;\n    this.summary = example.summary;\n    this.description = example.description;\n\n    if (example.externalValue) {\n      this.externalValueUrl = urlResolve(parser.specUrl || '', example.externalValue);\n    }\n\n    parser.exitRef(infoOrRef);\n\n    if (isFormUrlEncoded(mime) && this.value && typeof this.value === 'object') {\n      this.value = urlFormEncodePayload(this.value, encoding);\n    }\n  }\n\n  getExternalValue(mimeType: string): Promise<any> {\n    if (!this.externalValueUrl) {\n      return Promise.resolve(undefined);\n    }\n\n    if (externalExamplesCache[this.externalValueUrl]) {\n      return externalExamplesCache[this.externalValueUrl];\n    }\n\n    externalExamplesCache[this.externalValueUrl] = fetch(this.externalValueUrl).then(res => {\n      return res.text().then(txt => {\n        if (!res.ok) {\n          return Promise.reject(new Error(txt));\n        }\n\n        if (isJsonLike(mimeType)) {\n          try {\n            return JSON.parse(txt);\n          } catch (e) {\n            return txt;\n          }\n        } else {\n          return txt;\n        }\n      });\n    });\n    return externalExamplesCache[this.externalValueUrl];\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { OpenAPIParameter, OpenAPIParameterLocation, OpenAPIParameterStyle, Referenced } from '../../types';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { extractExtensions } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { SchemaModel } from './Schema';\nimport { ExampleModel } from './Example';\nimport { mapValues } from '../../utils/helpers';\nconst DEFAULT_SERIALIZATION: Record<OpenAPIParameterLocation, {\n  explode: boolean;\n  style: OpenAPIParameterStyle;\n}> = {\n  path: {\n    style: 'simple',\n    explode: false\n  },\n  query: {\n    style: 'form',\n    explode: true\n  },\n  header: {\n    style: 'simple',\n    explode: false\n  },\n  cookie: {\n    style: 'form',\n    explode: true\n  }\n};\n/**\r\n * Field or Parameter model ready to be used by components\r\n */\n\nexport class FieldModel {\n  @observable\n  expanded: boolean | undefined = false;\n  schema: SchemaModel;\n  name: string;\n  required: boolean;\n  description: string;\n  example?: string;\n  examples?: Record<string, ExampleModel>;\n  deprecated: boolean;\n  in?: OpenAPIParameterLocation;\n  kind: string;\n  value: string;\n  extensions?: Record<string, any>;\n  explode: boolean;\n  style?: OpenAPIParameterStyle;\n  serializationMime?: string;\n\n  constructor(parser: OpenAPIParser, infoOrRef: Referenced<OpenAPIParameter> & {\n    name?: string;\n    kind?: string;\n  }, pointer: string, options: RedocNormalizedOptions) {\n    makeObservable(this);\n    const info = parser.deref<OpenAPIParameter>(infoOrRef);\n    this.kind = infoOrRef.kind || 'field';\n    this.name = infoOrRef.name || info.name;\n    this.in = info.in;\n    this.required = !!info.required;\n    let fieldSchema = info.schema;\n    let serializationMime = '';\n\n    if (!fieldSchema && info.in && info.content) {\n      serializationMime = Object.keys(info.content)[0];\n      fieldSchema = info.content[serializationMime] && info.content[serializationMime].schema;\n    }\n\n    this.schema = new SchemaModel(parser, fieldSchema || {}, pointer, options);\n    this.description = info.description === undefined ? this.schema.description || '' : info.description;\n    this.example = info.example || this.schema.example;\n\n    if (info.examples !== undefined) {\n      this.examples = mapValues(info.examples, (example, name) => new ExampleModel(parser, example, name, info.encoding));\n    }\n\n    if (serializationMime) {\n      this.serializationMime = serializationMime;\n    } else if (info.style) {\n      this.style = info.style;\n    } else if (this.in) {\n      this.style = DEFAULT_SERIALIZATION[this.in]?.style ?? 'form'; // fallback to from in case \"in\" is invalid\n    }\n\n    if (info.explode === undefined && this.in) {\n      this.explode = DEFAULT_SERIALIZATION[this.in]?.explode ?? true;\n    } else {\n      this.explode = !!info.explode;\n    }\n\n    this.deprecated = info.deprecated === undefined ? !!this.schema.deprecated : info.deprecated;\n    parser.exitRef(infoOrRef);\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(info, options.showExtensions);\n    }\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n  @action\n  setValue(value) {\n    this.value = value;\n  }\n\n}","import * as Sampler from 'openapi-sampler';\nimport { OpenAPIMediaType } from '../../types';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { SchemaModel } from './Schema';\nimport { isJsonLike, mapValues } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { ExampleModel } from './Example';\nexport class MediaTypeModel {\n  examples?: {\n    [name: string]: ExampleModel;\n  };\n  schema?: SchemaModel;\n  name: string;\n  isRequestType: boolean;\n  onlyRequiredInSamples: boolean;\n  /**\r\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\r\n   */\n\n  constructor(parser: OpenAPIParser, name: string, isRequestType: boolean, info: OpenAPIMediaType, options: RedocNormalizedOptions) {\n    this.name = name;\n    this.isRequestType = isRequestType;\n    this.schema = info.schema && new SchemaModel(parser, info.schema, '', options);\n    this.onlyRequiredInSamples = options.onlyRequiredInSamples;\n\n    if (info.examples !== undefined) {\n      this.examples = mapValues(info.examples, example => new ExampleModel(parser, example, name, info.encoding));\n    } else if (info.example !== undefined) {\n      this.examples = {\n        default: new ExampleModel(parser, {\n          value: parser.shalowDeref(info.example)\n        }, name, info.encoding)\n      };\n    } else if (isJsonLike(name)) {\n      this.generateExample(parser, info);\n    }\n  }\n\n  generateExample(parser: OpenAPIParser, info: OpenAPIMediaType) {\n    const samplerOptions = {\n      skipReadOnly: this.isRequestType,\n      skipNonRequired: this.isRequestType && this.onlyRequiredInSamples,\n      skipWriteOnly: !this.isRequestType,\n      maxSampleDepth: 10\n    };\n\n    if (this.schema && this.schema.oneOf) {\n      this.examples = {};\n\n      for (const subSchema of this.schema.oneOf) {\n        const sample = Sampler.sample(subSchema.rawSchema, samplerOptions, parser.spec);\n\n        if (this.schema.discriminatorProp && typeof sample === 'object' && sample) {\n          sample[this.schema.discriminatorProp] = subSchema.title;\n        }\n\n        this.examples[subSchema.title] = new ExampleModel(parser, {\n          value: sample\n        }, this.name, info.encoding);\n      }\n    } else if (this.schema) {\n      this.examples = {\n        default: new ExampleModel(parser, {\n          value: Sampler.sample(info.schema, samplerOptions, parser.spec)\n        }, this.name, info.encoding)\n      };\n    }\n  }\n\n}","import { action, computed, observable, makeObservable } from 'mobx';\nimport { OpenAPIMediaType } from '../../types';\nimport { MediaTypeModel } from './MediaType';\nimport { mergeSimilarMediaTypes } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\n/**\r\n * MediaContent model ready to be sued by React components\r\n * Contains multiple MediaTypes and keeps track of the currently active one\r\n */\n\nexport class MediaContentModel {\n  mediaTypes: MediaTypeModel[];\n  @observable\n  activeMimeIdx = 0;\n  /**\r\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\r\n   */\n\n  constructor(parser: OpenAPIParser, info: Record<string, OpenAPIMediaType>, public isRequestType: boolean, options: RedocNormalizedOptions) {\n    makeObservable(this);\n\n    if (options.unstable_ignoreMimeParameters) {\n      info = mergeSimilarMediaTypes(info);\n    }\n\n    this.mediaTypes = Object.keys(info).map(name => {\n      const mime = info[name]; // reset deref cache just in case something is left there\n\n      parser.resetVisited();\n      return new MediaTypeModel(parser, name, isRequestType, mime, options);\n    });\n  }\n  /**\r\n   * Set active media type by index\r\n   * @param idx media type index\r\n   */\n\n\n  @action\n  activate(idx: number) {\n    this.activeMimeIdx = idx;\n  }\n\n  @computed\n  get active() {\n    return this.mediaTypes[this.activeMimeIdx];\n  }\n\n  get hasSample(): boolean {\n    return this.mediaTypes.filter(mime => !!mime.examples).length > 0;\n  }\n\n}","import { OpenAPIRequestBody, Referenced } from '../../types';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { MediaContentModel } from './MediaContent';\nexport class RequestBodyModel {\n  description: string;\n  required: boolean;\n  content?: MediaContentModel;\n\n  constructor(parser: OpenAPIParser, infoOrRef: Referenced<OpenAPIRequestBody>, options: RedocNormalizedOptions) {\n    const info = parser.deref(infoOrRef);\n    this.description = info.description || '';\n    this.required = !!info.required;\n    parser.exitRef(infoOrRef);\n\n    if (info.content !== undefined) {\n      this.content = new MediaContentModel(parser, info.content, true, options);\n    }\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { OpenAPIResponse, Referenced } from '../../types';\nimport { getStatusCodeType } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { FieldModel } from './Field';\nimport { MediaContentModel } from './MediaContent';\nexport class ResponseModel {\n  @observable\n  expanded: boolean = false;\n  content?: MediaContentModel;\n  code: string;\n  summary: string;\n  description: string;\n  type: string;\n  headers: FieldModel[] = [];\n\n  constructor(parser: OpenAPIParser, code: string, defaultAsError: boolean, infoOrRef: Referenced<OpenAPIResponse>, options: RedocNormalizedOptions) {\n    makeObservable(this);\n    this.expanded = options.expandResponses === 'all' || options.expandResponses[code];\n    const info = parser.deref(infoOrRef);\n    parser.exitRef(infoOrRef);\n    this.code = code;\n\n    if (info.content !== undefined) {\n      this.content = new MediaContentModel(parser, info.content, false, options);\n    }\n\n    if (info['x-summary'] !== undefined) {\n      this.summary = info['x-summary'];\n      this.description = info.description || '';\n    } else {\n      this.summary = info.description || '';\n      this.description = '';\n    }\n\n    this.type = getStatusCodeType(code, defaultAsError);\n    const headers = info.headers;\n\n    if (headers !== undefined) {\n      this.headers = Object.keys(headers).map(name => {\n        const header = headers[name];\n        return new FieldModel(parser, { ...header,\n          name\n        }, '', options);\n      });\n    }\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { IMenuItem } from '../MenuStore';\nimport { GroupModel } from './Group.model';\nimport { SecurityRequirementModel } from './SecurityRequirement';\nimport { OpenAPIExternalDocumentation, OpenAPIServer, OpenAPIXCodeSample } from '../../types';\nimport { extractExtensions, getOperationSummary, getStatusCodeType, isStatusCode, memoize, mergeParams, normalizeServers, sortByField, sortByRequired } from '../../utils';\nimport { ContentItemModel, ExtendedOpenAPIOperation } from '../MenuBuilder';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { CallbackModel } from './Callback';\nimport { FieldModel } from './Field';\nimport { MediaContentModel } from './MediaContent';\nimport { RequestBodyModel } from './RequestBody';\nimport { ResponseModel } from './Response';\nexport interface XPayloadSample {\n  lang: 'payload';\n  label: string;\n  requestBodyContent: MediaContentModel;\n  source: string;\n}\nexport function isPayloadSample(sample: XPayloadSample | OpenAPIXCodeSample): sample is XPayloadSample {\n  return sample.lang === 'payload' && (sample as any).requestBodyContent;\n}\nlet isCodeSamplesWarningPrinted = false;\n/**\r\n * Operation model ready to be used by components\r\n */\n\nexport class OperationModel implements IMenuItem {\n  //#region IMenuItem fields\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  description?: string;\n  type = ('operation' as const);\n  parent?: GroupModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n  items: ContentItemModel[] = [];\n  depth: number;\n  @observable\n  ready?: boolean = true;\n  @observable\n  active: boolean = false;\n  @observable\n  expanded: boolean = false; //#endregion\n\n  pointer: string;\n  operationId?: string;\n  httpVerb: string;\n  deprecated: boolean;\n  path: string;\n  servers: OpenAPIServer[];\n  security: SecurityRequirementModel[];\n  extensions: Record<string, any>;\n  isCallback: boolean;\n  isWebhook: boolean;\n\n  constructor(private parser: OpenAPIParser, private operationSpec: ExtendedOpenAPIOperation, parent: GroupModel | undefined, private options: RedocNormalizedOptions, isCallback: boolean = false) {\n    makeObservable(this);\n    this.pointer = operationSpec.pointer;\n    this.description = operationSpec.description;\n    this.parent = parent;\n    this.externalDocs = operationSpec.externalDocs;\n    this.deprecated = !!operationSpec.deprecated;\n    this.httpVerb = operationSpec.httpVerb;\n    this.deprecated = !!operationSpec.deprecated;\n    this.operationId = operationSpec.operationId;\n    this.path = operationSpec.pathName;\n    this.isCallback = isCallback;\n    this.isWebhook = !!operationSpec.isWebhook;\n    this.name = getOperationSummary(operationSpec);\n\n    if (this.isCallback) {\n      // NOTE: Callbacks by default should not inherit the specification's global `security` definition.\n      // Can be defined individually per-callback in the specification. Defaults to none.\n      this.security = (operationSpec.security || []).map(security => new SecurityRequirementModel(security, parser)); // TODO: update getting pathInfo for overriding servers on path level\n\n      this.servers = normalizeServers('', operationSpec.servers || operationSpec.pathServers || []);\n    } else {\n      this.id = operationSpec.operationId !== undefined ? 'operation/' + operationSpec.operationId : parent !== undefined ? parent.id + this.pointer : this.pointer;\n      this.security = (operationSpec.security || parser.spec.security || []).map(security => new SecurityRequirementModel(security, parser));\n      this.servers = normalizeServers(parser.specUrl, operationSpec.servers || operationSpec.pathServers || parser.spec.servers || []);\n    }\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(operationSpec, options.showExtensions);\n    }\n  }\n  /**\r\n   * set operation as active (used by side menu)\r\n   */\n\n\n  @action\n  activate() {\n    this.active = true;\n  }\n  /**\r\n   * set operation as inactive (used by side menu)\r\n   */\n\n\n  @action\n  deactivate() {\n    this.active = false;\n  }\n  /**\r\n   * Toggle expansion in middle panel (for callbacks, which are operations)\r\n   */\n\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n  expand() {\n    if (this.parent) {\n      this.parent.expand();\n    }\n  }\n\n  collapse() {\n    /* do nothing */\n  }\n\n  @memoize\n  get requestBody() {\n    return this.operationSpec.requestBody && new RequestBodyModel(this.parser, this.operationSpec.requestBody, this.options);\n  }\n\n  @memoize\n  get codeSamples() {\n    let samples: Array<OpenAPIXCodeSample | XPayloadSample> = this.operationSpec['x-codeSamples'] || this.operationSpec['x-code-samples'] || [];\n\n    if (this.operationSpec['x-code-samples'] && !isCodeSamplesWarningPrinted) {\n      isCodeSamplesWarningPrinted = true;\n      console.warn('\"x-code-samples\" is deprecated. Use \"x-codeSamples\" instead');\n    }\n\n    const requestBodyContent = this.requestBody && this.requestBody.content;\n\n    if (requestBodyContent && requestBodyContent.hasSample) {\n      const insertInx = Math.min(samples.length, this.options.payloadSampleIdx);\n      samples = [...samples.slice(0, insertInx), {\n        lang: 'payload',\n        label: 'Payload',\n        source: '',\n        requestBodyContent\n      }, ...samples.slice(insertInx)];\n    }\n\n    return samples;\n  }\n\n  @memoize\n  get parameters() {\n    const _parameters = mergeParams(this.parser, this.operationSpec.pathParameters, this.operationSpec.parameters // TODO: fix pointer\n    ).map(paramOrRef => new FieldModel(this.parser, paramOrRef, this.pointer, this.options));\n\n    if (this.options.sortPropsAlphabetically) {\n      return sortByField(_parameters, 'name');\n    }\n\n    if (this.options.requiredPropsFirst) {\n      return sortByRequired(_parameters);\n    }\n\n    return _parameters;\n  }\n\n  @memoize\n  get responses() {\n    let hasSuccessResponses = false;\n    return Object.keys(this.operationSpec.responses || []).filter(code => {\n      if (code === 'default') {\n        return true;\n      }\n\n      if (getStatusCodeType(code) === 'success') {\n        hasSuccessResponses = true;\n      }\n\n      return isStatusCode(code);\n    }) // filter out other props (e.g. x-props)\n    .map(code => {\n      return new ResponseModel(this.parser, code, hasSuccessResponses, this.operationSpec.responses[code], this.options);\n    });\n  }\n\n  @memoize\n  get callbacks() {\n    return Object.keys(this.operationSpec.callbacks || []).map(callbackEventName => {\n      return new CallbackModel(this.parser, callbackEventName, this.operationSpec.callbacks![callbackEventName], this.pointer, this.options);\n    });\n  }\n\n}","import { OpenAPIPath, Referenced } from '../../types';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { OperationModel } from './Operation';\nimport { isOperationName } from '../..';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nexport class WebhookModel {\n  operations: OperationModel[] = [];\n\n  constructor(parser: OpenAPIParser, options: RedocNormalizedOptions, infoOrRef?: Referenced<OpenAPIPath>) {\n    const webhooks = parser.deref<OpenAPIPath>(infoOrRef || {});\n    parser.exitRef(infoOrRef);\n\n    for (const webhookName of Object.keys(webhooks)) {\n      const webhook = webhooks[webhookName];\n      const operations = Object.keys(webhook).filter(isOperationName);\n\n      for (const operationName of operations) {\n        const operationInfo = webhook[operationName];\n        const operation = new OperationModel(parser, { ...operationInfo,\n          httpVerb: operationName\n        }, undefined, options, false);\n        this.operations.push(operation);\n      }\n    }\n  }\n\n}","import { observable } from 'mobx';\nimport { OpenAPISecurityScheme, Referenced } from '../../types';\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\nexport class SecuritySchemeModel {\n  id: string;\n  sectionId: string;\n  type: OpenAPISecurityScheme['type'];\n  description: string;\n  apiKey?: {\n    name: string;\n    in: OpenAPISecurityScheme['in'];\n  };\n  http?: {\n    scheme: string;\n    bearerFormat?: string;\n  };\n  flows: OpenAPISecurityScheme['flows'];\n  openId?: {\n    connectUrl: string;\n  };\n  @observable\n  token?: string = '';\n\n  constructor(parser: OpenAPIParser, id: string, scheme: Referenced<OpenAPISecurityScheme>) {\n    const info = parser.deref(scheme);\n    this.id = id;\n    this.sectionId = SECURITY_SCHEMES_SECTION_PREFIX + id;\n    this.type = info.type;\n    this.description = info.description || '';\n\n    if (info.type === 'apiKey') {\n      this.apiKey = {\n        name: info.name!,\n        in: info.in\n      };\n    }\n\n    if (info.type === 'http') {\n      this.http = {\n        scheme: info.scheme!,\n        bearerFormat: info.bearerFormat\n      };\n    }\n\n    if (info.type === 'openIdConnect') {\n      this.openId = {\n        connectUrl: info.openIdConnectUrl!\n      };\n    }\n\n    if (info.type === 'oauth2' && info.flows) {\n      this.flows = info.flows;\n    }\n  }\n\n  setToken(token: string) {\n    this.token = token;\n  }\n\n}\nexport class SecuritySchemesModel {\n  @observable\n  schemes: SecuritySchemeModel[];\n\n  constructor(parser: OpenAPIParser) {\n    const schemes = parser.spec.components && parser.spec.components.securitySchemes || {};\n    this.schemes = Object.keys(schemes).map(name => new SecuritySchemeModel(parser, name, schemes[name]));\n  }\n\n}","import { resolve as urlResolve } from 'url';\nimport { OpenAPIRef, OpenAPISchema, OpenAPISpec, Referenced } from '../types';\nimport { appendToMdHeading, IS_BROWSER } from '../utils/';\nimport { JsonPointer } from '../utils/JsonPointer';\nimport { getDefinitionName, isNamedDefinition, SECURITY_DEFINITIONS_COMPONENT_NAME, SECURITY_DEFINITIONS_JSX_NAME } from '../utils/openapi';\nimport { buildComponentComment, MarkdownRenderer } from './MarkdownRenderer';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\nexport type MergedOpenAPISchema = OpenAPISchema & {\n  parentRefs?: string[];\n};\n/**\r\n * Helper class to keep track of visited references to avoid\r\n * endless recursion because of circular refs\r\n */\n\nclass RefCounter {\n  _counter = {};\n\n  reset(): void {\n    this._counter = {};\n  }\n\n  visit(ref: string): void {\n    this._counter[ref] = this._counter[ref] ? this._counter[ref] + 1 : 1;\n  }\n\n  exit(ref: string): void {\n    this._counter[ref] = this._counter[ref] && this._counter[ref] - 1;\n  }\n\n  visited(ref: string): boolean {\n    return !!this._counter[ref];\n  }\n\n}\n/**\r\n * Loads and keeps spec. Provides raw spec operations\r\n */\n\n\nexport class OpenAPIParser {\n  specUrl?: string;\n  spec: OpenAPISpec;\n  mergeRefs: Set<string>;\n  private _refCounter: RefCounter = new RefCounter();\n\n  constructor(spec: OpenAPISpec, specUrl?: string, private options: RedocNormalizedOptions = new RedocNormalizedOptions({})) {\n    this.validate(spec);\n    this.preprocess(spec);\n    this.spec = spec;\n    this.mergeRefs = new Set();\n    const href = IS_BROWSER ? window.location.href : '';\n\n    if (typeof specUrl === 'string') {\n      this.specUrl = urlResolve(href, specUrl);\n    }\n  }\n\n  validate(spec: any) {\n    if (spec.openapi === undefined) {\n      throw new Error('Document must be valid OpenAPI 3.0.0 definition');\n    }\n  }\n\n  preprocess(spec: OpenAPISpec) {\n    if (!this.options.noAutoAuth && spec.info && spec.components && spec.components.securitySchemes) {\n      // Automatically inject Authentication section with SecurityDefinitions component\n      const description = spec.info.description || '';\n\n      if (!MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_COMPONENT_NAME) && !MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_JSX_NAME)) {\n        const comment = buildComponentComment(SECURITY_DEFINITIONS_COMPONENT_NAME);\n        spec.info.description = appendToMdHeading(description, 'Authentication', comment);\n      }\n    }\n  }\n  /**\r\n   * get spec part by JsonPointer ($ref)\r\n   */\n\n\n  byRef = <T extends any = any>(ref: string): T | undefined => {\n    let res;\n\n    if (!this.spec) {\n      return;\n    }\n\n    if (ref.charAt(0) !== '#') {\n      ref = '#' + ref;\n    }\n\n    ref = decodeURIComponent(ref);\n\n    try {\n      res = JsonPointer.get(this.spec, ref);\n    } catch (e) {// do nothing\n    }\n\n    return res || {};\n  };\n  /**\r\n   * checks if the object is OpenAPI reference (contains $ref property)\r\n   */\n\n  isRef(obj: any): obj is OpenAPIRef {\n    if (!obj) {\n      return false;\n    }\n\n    return obj.$ref !== undefined && obj.$ref !== null;\n  }\n  /**\r\n   * resets visited endpoints. should be run after\r\n   */\n\n\n  resetVisited() {\n    if (process.env.NODE_ENV !== 'production') {\n      // check in dev mode\n      for (const k in this._refCounter._counter) {\n        if (this._refCounter._counter[k] > 0) {\n          console.warn('Not exited reference: ' + k);\n        }\n      }\n    }\n\n    this._refCounter = new RefCounter();\n  }\n\n  exitRef<T>(ref: Referenced<T>) {\n    if (!this.isRef(ref)) {\n      return;\n    }\n\n    this._refCounter.exit(ref.$ref);\n  }\n  /**\r\n   * Resolve given reference object or return as is if it is not a reference\r\n   * @param obj object to dereference\r\n   * @param forceCircular whether to dereference even if it is circular ref\r\n   */\n\n\n  deref<T extends object>(obj: OpenAPIRef | T, forceCircular = false): T {\n    if (this.isRef(obj)) {\n      const schemaName = getDefinitionName(obj.$ref);\n\n      if (schemaName && this.options.ignoreNamedSchemas.has(schemaName)) {\n        return ({\n          type: 'object',\n          title: schemaName\n        } as T);\n      }\n\n      const resolved = this.byRef<T>(obj.$ref)!;\n\n      const visited = this._refCounter.visited(obj.$ref);\n\n      this._refCounter.visit(obj.$ref);\n\n      if (visited && !forceCircular) {\n        // circular reference detected\n        // tslint:disable-next-line\n        return Object.assign({}, resolved, {\n          'x-circular-ref': true\n        });\n      } // deref again in case one more $ref is here\n\n\n      if (this.isRef(resolved)) {\n        const res = this.deref(resolved);\n        this.exitRef(resolved);\n        return res;\n      }\n\n      return resolved;\n    }\n\n    return obj;\n  }\n\n  shalowDeref<T extends object>(obj: OpenAPIRef | T): T {\n    if (this.isRef(obj)) {\n      return this.byRef<T>(obj.$ref)!;\n    }\n\n    return obj;\n  }\n  /**\r\n   * Merge allOf constraints.\r\n   * @param schema schema with allOF\r\n   * @param $ref pointer of the schema\r\n   * @param forceCircular whether to dereference children even if it is a circular ref\r\n   */\n\n\n  mergeAllOf(schema: OpenAPISchema, $ref?: string, forceCircular: boolean = false, used$Refs = new Set<string>()): MergedOpenAPISchema {\n    if ($ref) {\n      used$Refs.add($ref);\n    }\n\n    schema = this.hoistOneOfs(schema);\n\n    if (schema.allOf === undefined) {\n      return schema;\n    }\n\n    let receiver: MergedOpenAPISchema = { ...schema,\n      allOf: undefined,\n      parentRefs: [],\n      title: schema.title || getDefinitionName($ref)\n    }; // avoid mutating inner objects\n\n    if (receiver.properties !== undefined && typeof receiver.properties === 'object') {\n      receiver.properties = { ...receiver.properties\n      };\n    }\n\n    if (receiver.items !== undefined && typeof receiver.items === 'object') {\n      receiver.items = { ...receiver.items\n      };\n    }\n\n    const allOfSchemas = (schema.allOf.map(subSchema => {\n      if (subSchema && subSchema.$ref && used$Refs.has(subSchema.$ref)) {\n        return undefined;\n      }\n\n      const resolved = this.deref(subSchema, forceCircular);\n      const subRef = subSchema.$ref || undefined;\n      const subMerged = this.mergeAllOf(resolved, subRef, forceCircular, used$Refs);\n      receiver.parentRefs!.push(...(subMerged.parentRefs || []));\n      return {\n        $ref: subRef,\n        schema: subMerged\n      };\n    }).filter(child => child !== undefined) as Array<{\n      $ref: string | undefined;\n      schema: MergedOpenAPISchema;\n    }>);\n\n    for (const {\n      $ref: subSchemaRef,\n      schema: subSchema\n    } of allOfSchemas) {\n      if (receiver.type !== subSchema.type && receiver.type !== undefined && subSchema.type !== undefined) {\n        console.warn(`Incompatible types in allOf at \"${$ref}\": \"${receiver.type}\" and \"${subSchema.type}\"`);\n      }\n\n      if (subSchema.type !== undefined) {\n        receiver.type = subSchema.type;\n      }\n\n      if (subSchema.properties !== undefined) {\n        receiver.properties = receiver.properties || {};\n\n        for (const prop in subSchema.properties) {\n          if (!receiver.properties[prop]) {\n            receiver.properties[prop] = subSchema.properties[prop];\n          } else {\n            // merge inner properties\n            const mergedProp = this.mergeAllOf({\n              allOf: [receiver.properties[prop], subSchema.properties[prop]]\n            }, $ref + '/properties/' + prop);\n            receiver.properties[prop] = mergedProp;\n            this.exitParents(mergedProp); // every prop resolution should have separate recursive stack\n          }\n        }\n      }\n\n      if (subSchema.items !== undefined) {\n        receiver.items = receiver.items || {}; // merge inner properties\n\n        receiver.items = this.mergeAllOf({\n          allOf: [receiver.items, subSchema.items]\n        }, $ref + '/items');\n      }\n\n      if (subSchema.required !== undefined) {\n        receiver.required = (receiver.required || []).concat(subSchema.required);\n      } // merge rest of constraints\n      // TODO: do more intelligent merge\n\n\n      receiver = { ...subSchema,\n        ...receiver\n      };\n\n      if (subSchemaRef) {\n        receiver.parentRefs!.push(subSchemaRef);\n\n        if (receiver.title === undefined && isNamedDefinition(subSchemaRef)) {// this is not so correct behaviour. commented out for now\n          // ref: https://github.com/Redocly/redoc/issues/601\n          // receiver.title = JsonPointer.baseName(subSchemaRef);\n        }\n      }\n    }\n\n    return receiver;\n  }\n  /**\r\n   * Find all derived definitions among #/components/schemas from any of $refs\r\n   * returns map of definition pointer to definition name\r\n   * @param $refs array of references to find derived from\r\n   */\n\n\n  findDerived($refs: string[]): Record<string, string[] | string> {\n    const res: Record<string, string[]> = {};\n    const schemas = this.spec.components && this.spec.components.schemas || {};\n\n    for (const defName in schemas) {\n      const def = this.deref(schemas[defName]);\n\n      if (def.allOf !== undefined && def.allOf.find(obj => obj.$ref !== undefined && $refs.indexOf(obj.$ref) > -1)) {\n        res['#/components/schemas/' + defName] = [def['x-discriminator-value'] || defName];\n      }\n    }\n\n    return res;\n  }\n\n  exitParents(shema: MergedOpenAPISchema) {\n    for (const parent$ref of shema.parentRefs || []) {\n      this.exitRef({\n        $ref: parent$ref\n      });\n    }\n  }\n\n  private hoistOneOfs(schema: OpenAPISchema) {\n    if (schema.allOf === undefined) {\n      return schema;\n    }\n\n    const allOf = schema.allOf;\n\n    for (let i = 0; i < allOf.length; i++) {\n      const sub = allOf[i];\n\n      if (Array.isArray(sub.oneOf)) {\n        const beforeAllOf = allOf.slice(0, i);\n        const afterAllOf = allOf.slice(i + 1);\n        return {\n          oneOf: sub.oneOf.map(part => {\n            const merged = this.mergeAllOf({\n              allOf: [...beforeAllOf, part, ...afterAllOf]\n            }); // each oneOf should be independent so exiting all the parent refs\n            // otherwise it will cause false-positive recursive detection\n\n            this.exitParents(merged);\n            return merged;\n          })\n        };\n      }\n    }\n\n    return schema;\n  }\n\n}","import { OpenAPIExternalDocumentation, OpenAPISpec } from '../types';\nimport { ContentItemModel, MenuBuilder } from './MenuBuilder';\nimport { ApiInfoModel } from './models/ApiInfo';\nimport { WebhookModel } from './models/Webhook';\nimport { SecuritySchemesModel } from './models/SecuritySchemes';\nimport { OpenAPIParser } from './OpenAPIParser';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n/**\r\n * Store that contains all the specification related information in the form of tree\r\n */\n\nexport class SpecStore {\n  parser: OpenAPIParser;\n  info: ApiInfoModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n  contentItems: ContentItemModel[];\n  securitySchemes: SecuritySchemesModel;\n  webhooks?: WebhookModel;\n\n  constructor(spec: OpenAPISpec, specUrl: string | undefined, private options: RedocNormalizedOptions) {\n    this.parser = new OpenAPIParser(spec, specUrl, options);\n    this.info = new ApiInfoModel(this.parser);\n    this.externalDocs = this.parser.spec.externalDocs;\n    this.contentItems = MenuBuilder.buildStructure(this.parser, this.options);\n    this.securitySchemes = new SecuritySchemesModel(this.parser);\n    this.webhooks = new WebhookModel(this.parser, options, this.parser.spec['x-webhooks']);\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { OpenAPIExternalDocumentation, OpenAPITag } from '../../types';\nimport { safeSlugify } from '../../utils';\nimport { MarkdownHeading, MarkdownRenderer } from '../MarkdownRenderer';\nimport { ContentItemModel } from '../MenuBuilder';\nimport { IMenuItem, MenuItemGroupType } from '../MenuStore';\n/**\r\n * Operations Group model ready to be used by components\r\n */\n\nexport class GroupModel implements IMenuItem {\n  //#region IMenuItem fields\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  description?: string;\n  type: MenuItemGroupType;\n  items: ContentItemModel[] = [];\n  parent?: GroupModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n  @observable\n  active: boolean = false;\n  @observable\n  expanded: boolean = false;\n  depth: number;\n  level: number; //#endregion\n\n  constructor(type: MenuItemGroupType, tagOrGroup: OpenAPITag | MarkdownHeading, parent?: GroupModel) {\n    makeObservable(this); // markdown headings already have ids calculated as they are needed for heading anchors\n\n    this.id = (tagOrGroup as MarkdownHeading).id || type + '/' + safeSlugify(tagOrGroup.name);\n    this.type = type;\n    this.name = tagOrGroup['x-displayName'] || tagOrGroup.name;\n    this.level = (tagOrGroup as MarkdownHeading).level || 1; // remove sections from markdown, same as in ApiInfo\n\n    this.description = tagOrGroup.description || '';\n    const items = (tagOrGroup as MarkdownHeading).items;\n\n    if (items && items.length) {\n      this.description = MarkdownRenderer.getTextBeforeHading(this.description, items[0].name);\n    }\n\n    this.parent = parent;\n    this.externalDocs = (tagOrGroup as OpenAPITag).externalDocs; // groups are active (expanded) by default\n\n    if (this.type === 'group') {\n      this.expanded = true;\n    }\n  }\n\n  @action\n  activate() {\n    this.active = true;\n  }\n\n  @action\n  expand() {\n    if (this.parent) {\n      this.parent.expand();\n    }\n\n    this.expanded = true;\n  }\n\n  @action\n  collapse() {\n    // disallow collapsing groups\n    if (this.type === 'group') {\n      return;\n    }\n\n    this.expanded = false;\n  }\n\n  @action\n  deactivate() {\n    this.active = false;\n  }\n\n}","export * from '../SpecStore';\nexport * from './Group.model';\nexport * from './Operation';\nexport * from './RequestBody';\nexport * from './Example';\nexport * from './MediaContent';\nexport * from './MediaType';\nexport * from './Response';\nexport * from './Schema';\nexport * from './Field';\nexport * from './ApiInfo';\nexport * from './SecuritySchemes';\nexport * from './Callback';","import { OpenAPIOperation, OpenAPIParameter, OpenAPISpec, OpenAPITag, Referenced, OpenAPIServer, OpenAPIPaths } from '../types';\nimport { isOperationName, SECURITY_DEFINITIONS_COMPONENT_NAME, setSecuritySchemePrefix, JsonPointer } from '../utils';\nimport { MarkdownRenderer } from './MarkdownRenderer';\nimport { GroupModel, OperationModel } from './models';\nimport { OpenAPIParser } from './OpenAPIParser';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\nexport type TagInfo = OpenAPITag & {\n  operations: ExtendedOpenAPIOperation[];\n  used?: boolean;\n};\nexport type ExtendedOpenAPIOperation = {\n  pointer: string;\n  pathName: string;\n  httpVerb: string;\n  pathParameters: Array<Referenced<OpenAPIParameter>>;\n  pathServers: Array<OpenAPIServer> | undefined;\n  isWebhook: boolean;\n} & OpenAPIOperation;\nexport type TagsInfoMap = Record<string, TagInfo>;\nexport interface TagGroup {\n  name: string;\n  tags: string[];\n}\nexport const GROUP_DEPTH = 0;\nexport type ContentItemModel = GroupModel | OperationModel;\nexport class MenuBuilder {\n  /**\r\n   * Builds page content structure based on tags\r\n   */\n  static buildStructure(parser: OpenAPIParser, options: RedocNormalizedOptions): ContentItemModel[] {\n    const spec = parser.spec;\n    const items: ContentItemModel[] = [];\n    const tagsMap = MenuBuilder.getTagsWithOperations(spec);\n    items.push(...MenuBuilder.addMarkdownItems(spec.info.description || '', undefined, 1, options));\n\n    if (spec['x-tagGroups'] && spec['x-tagGroups'].length > 0) {\n      items.push(...MenuBuilder.getTagGroupsItems(parser, undefined, spec['x-tagGroups'], tagsMap, options));\n    } else {\n      items.push(...MenuBuilder.getTagsItems(parser, tagsMap, undefined, undefined, options));\n    }\n\n    return items;\n  }\n  /**\r\n   * extracts items from markdown description\r\n   * @param description - markdown source\r\n   */\n\n\n  static addMarkdownItems(description: string, parent: GroupModel | undefined, initialDepth: number, options: RedocNormalizedOptions): ContentItemModel[] {\n    const renderer = new MarkdownRenderer(options);\n    const headings = renderer.extractHeadings(description || '');\n\n    if (headings.length && parent && parent.description) {\n      parent.description = MarkdownRenderer.getTextBeforeHading(parent.description, headings[0].name);\n    }\n\n    const mapHeadingsDeep = (_parent, items, depth = 1) => items.map(heading => {\n      const group = new GroupModel('section', heading, _parent);\n      group.depth = depth;\n\n      if (heading.items) {\n        group.items = mapHeadingsDeep(group, heading.items, depth + 1);\n      }\n\n      if (MarkdownRenderer.containsComponent(group.description || '', SECURITY_DEFINITIONS_COMPONENT_NAME)) {\n        setSecuritySchemePrefix(group.id + '/');\n      }\n\n      return group;\n    });\n\n    return mapHeadingsDeep(parent, headings, initialDepth);\n  }\n  /**\r\n   * Returns array of OperationsGroup items for the tag groups (x-tagGroups vendor extension)\r\n   * @param tags value of `x-tagGroups` vendor extension\r\n   */\n\n\n  static getTagGroupsItems(parser: OpenAPIParser, parent: GroupModel | undefined, groups: TagGroup[], tags: TagsInfoMap, options: RedocNormalizedOptions): GroupModel[] {\n    const res: GroupModel[] = [];\n\n    for (const group of groups) {\n      const item = new GroupModel('group', group, parent);\n      item.depth = GROUP_DEPTH;\n      item.items = MenuBuilder.getTagsItems(parser, tags, item, group, options);\n      res.push(item);\n    } // TODO checkAllTagsUsedInGroups\n\n\n    return res;\n  }\n  /**\r\n   * Returns array of OperationsGroup items for the tags of the group or for all tags\r\n   * @param tagsMap tags info returned from `getTagsWithOperations`\r\n   * @param parent parent item\r\n   * @param group group which this tag belongs to. if not provided gets all tags\r\n   */\n\n\n  static getTagsItems(parser: OpenAPIParser, tagsMap: TagsInfoMap, parent: GroupModel | undefined, group: TagGroup | undefined, options: RedocNormalizedOptions): ContentItemModel[] {\n    let tagNames;\n\n    if (group === undefined) {\n      tagNames = Object.keys(tagsMap); // all tags\n    } else {\n      tagNames = group.tags;\n    }\n\n    const tags = tagNames.map(tagName => {\n      if (!tagsMap[tagName]) {\n        console.warn(`Non-existing tag \"${tagName}\" is added to the group \"${group!.name}\"`);\n        return null;\n      }\n\n      tagsMap[tagName].used = true;\n      return tagsMap[tagName];\n    });\n    const res: Array<GroupModel | OperationModel> = [];\n\n    for (const tag of tags) {\n      if (!tag) {\n        continue;\n      }\n\n      const item = new GroupModel('tag', tag, parent);\n      item.depth = GROUP_DEPTH + 1; // don't put empty tag into content, instead put its operations\n\n      if (tag.name === '') {\n        const items = [...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options), ...this.getOperationsItems(parser, undefined, tag, item.depth + 1, options)];\n        res.push(...items);\n        continue;\n      }\n\n      item.items = [...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options), ...this.getOperationsItems(parser, item, tag, item.depth + 1, options)];\n      res.push(item);\n    }\n\n    return res;\n  }\n  /**\r\n   * Returns array of Operation items for the tag\r\n   * @param parent parent OperationsGroup\r\n   * @param tag tag info returned from `getTagsWithOperations`\r\n   * @param depth items depth\r\n   */\n\n\n  static getOperationsItems(parser: OpenAPIParser, parent: GroupModel | undefined, tag: TagInfo, depth: number, options: RedocNormalizedOptions): OperationModel[] {\n    if (tag.operations.length === 0) {\n      return [];\n    }\n\n    const res: OperationModel[] = [];\n\n    for (const operationInfo of tag.operations) {\n      const operation = new OperationModel(parser, operationInfo, parent, options);\n      operation.depth = depth;\n      res.push(operation);\n    }\n\n    return res;\n  }\n  /**\r\n   * collects tags and maps each tag to list of operations belonging to this tag\r\n   */\n\n\n  static getTagsWithOperations(spec: OpenAPISpec): TagsInfoMap {\n    const tags: TagsInfoMap = {};\n\n    for (const tag of spec.tags || []) {\n      tags[tag.name] = { ...tag,\n        operations: []\n      };\n    }\n\n    getTags(spec.paths);\n\n    if (spec['x-webhooks']) {\n      getTags(spec['x-webhooks'], true);\n    }\n\n    function getTags(paths: OpenAPIPaths, isWebhook?: boolean) {\n      for (const pathName of Object.keys(paths)) {\n        const path = paths[pathName];\n        const operations = Object.keys(path).filter(isOperationName);\n\n        for (const operationName of operations) {\n          const operationInfo = path[operationName];\n          let operationTags = operationInfo.tags;\n\n          if (!operationTags || !operationTags.length) {\n            // empty tag\n            operationTags = [''];\n          }\n\n          for (const tagName of operationTags) {\n            let tag = tags[tagName];\n\n            if (tag === undefined) {\n              tag = {\n                name: tagName,\n                operations: []\n              };\n              tags[tagName] = tag;\n            }\n\n            if (tag['x-traitTag']) {\n              continue;\n            }\n\n            tag.operations.push({ ...operationInfo,\n              pathName,\n              pointer: JsonPointer.compile(['paths', pathName, operationName]),\n              httpVerb: operationName,\n              pathParameters: path.parameters || [],\n              pathServers: path.servers,\n              isWebhook: !!isWebhook\n            });\n          }\n        }\n      }\n    }\n\n    return tags;\n  }\n\n}","import { action, observable, makeObservable } from 'mobx';\nimport { querySelector } from '../utils/dom';\nimport { SpecStore } from './models';\nimport { history as historyInst, HistoryService } from './HistoryService';\nimport { ScrollService } from './ScrollService';\nimport { flattenByProp, SECURITY_SCHEMES_SECTION_PREFIX } from '../utils';\nimport { GROUP_DEPTH } from './MenuBuilder';\nexport type MenuItemGroupType = 'group' | 'tag' | 'section';\nexport type MenuItemType = MenuItemGroupType | 'operation';\n/** Generic interface for MenuItems */\n\nexport interface IMenuItem {\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  description?: string;\n  depth: number;\n  active: boolean;\n  expanded: boolean;\n  items: IMenuItem[];\n  parent?: IMenuItem;\n  deprecated?: boolean;\n  type: MenuItemType;\n  deactivate(): void;\n  activate(): void;\n  collapse(): void;\n  expand(): void;\n}\nexport const SECTION_ATTR = 'data-section-id';\n/**\r\n * Stores all side-menu related information\r\n */\n\nexport class MenuStore {\n  /**\r\n   * Statically try update scroll position\r\n   * Used before hydrating from server-side rendered html to scroll page faster\r\n   */\n  static updateOnHistory(id: string = historyInst.currentId, scroll: ScrollService) {\n    if (!id) {\n      return;\n    }\n\n    scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\n  }\n  /**\r\n   * active item absolute index (when flattened). -1 means nothing is selected\r\n   */\n\n\n  @observable\n  activeItemIdx: number = -1;\n  /**\r\n   * whether sidebar with menu is opened or not\r\n   */\n\n  @observable\n  sideBarOpened: boolean = false;\n  items: IMenuItem[];\n  flatItems: IMenuItem[];\n  /**\r\n   * cached flattened menu items to support absolute indexing\r\n   */\n\n  private _unsubscribe: () => void;\n  private _hashUnsubscribe: () => void;\n  /**\r\n   *\r\n   * @param spec [SpecStore](#SpecStore) which contains page content structure\r\n   * @param scroll scroll service instance used by this menu\r\n   */\n\n  constructor(spec: SpecStore, public scroll: ScrollService, public history: HistoryService) {\n    makeObservable(this);\n    this.items = spec.contentItems;\n    this.flatItems = flattenByProp(this.items || [], 'items');\n    this.flatItems.forEach((item, idx) => item.absoluteIdx = idx);\n    this.subscribe();\n  }\n\n  subscribe() {\n    this._unsubscribe = this.scroll.subscribe(this.updateOnScroll);\n    this._hashUnsubscribe = this.history.subscribe(this.updateOnHistory);\n  }\n\n  @action\n  toggleSidebar() {\n    this.sideBarOpened = this.sideBarOpened ? false : true;\n  }\n\n  @action\n  closeSidebar() {\n    this.sideBarOpened = false;\n  }\n  /**\r\n   * update active items on scroll\r\n   * @param isScrolledDown whether last scroll was downside\r\n   */\n\n\n  updateOnScroll = (isScrolledDown: boolean): void => {\n    const step = isScrolledDown ? 1 : -1;\n    let itemIdx = this.activeItemIdx;\n\n    while (true) {\n      if (itemIdx === -1 && !isScrolledDown) {\n        break;\n      }\n\n      if (itemIdx >= this.flatItems.length - 1 && isScrolledDown) {\n        break;\n      }\n\n      if (isScrolledDown) {\n        const el = this.getElementAtOrFirstChild(itemIdx + 1);\n\n        if (this.scroll.isElementBellow(el)) {\n          break;\n        }\n      } else {\n        const el = this.getElementAt(itemIdx);\n\n        if (this.scroll.isElementAbove(el)) {\n          break;\n        }\n      }\n\n      itemIdx += step;\n    }\n\n    this.activate(this.flatItems[itemIdx], true, true);\n  };\n  /**\r\n   * update active items on hash change\r\n   * @param id current hash\r\n   */\n\n  updateOnHistory = (id: string = this.history.currentId) => {\n    if (!id) {\n      return;\n    }\n\n    let item: IMenuItem | undefined;\n    item = this.flatItems.find(i => i.id === id);\n\n    if (item) {\n      this.activateAndScroll(item, false);\n    } else {\n      if (id.startsWith(SECURITY_SCHEMES_SECTION_PREFIX)) {\n        item = this.flatItems.find(i => SECURITY_SCHEMES_SECTION_PREFIX.startsWith(i.id));\n        this.activate(item);\n      }\n\n      this.scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\n    }\n  };\n  /**\r\n   * get section/operation DOM Node related to the item or null if it doesn't exist\r\n   * @param idx item absolute index\r\n   */\n\n  getElementAt(idx: number): Element | null {\n    const item = this.flatItems[idx];\n    return item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`) || null;\n  }\n  /**\r\n   * get section/operation DOM Node related to the item or if it is group item, returns first item of the group\r\n   * @param idx item absolute index\r\n   */\n\n\n  getElementAtOrFirstChild(idx: number): Element | null {\n    let item = this.flatItems[idx];\n\n    if (item && item.type === 'group') {\n      item = item.items[0];\n    }\n\n    return item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`) || null;\n  }\n  /**\r\n   * current active item\r\n   */\n\n\n  get activeItem(): IMenuItem {\n    return this.flatItems[this.activeItemIdx] || undefined;\n  }\n\n  getItemById = (id: string) => {\n    return this.flatItems.find(item => item.id === id);\n  };\n  /**\r\n   * activate menu item\r\n   * @param item item to activate\r\n   * @param updateLocation [true] whether to update location\r\n   * @param rewriteHistory [false] whether to rewrite browser history (do not create new entry)\r\n   */\n\n  @action\n  activate(item: IMenuItem | undefined, updateLocation: boolean = true, rewriteHistory: boolean = false) {\n    if ((this.activeItem && this.activeItem.id) === (item && item.id)) {\n      return;\n    }\n\n    if (item && item.type === 'group') {\n      return;\n    }\n\n    this.deactivate(this.activeItem);\n\n    if (!item) {\n      this.history.replace('', rewriteHistory);\n      return;\n    } // do not allow activating group items\n    // TODO: control over options\n\n\n    if (item.depth <= GROUP_DEPTH) {\n      return;\n    }\n\n    this.activeItemIdx = item.absoluteIdx!;\n\n    if (updateLocation) {\n      this.history.replace(item.id, rewriteHistory);\n    }\n\n    item.activate();\n    item.expand();\n  }\n  /**\r\n   * makes item and all the parents not active\r\n   * @param item item to deactivate\r\n   */\n\n\n  deactivate(item: IMenuItem | undefined) {\n    if (item === undefined) {\n      return;\n    }\n\n    item.deactivate();\n\n    while (item !== undefined) {\n      item.collapse();\n      item = item.parent;\n    }\n  }\n  /**\r\n   * activate menu item and scroll to it\r\n   * @see MenuStore.activate\r\n   */\n\n\n  @action.bound\n  activateAndScroll(item: IMenuItem | undefined, updateLocation?: boolean, rewriteHistory?: boolean) {\n    // item here can be a copy from search results so find corresponding item from menu\n    const menuItem = item && this.getItemById(item.id) || item;\n    this.activate(menuItem, updateLocation, rewriteHistory);\n    this.scrollToActive();\n\n    if (!menuItem || !menuItem.items.length) {\n      this.closeSidebar();\n    }\n  }\n  /**\r\n   * scrolls to active section\r\n   */\n\n\n  scrollToActive(): void {\n    this.scroll.scrollIntoView(this.getElementAt(this.activeItemIdx));\n  }\n\n  dispose() {\n    this._unsubscribe();\n\n    this._hashUnsubscribe();\n  }\n\n}","import { bind } from 'decko';\nimport * as EventEmitter from 'eventemitter3';\nimport { IS_BROWSER, querySelector, Throttle } from '../utils';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\nconst EVENT = 'scroll';\nexport class ScrollService {\n  private _scrollParent: Window | HTMLElement | undefined;\n  private _emiter: EventEmitter;\n  private _prevOffsetY = 0;\n\n  constructor(private options: RedocNormalizedOptions) {\n    this._scrollParent = IS_BROWSER ? window : undefined;\n    this._emiter = new EventEmitter();\n    this.bind();\n  }\n\n  bind() {\n    this._prevOffsetY = this.scrollY();\n\n    if (this._scrollParent) {\n      this._scrollParent.addEventListener('scroll', this.handleScroll);\n    }\n  }\n\n  dispose() {\n    if (this._scrollParent) {\n      this._scrollParent.removeEventListener('scroll', this.handleScroll);\n    }\n\n    this._emiter.removeAllListeners(EVENT);\n  }\n\n  scrollY(): number {\n    if (typeof HTMLElement !== 'undefined' && this._scrollParent instanceof HTMLElement) {\n      return this._scrollParent.scrollTop;\n    } else if (this._scrollParent !== undefined) {\n      return (this._scrollParent as Window).pageYOffset;\n    } else {\n      return 0;\n    }\n  }\n\n  isElementBellow(el: Element | null) {\n    if (el === null) {\n      return;\n    }\n\n    return el.getBoundingClientRect().top > this.options.scrollYOffset();\n  }\n\n  isElementAbove(el: Element | null) {\n    if (el === null) {\n      return;\n    }\n\n    const top = el.getBoundingClientRect().top;\n    return (top > 0 ? Math.floor(top) : Math.ceil(top)) <= this.options.scrollYOffset();\n  }\n\n  subscribe(cb): () => void {\n    const emmiter = this._emiter.addListener(EVENT, cb);\n\n    return () => emmiter.removeListener(EVENT, cb);\n  }\n\n  scrollIntoView(element: Element | null) {\n    if (element === null) {\n      return;\n    }\n\n    element.scrollIntoView();\n\n    if (this._scrollParent && this._scrollParent.scrollBy) {\n      // adding 1 account rounding errors in case scrollYOffset is float-number\n      (this._scrollParent.scrollBy as any)(0, -this.options.scrollYOffset() + 1);\n    }\n  }\n\n  scrollIntoViewBySelector(selector: string) {\n    const element = querySelector(selector);\n    this.scrollIntoView(element);\n  }\n\n  @bind\n  @Throttle(100)\n  handleScroll() {\n    const scrollY = this.scrollY();\n    const isScrolledDown = scrollY - this._prevOffsetY > 0;\n    this._prevOffsetY = this.scrollY();\n\n    this._emiter.emit(EVENT, isScrolledDown);\n  }\n\n}","import { IS_BROWSER } from '../utils/';\nimport { IMenuItem } from './MenuStore';\nimport { OperationModel } from './models';\nimport Worker from './SearchWorker.worker';\n\nfunction getWorker() {\n  let worker: new () => Worker;\n\n  if (IS_BROWSER) {\n    try {\n      // tslint:disable-next-line\n      worker = require('workerize-loader?fallback=false!./SearchWorker.worker');\n    } catch (e) {\n      worker = require('./SearchWorker.worker').default;\n    }\n  } else {\n    worker = require('./SearchWorker.worker').default;\n  }\n\n  return new worker();\n}\n\nexport class SearchStore<T> {\n  searchWorker = getWorker();\n\n  indexItems(groups: Array<IMenuItem | OperationModel>) {\n    const recurse = items => {\n      items.forEach(group => {\n        if (group.type !== 'group') {\n          this.add(group.name, group.description || '', group.id);\n        }\n\n        recurse(group.items);\n      });\n    };\n\n    recurse(groups);\n    this.searchWorker.done();\n  }\n\n  add(title: string, body: string, meta?: T) {\n    this.searchWorker.add(title, body, meta);\n  }\n\n  dispose() {\n    (this.searchWorker as any).terminate();\n    (this.searchWorker as any).dispose();\n  }\n\n  search(q: string) {\n    return this.searchWorker.search<T>(q);\n  }\n\n  async toJS() {\n    return this.searchWorker.toJS();\n  }\n\n  load(state: any) {\n    this.searchWorker.load(state);\n  }\n\n  fromExternalJS(path?: string, exportName?: string) {\n    if (path && exportName) {\n      this.searchWorker.fromExternalJS(path, exportName);\n    }\n  }\n\n}","import { SECTION_ATTR } from '../services/MenuStore';\nimport styled, { media } from '../styled-components';\nexport const MiddlePanel = styled.div<{\n  compact?: boolean;\n}>`\n  width: calc(100% - ${props => props.theme.rightPanel.width});\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\n  direction: ${props => props.theme.typography.direction || 'ltr'};\n  text-align: ${props => props.theme.typography.direction === 'rtl' ? 'right' : 'inherit'};\n\n  ${({\n  compact,\n  theme\n}) => media.lessThan('medium', true)`\n    width: 100%;\n    padding: ${`${compact ? 0 : theme.spacing.sectionVertical}px ${theme.spacing.sectionHorizontal}px`};\n  `};\n`;\nexport const Section = styled.div.attrs(props => ({\n  [SECTION_ATTR]: props.id\n}))<{\n  underlined?: boolean;\n}>`\n  padding: ${props => props.theme.spacing.sectionVertical}px 0;\n\n  &:first-child {\n    padding: ${props => props.theme.spacing.sectionHorizontal - 5}px 0;\n  }\n\n  &:last-child {\n    min-height: calc(100vh + 1px);\n  }\n\n  & > &:last-child {\n    min-height: initial;\n  }\n\n  ${media.lessThan('medium', true)`\n    padding: 0;\n  `}\n  ${(props: any) => props.underlined && `\n    position: relative;\n\n    &:not(:last-of-type):after {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      display: block;\n      content: '';\n      border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n    }\n  ` || ''}\n`;\nexport const RightPanel = styled.div`\n  width: ${props => props.theme.rightPanel.width};\n  color: ${({\n  theme\n}) => theme.rightPanel.textColor};\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\n\n  ${media.lessThan('medium', true)`\n    width: 100%;\n    padding: ${props => `${props.theme.spacing.sectionVertical}px ${props.theme.spacing.sectionHorizontal}px`};\n  `};\n`;\nexport const DarkRightPanel = styled(RightPanel)`\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\n`;\nexport const Row = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 0;\n\n  ${media.lessThan('medium', true)`\n    flex-direction: column;\n  `};\n`;\nexport const FlexLayout = styled.div`\n  align-items: flex-end;\n  display: flex;\n  width: 100%;\n`;\nexport const FlexLayoutReverse = styled(FlexLayout)`\n  flex-direction: row-reverse;\n`;","import styled, { css, extensionsHook } from '../styled-components';\nconst headerFontSize = {\n  1: '1.85714em',\n  2: '1.57143em',\n  3: '1.27em'\n};\nexport const headerCommonMixin = level => css`\n  font-family: ${({\n  theme\n}) => theme.typography.headings.fontFamily};\n  font-weight: ${({\n  theme\n}) => theme.typography.headings.fontWeight};\n  font-size: ${headerFontSize[level]};\n  line-height: ${({\n  theme\n}) => theme.typography.headings.lineHeight};\n`;\nexport const H1 = styled.h1`\n  ${headerCommonMixin(1)};\n  color: ${({\n  theme\n}) => theme.colors.primary.main};\n\n  ${extensionsHook('H1')};\n`;\nexport const H2 = styled.h2`\n  ${headerCommonMixin(2)};\n  color: black;\n\n  ${extensionsHook('H2')};\n`;\nexport const H3 = styled.h2`\n  ${headerCommonMixin(3)};\n  color: black;\n\n  ${extensionsHook('H3')};\n`;\nexport const RightPanelHeader = styled.h3`\n  color: ${({\n  theme\n}) => theme.rightPanel.textColor};\n\n  ${extensionsHook('RightPanelHeader')};\n`;\nexport const UnderlinedHeader = styled.h5`\n  border-bottom: 1px solid rgba(38, 50, 56, 0.3);\n  margin: 1em 0 1em 0;\n  color: rgba(38, 50, 56, 0.5);\n  font-weight: normal;\n  text-transform: uppercase;\n  font-size: 0.929em;\n  line-height: 20px;\n\n  ${extensionsHook('UnderlinedHeader')};\n`;","import * as memoize from 'memoize-one/dist/memoize-one.cjs'; // fixme: https://github.com/alexreardon/memoize-one/issues/37\n\nimport { Component, createContext } from 'react';\nimport { AppStore } from '../services/';\nimport { RedocRawOptions } from '../services/RedocNormalizedOptions';\nimport { loadAndBundleSpec } from '../utils';\nexport interface StoreBuilderProps {\n  specUrl?: string;\n  spec?: object;\n  store?: AppStore;\n  options?: RedocRawOptions;\n  onLoaded?: (e?: Error) => void;\n  children: (props: {\n    loading: boolean;\n    store?: AppStore;\n  }) => any;\n}\nexport interface StoreBuilderState {\n  error?: Error;\n  loading: boolean;\n  resolvedSpec?: any;\n  prevSpec?: any;\n  prevSpecUrl?: string;\n}\nconst {\n  Provider,\n  Consumer\n} = createContext<AppStore | undefined>(undefined);\nexport { Provider as StoreProvider, Consumer as StoreConsumer };\nexport class StoreBuilder extends Component<StoreBuilderProps, StoreBuilderState> {\n  static getDerivedStateFromProps(nextProps: StoreBuilderProps, prevState: StoreBuilderState) {\n    if (nextProps.specUrl !== prevState.prevSpecUrl || nextProps.spec !== prevState.prevSpec) {\n      return {\n        loading: true,\n        resolvedSpec: null,\n        prevSpec: nextProps.spec,\n        prevSpecUrl: nextProps.specUrl\n      };\n    }\n\n    return null;\n  }\n\n  state: StoreBuilderState = {\n    loading: true,\n    resolvedSpec: null\n  };\n\n  @memoize\n  makeStore(spec, specUrl, options) {\n    if (!spec) {\n      return undefined;\n    }\n\n    try {\n      return new AppStore(spec, specUrl, options);\n    } catch (e) {\n      if (this.props.onLoaded) {\n        this.props.onLoaded(e);\n      }\n\n      throw e;\n    }\n  }\n\n  componentDidMount() {\n    this.load();\n  }\n\n  componentDidUpdate() {\n    if (this.state.resolvedSpec === null) {\n      this.load();\n    } else if (!this.state.loading && this.props.onLoaded) {\n      // may run multiple time\n      this.props.onLoaded();\n    }\n  }\n\n  async load() {\n    const {\n      specUrl,\n      spec\n    } = this.props;\n\n    try {\n      const resolvedSpec = await loadAndBundleSpec(spec || specUrl!);\n      this.setState({\n        resolvedSpec,\n        loading: false\n      });\n    } catch (e) {\n      if (this.props.onLoaded) {\n        this.props.onLoaded(e);\n      }\n\n      this.setState({\n        error: e\n      });\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      throw this.state.error;\n    }\n\n    const {\n      specUrl,\n      options\n    } = this.props;\n    const {\n      loading,\n      resolvedSpec\n    } = this.state;\n    return this.props.children({\n      loading,\n      store: this.makeStore(resolvedSpec, specUrl, options)\n    });\n  }\n\n}","import * as React from 'react';\nimport { StoreConsumer } from '../components/StoreBuilder';\nimport styled, { css } from '../styled-components';\nimport { HistoryService } from '../services'; // tslint:disable-next-line\n\nexport const linkifyMixin = className => css`\n  ${className} {\n    cursor: pointer;\n    margin-left: -20px;\n    padding: 0;\n    line-height: 1;\n    width: 20px;\n    display: inline-block;\n    outline: 0;\n  }\n  ${className}:before {\n    content: '';\n    width: 15px;\n    height: 15px;\n    background-size: contain;\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjMDEwMTAxIiBkPSJNNDU5LjcgMjMzLjRsLTkwLjUgOTAuNWMtNTAgNTAtMTMxIDUwLTE4MSAwIC03LjktNy44LTE0LTE2LjctMTkuNC0yNS44bDQyLjEtNDIuMWMyLTIgNC41LTMuMiA2LjgtNC41IDIuOSA5LjkgOCAxOS4zIDE1LjggMjcuMiAyNSAyNSA2NS42IDI0LjkgOTAuNSAwbDkwLjUtOTAuNWMyNS0yNSAyNS02NS42IDAtOTAuNSAtMjQuOS0yNS02NS41LTI1LTkwLjUgMGwtMzIuMiAzMi4yYy0yNi4xLTEwLjItNTQuMi0xMi45LTgxLjYtOC45bDY4LjYtNjguNmM1MC01MCAxMzEtNTAgMTgxIDBDNTA5LjYgMTAyLjMgNTA5LjYgMTgzLjQgNDU5LjcgMjMzLjR6TTIyMC4zIDM4Mi4ybC0zMi4yIDMyLjJjLTI1IDI0LjktNjUuNiAyNC45LTkwLjUgMCAtMjUtMjUtMjUtNjUuNiAwLTkwLjVsOTAuNS05MC41YzI1LTI1IDY1LjUtMjUgOTAuNSAwIDcuOCA3LjggMTIuOSAxNy4yIDE1LjggMjcuMSAyLjQtMS40IDQuOC0yLjUgNi44LTQuNWw0Mi4xLTQyYy01LjQtOS4yLTExLjYtMTgtMTkuNC0yNS44IC01MC01MC0xMzEtNTAtMTgxIDBsLTkwLjUgOTAuNWMtNTAgNTAtNTAgMTMxIDAgMTgxIDUwIDUwIDEzMSA1MCAxODEgMGw2OC42LTY4LjZDMjc0LjYgMzk1LjEgMjQ2LjQgMzkyLjMgMjIwLjMgMzgyLjJ6Ii8+PC9zdmc+Cg==');\n    opacity: 0.5;\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover > ${className}::before, h2:hover > ${className}::before, ${className}:hover::before {\n    visibility: visible;\n  }\n`;\n\nconst isModifiedEvent = event => !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\nexport class Link extends React.Component<{\n  to: string;\n  className?: string;\n  children?: any;\n}> {\n  navigate = (history: HistoryService, event) => {\n    if (!event.defaultPrevented && // onClick prevented default\n    event.button === 0 && // ignore everything but left clicks\n    !isModifiedEvent(event) // ignore clicks with modifier keys\n    ) {\n        event.preventDefault();\n        history.replace(this.props.to);\n      }\n  };\n\n  render() {\n    return <StoreConsumer>\r\n        {store => <a className={this.props.className} href={store!.menu.history.linkForId(this.props.to)} onClick={this.navigate.bind(this, store!.menu.history)} aria-label={this.props.to}>\r\n            {this.props.children}\r\n          </a>}\r\n      </StoreConsumer>;\n  }\n\n}\nconst StyledShareLink = styled(Link)`\n  ${linkifyMixin('&')};\n`;\nexport function ShareLink(props: {\n  to: string;\n}) {\n  return <StyledShareLink to={props.to} />;\n}","import * as React from 'react';\nimport styled from '../styled-components';\nconst directionMap = {\n  left: '90deg',\n  right: '-90deg',\n  up: '-180deg',\n  down: '0'\n};\n\nclass IntShelfIcon extends React.PureComponent<{\n  className?: string;\n  float?: 'left' | 'right';\n  size?: string;\n  color?: string;\n  direction: 'left' | 'right' | 'up' | 'down';\n  style?: React.CSSProperties;\n}> {\n  render() {\n    return <svg className={this.props.className} style={this.props.style} version=\"1.1\" viewBox=\"0 0 24 24\" x=\"0\" xmlns=\"http://www.w3.org/2000/svg\" y=\"0\" aria-hidden=\"true\">\r\n        <polygon points=\"17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 \" />\r\n      </svg>;\n  }\n\n}\n\nexport const ShelfIcon = styled(IntShelfIcon)`\n  height: ${props => props.size || '18px'};\n  width: ${props => props.size || '18px'};\n  vertical-align: middle;\n  float: ${props => props.theme.typography.direction === 'rtl' ? 'right' : props.float || ''};\n  transition: transform 0.2s ease-out;\n  transform: rotateZ(\n    ${props => props.theme.typography.direction === 'rtl' ? directionMap[props.direction === 'right' ? 'left' : 'down' || 'down'] : directionMap[props.direction || 'down']}\n  );\n\n  polygon {\n    fill: ${({\n  color,\n  theme\n}) => color && theme.colors.responses[color] && theme.colors.responses[color].color || color};\n  }\n`;\nexport const Badge = styled.span<{\n  type: string;\n}>`\n  display: inline-block;\n  padding: 2px 8px;\n  margin: 0;\n  background-color: ${props => props.theme.colors[props.type].main};\n  color: ${props => props.theme.colors[props.type].contrastText};\n  font-size: ${props => props.theme.typography.code.fontSize};\n  vertical-align: middle;\n  line-height: 1.6;\n  border-radius: 4px;\n  font-weight: ${({\n  theme\n}) => theme.typography.fontWeightBold};\n  font-size: 12px;\n  + span[type] {\n    margin-left: 4px;\n  }\n`;","import { css } from '../styled-components';\nexport const deprecatedCss = css`\n  text-decoration: line-through;\n  color: #707070;\n`;","// import { transparentize } from 'polished';\nimport styled, { extensionsHook, media } from '../styled-components';\nimport { deprecatedCss } from './mixins';\nexport const PropertiesTableCaption = styled.caption`\n  text-align: right;\n  font-size: 0.9em;\n  font-weight: normal;\n  color: ${props => props.theme.colors.text.secondary};\n`;\nexport const PropertyCell = styled.td<{\n  kind?: string;\n}>`\n  border-left: 1px solid ${props => props.theme.schema.linesColor};\n  box-sizing: border-box;\n  position: relative;\n  padding: 10px 10px 10px 0;\n  ${media.lessThan('small')`\n    display: block;\n    overflow: hidden;\n  `}\n  tr:first-of-type > &,\n  tr.last > & {\n    border-left-width: 0;\n    background-position: top left;\n    background-repeat: no-repeat;\n    background-size: 1px 100%;\n  }\n  tr:first-of-type > & {\n    background-image: linear-gradient(\n      to bottom,\n      transparent 0%,\n      transparent 22px,\n      ${props => props.theme.schema.linesColor} 22px,\n      ${props => props.theme.schema.linesColor} 100%\n    );\n  }\n  tr.last > & {\n    background-image: linear-gradient(\n      to bottom,\n      ${props => props.theme.schema.linesColor} 0%,\n      ${props => props.theme.schema.linesColor} 22px,\n      transparent 22px,\n      transparent 100%\n    );\n  }\n  tr.last + tr > & {\n    border-left-color: transparent;\n  }\n  tr.last:first-child > & {\n    background: none;\n    border-left-color: transparent;\n  }\n`;\nexport const PropertyCellWithInner = styled(PropertyCell)`\n  padding: 0;\n`;\nexport const PropertyNameCell = styled(PropertyCell)`\n  vertical-align: top;\n  line-height: 20px;\n  white-space: nowrap;\n  font-size: 13px;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  &.deprecated {\n    ${deprecatedCss};\n  }\n  ${({\n  kind\n}) => kind !== 'field' ? 'font-style: italic' : ''};\n  ${extensionsHook('PropertyNameCell')};\n`;\nexport const PropertyDetailsCell = styled.td`\n  border-bottom: 1px solid #9fb4be;\n  padding: 10px 0;\n  width: ${props => props.theme.schema.defaultDetailsWidth};\n  box-sizing: border-box;\n  tr.expanded & {\n    border-bottom: none;\n  }\n  ${media.lessThan('small')`\n    padding: 0 20px;\n    border-bottom: none;\n    border-left: 1px solid ${props => props.theme.schema.linesColor};\n    tr.last > & {\n      border-left: none;\n    }\n  `}\n  ${extensionsHook('PropertyDetailsCell')};\n`;\nexport const PropertyBullet = styled.span`\n  color: ${props => props.theme.schema.linesColor};\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  margin-right: 10px;\n  &::before {\n    content: '';\n    display: inline-block;\n    vertical-align: middle;\n    width: 10px;\n    height: 1px;\n    background: ${props => props.theme.schema.linesColor};\n  }\n  &::after {\n    content: '';\n    display: inline-block;\n    vertical-align: middle;\n    width: 1px;\n    background: ${props => props.theme.schema.linesColor};\n    height: 7px;\n  }\n`;\nexport const InnerPropertiesWrap = styled.div`\n  padding: ${({\n  theme\n}) => theme.schema.nestingSpacing};\n`;\nexport const PropertiesTable = styled.table`\n  border-collapse: separate;\n  border-radius: 3px;\n  font-size: ${props => props.theme.typography.fontSize};\n  border-spacing: 0;\n  width: 100%;\n  > tr {\n    vertical-align: middle;\n  }\n  ${media.lessThan('small')`\n    display: block;\n    > tr, > tbody > tr {\n      display: block;\n    }\n  `}\n  ${media.lessThan('small', false, ' and (-ms-high-contrast:none)')`\n    td {\n      float: left;\n      width: 100%;\n    }\n  `}\n  &\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap} {\n    margin: ${({\n  theme\n}) => theme.schema.nestingSpacing};\n    margin-right: 0;\n    background: ${({\n  theme\n}) => theme.schema.nestedBackground};\n  }\n  &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap} {\n    background: #ffffff;\n  }\n`;","import styled from '../styled-components';\nimport { darken } from 'polished';\nexport const OneOfList = styled.div`\n  margin: 0 0 3px 0;\n  display: inline-block;\n`;\nexport const OneOfLabel = styled.span`\n  font-size: 0.9em;\n  margin-right: 10px;\n  color: ${props => props.theme.colors.primary.main};\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n}\n`;\nexport const OneOfButton = styled.button<{\n  active: boolean;\n}>`\n  display: inline-block;\n  margin-right: 10px;\n  margin-bottom: 5px;\n  font-size: 0.8em;\n  cursor: pointer;\n  border: 1px solid ${props => props.theme.colors.primary.main};\n  padding: 2px 10px;\n  line-height: 1.5em;\n  outline: none;\n  &:focus {\n    box-shadow: 0 0 0 1px ${props => props.theme.colors.primary.main};\n  }\n\n  ${props => {\n  if (props.active) {\n    return `\n      color: white;\n      background-color: ${props.theme.colors.primary.main};\n      &:focus {\n        box-shadow: none;\n        background-color: ${darken(0.15, props.theme.colors.primary.main)};\n      }\n      `;\n  } else {\n    return `\n        color: ${props.theme.colors.primary.main};\n        background-color: white;\n      `;\n  }\n}}\n`;\nexport const ArrayOpenningLabel = styled.div`\n  font-size: 0.9em;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  &::after {\n    content: ' [';\n  }\n`;\nexport const ArrayClosingLabel = styled.div`\n  font-size: 0.9em;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  &::after {\n    content: ']';\n  }\n`;","import Dropdown from '@redocly/react-dropdown-aria';\nimport styled from '../styled-components';\nexport interface DropdownOption {\n  idx: number;\n  value: string;\n}\nexport interface DropdownProps {\n  options: DropdownOption[];\n  value: string;\n  onChange: (option: DropdownOption) => void;\n  ariaLabel: string;\n}\nexport const StyledDropdown = styled(Dropdown)`\n  && {\n    box-sizing: border-box;\n    min-width: 100px;\n    outline: none;\n    display: inline-block;\n    border-radius: 2px;\n    border: 1px solid rgba(38, 50, 56, 0.5);\n    vertical-align: bottom;\n    padding: 2px 0px 2px 6px;\n    position: relative;\n    width: auto;\n    background: white;\n    color: #263238;\n    font-family: ${props => props.theme.typography.headings.fontFamily};\n    font-size: 0.929em;\n    line-height: 1.5em;\n    cursor: pointer;\n    transition: border 0.25s ease, color 0.25s ease, box-shadow 0.25s ease;\n    &:hover,\n    &:focus-within {\n      border: 1px solid ${props => props.theme.colors.primary.main};\n      color: ${props => props.theme.colors.primary.main};\n      box-shadow: 0px 0px 0px 1px ${props => props.theme.colors.primary.main};\n    }\n    .dropdown-selector {\n      display: inline-flex;\n      padding: 0;\n      height: auto;\n      padding-right: 20px;\n      position: relative;\n      margin-bottom: 5px;\n    }\n    .dropdown-selector-value {\n      font-family: ${props => props.theme.typography.headings.fontFamily};\n      position: relative;\n      font-size: 0.929em;\n      width: 100%;\n      line-height: 1;\n      vertical-align: middle;\n      color: #263238;\n      left: 0;\n      transition: color 0.25s ease, text-shadow 0.25s ease;\n    }\n    .dropdown-arrow {\n      position: absolute;\n      right: 3px;\n      top: 50%;\n      transform: translateY(-50%);\n      border-color: ${props => props.theme.colors.primary.main} transparent transparent;\n      border-style: solid;\n      border-width: 0.35em 0.35em 0;\n      width: 0;\n      svg {\n        display: none;\n      }\n    }\n\n    .dropdown-selector-content {\n      position: absolute;\n      margin-top: 2px;\n      left: -2px;\n      right: 0;\n\n      z-index: 10;\n      min-width: 100px;\n\n      background: white;\n      border: 1px solid rgba(38, 50, 56, 0.2);\n      box-shadow: 0px 2px 4px 0px rgba(34, 36, 38, 0.12), 0px 2px 10px 0px rgba(34, 36, 38, 0.08);\n\n      max-height: 220px;\n      overflow: auto;\n    }\n\n    .dropdown-option {\n      font-size: 0.9em;\n      color: #263238;\n      cursor: pointer;\n      padding: 0.4em;\n      background-color: #ffffff;\n\n      &[aria-selected='true'] {\n        background-color: rgba(0, 0, 0, 0.05);\n      }\n\n      &:hover {\n        background-color: rgba(38, 50, 56, 0.12);\n      }\n    }\n    input {\n      cursor: pointer;\n      height: 1px;\n      background-color: transparent;\n    }\n  }\n`;\nexport const SimpleDropdown = styled(StyledDropdown)`\n  && {\n    margin-left: 10px;\n    text-transform: none;\n    font-size: 0.969em;\n\n    font-size: 1em;\n    border: none;\n    padding: 0 1.2em 0 0;\n    background: transparent;\n\n    &:hover,\n    &:focus-within {\n      border: none;\n      box-shadow: none;\n      .dropdown-selector-value {\n        color: ${props => props.theme.colors.primary.main};\n        text-shadow: 0px 0px 0px ${props => props.theme.colors.primary.main};\n      }\n    }\n  }\n`;\nexport const MimeLabel = styled.span`\n  margin-left: 10px;\n  text-transform: none;\n  font-size: 0.929em;\n  color: black;\n`;","import { darken } from 'polished';\nimport { Tabs as ReactTabs } from 'react-tabs';\nimport styled from '../styled-components';\nexport { Tab, TabList, TabPanel } from 'react-tabs';\nexport const Tabs = styled(ReactTabs)`\n  > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin: 0 -5px;\n\n    > li {\n      padding: 5px 10px;\n      display: inline-block;\n\n      background-color: ${({\n  theme\n}) => theme.codeBlock.backgroundColor};\n      border-bottom: 1px solid rgba(0, 0, 0, 0.5);\n      cursor: pointer;\n      text-align: center;\n      outline: none;\n      color: ${({\n  theme\n}) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\n      margin: 0\n        ${({\n  theme\n}) => `${theme.spacing.unit}px ${theme.spacing.unit}px ${theme.spacing.unit}px`};\n      border: 1px solid ${({\n  theme\n}) => darken(0.05, theme.codeBlock.backgroundColor)};\n      border-radius: 5px;\n      min-width: 60px;\n      font-size: 0.9em;\n      font-weight: bold;\n\n      &.react-tabs__tab--selected {\n        color: ${props => props.theme.colors.text.primary};\n        background: ${({\n  theme\n}) => theme.rightPanel.textColor};\n        &:focus {\n          outline: auto;\n        }\n      }\n\n      &:only-child {\n        flex: none;\n        min-width: 100px;\n      }\n\n      &.tab-success {\n        color: ${props => props.theme.colors.responses.success.tabTextColor};\n      }\n\n      &.tab-redirect {\n        color: ${props => props.theme.colors.responses.redirect.tabTextColor};\n      }\n\n      &.tab-info {\n        color: ${props => props.theme.colors.responses.info.tabTextColor};\n      }\n\n      &.tab-error {\n        color: ${props => props.theme.colors.responses.error.tabTextColor};\n      }\n    }\n  }\n  > .react-tabs__tab-panel {\n    background: ${({\n  theme\n}) => theme.codeBlock.backgroundColor};\n    & > div,\n    & > pre {\n      padding: ${props => props.theme.spacing.unit * 4}px;\n      margin: 0;\n    }\n\n    & > div > pre {\n      padding: 0;\n      direction: ltr;\n    }\n  }\n`;\nexport const SmallTabs = styled(Tabs)`\n  > ul {\n    display: block;\n    > li {\n      padding: 2px 5px;\n      min-width: auto;\n      margin: 0 15px 0 0;\n      font-size: 13px;\n      font-weight: normal;\n      border-bottom: 1px dashed;\n      color: ${({\n  theme\n}) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\n      border-radius: 0;\n      background: none;\n\n      &:last-child {\n        margin-right: 0;\n      }\n\n      &.react-tabs__tab--selected {\n        color: ${({\n  theme\n}) => theme.rightPanel.textColor};\n        background: none;\n      }\n    }\n  }\n  > .react-tabs__tab-panel {\n    & > div,\n    & > pre {\n      padding: ${props => props.theme.spacing.unit * 2}px 0;\n    }\n  }\n`;","import styled, { extensionsHook } from '../styled-components';\nexport const PrismDiv = styled.div`\n  /**\n  * Based on prism-dark.css\n  */\n\n  code[class*='language-'],\n  pre[class*='language-'] {\n    /* color: white;\n    background: none; */\n    text-shadow: 0 -0.1em 0.2em black;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    word-wrap: normal;\n    line-height: 1.5;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  @media print {\n    code[class*='language-'],\n    pre[class*='language-'] {\n      text-shadow: none;\n    }\n  }\n\n  /* Code blocks */\n  pre[class*='language-'] {\n    padding: 1em;\n    margin: 0.5em 0;\n    overflow: auto;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: hsl(30, 20%, 50%);\n  }\n\n  .token.punctuation {\n    opacity: 0.7;\n  }\n\n  .namespace {\n    opacity: 0.7;\n  }\n\n  .token.property,\n  .token.tag,\n  .token.number,\n  .token.constant,\n  .token.symbol {\n    color: #4a8bb3;\n  }\n\n  .token.boolean {\n    color: #e64441;\n  }\n\n  .token.selector,\n  .token.attr-name,\n  .token.string,\n  .token.char,\n  .token.builtin,\n  .token.inserted {\n    color: #a0fbaa;\n    & + a,\n    & + a:visited {\n      color: #4ed2ba;\n      text-decoration: underline;\n    }\n  }\n\n  .token.property.string {\n    color: white;\n  }\n\n  .token.operator,\n  .token.entity,\n  .token.url,\n  .token.variable {\n    color: hsl(40, 90%, 60%);\n  }\n\n  .token.atrule,\n  .token.attr-value,\n  .token.keyword {\n    color: hsl(350, 40%, 70%);\n  }\n\n  .token.regex,\n  .token.important {\n    color: #e90;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n\n  .token.deleted {\n    color: red;\n  }\n\n  ${extensionsHook('Prism')};\n`;","import styled from '../styled-components';\nimport { PrismDiv } from './PrismDiv';\nexport const SampleControls = styled.div`\n  opacity: 0.7;\n  transition: opacity 0.3s ease;\n  text-align: right;\n  &:focus-within {\n    opacity: 1;\n  }\n  > button {\n    background-color: transparent;\n    border: 0;\n    color: inherit;\n    padding: 2px 10px;\n    font-family: ${({\n  theme\n}) => theme.typography.fontFamily};\n    font-size: ${({\n  theme\n}) => theme.typography.fontSize};\n    line-height: ${({\n  theme\n}) => theme.typography.lineHeight};\n    cursor: pointer;\n    outline: 0;\n\n    :hover,\n    :focus {\n      background: rgba(255, 255, 255, 0.1);\n    }\n  }\n`;\nexport const SampleControlsWrap = styled.div`\n  &:hover ${SampleControls} {\n    opacity: 1;\n  }\n`;\nexport const StyledPre = styled(PrismDiv.withComponent('pre'))`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: ${props => props.theme.typography.code.fontSize};\n  overflow-x: auto;\n  margin: 0;\n\n  white-space: ${({\n  theme\n}) => theme.typography.code.wrap ? 'pre-wrap' : 'pre'};\n`;","import * as React from 'react';\nimport PerfectScrollbarType, * as PerfectScrollbarNamespace from 'perfect-scrollbar';\nimport psStyles from 'perfect-scrollbar/css/perfect-scrollbar.css';\nimport { OptionsContext } from '../components/OptionsProvider';\nimport styled, { createGlobalStyle } from '../styled-components';\n/*\r\n * perfect scrollbar umd bundle uses exports assignment while module uses default export\r\n * so when bundled with webpack default export works but with jest it crashes\r\n * That's why the following ugly fix is required\r\n */\n\nconst PerfectScrollbarConstructor = PerfectScrollbarNamespace.default || ((PerfectScrollbarNamespace as any) as PerfectScrollbarType);\nconst PSStyling = createGlobalStyle`${psStyles && psStyles.toString()}`;\nconst StyledScrollWrapper = styled.div`\n  position: relative;\n`;\nexport interface PerfectScrollbarProps {\n  options?: PerfectScrollbarType.Options;\n  className?: string;\n  updateFn?: (fn) => void;\n}\nexport class PerfectScrollbar extends React.Component<PerfectScrollbarProps> {\n  private _container: HTMLElement;\n  private inst: PerfectScrollbarType;\n\n  componentDidMount() {\n    const offset = this._container.parentElement && this._container.parentElement.scrollTop || 0;\n    this.inst = new PerfectScrollbarConstructor(this._container, this.props.options || {});\n\n    if (this._container.scrollTo) {\n      this._container.scrollTo(0, offset);\n    }\n  }\n\n  componentDidUpdate() {\n    this.inst.update();\n  }\n\n  componentWillUnmount() {\n    this.inst.destroy();\n  }\n\n  handleRef = ref => {\n    this._container = ref;\n  };\n\n  render() {\n    const {\n      children,\n      className,\n      updateFn\n    } = this.props;\n\n    if (updateFn) {\n      updateFn(this.componentDidUpdate.bind(this));\n    }\n\n    return <>\r\n        <PSStyling />\r\n        <StyledScrollWrapper className={`scrollbar-container ${className}`} ref={this.handleRef}>\r\n          {children}\r\n        </StyledScrollWrapper>\r\n      </>;\n  }\n\n}\nexport function PerfectScrollbarWrap(props: PerfectScrollbarProps & {\n  children: JSX.Element[] | JSX.Element;\n}) {\n  return <OptionsContext.Consumer>\r\n      {options => !options.nativeScrollbars ? <PerfectScrollbar {...props}>{props.children}</PerfectScrollbar> : <div style={{\n      overflow: 'auto',\n      overscrollBehavior: 'contain',\n      msOverflowStyle: '-ms-autohiding-scrollbar'\n    }}>\r\n            {props.children}\r\n          </div>}\r\n    </OptionsContext.Consumer>;\n}","import styled from '../styled-components';\nexport const Toggle = styled.input`\n  padding: 0.5em;\n  margin: 0.5em;\n  color: palevioletred;\n  background: papayawhip;\n  border: none;\n  border-radius: 3px;\n`;","import styled from '../styled-components';\nexport const TextField = styled.input`\n  padding: 0.5em;\n  margin: 0.5em;\n  border: 1px solid rgba(38, 50, 56, 0.5);\n  border-radius: 3px;\n`;","import styled from '../styled-components';\nexport const Button = styled.button`\n  background: #248fb2;\n  border-radius: 0px;\n  border: none;\n  color: white;\n  font-size: 0.929em;\n  padding: 5px;\n`;\nexport const SubmitButton = styled(Button)`\n  background: ${props => props.theme.colors.primary.main}\n  padding: 10px 30px;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n  outline: none;\n  margin: 1em 0;\n  min-width: 60px;\n  font-weight: bold;\n  order: 1;\n`;","export * from './panels';\nexport * from './headers';\nexport * from './linkify';\nexport * from './shelfs';\nexport * from './fields-layout';\nexport * from './schema';\nexport * from './dropdown';\nexport * from './mixins';\nexport * from './tabs';\nexport * from './samples';\nexport * from './perfect-scrollbar';\nexport * from './toggle';\nexport * from './input';\nexport * from './buttons';","import * as React from 'react';\nimport { DropdownProps, MimeLabel, SimpleDropdown } from '../../common-elements/dropdown';\nexport interface DropdownOrLabelProps extends DropdownProps {\n  Label?: React.ComponentClass;\n  Dropdown?: React.ComponentClass;\n}\nexport function DropdownOrLabel(props: DropdownOrLabelProps): JSX.Element {\n  const {\n    Label = MimeLabel,\n    Dropdown = SimpleDropdown\n  } = props;\n\n  if (props.options.length === 1) {\n    return <Label>{props.options[0].value}</Label>;\n  }\n\n  return <Dropdown {...props} searchable={false} />;\n}","import { headerCommonMixin, linkifyMixin } from '../../common-elements';\nimport { PrismDiv } from '../../common-elements/PrismDiv';\nimport styled, { css, extensionsHook, ResolvedThemeInterface } from '../../styled-components';\nimport { StyledComponent } from 'styled-components';\nexport const linksCss = css`\n  a {\n    text-decoration: none;\n    color: ${props => props.theme.typography.links.color};\n\n    &:visited {\n      color: ${props => props.theme.typography.links.visited};\n    }\n\n    &:hover {\n      color: ${props => props.theme.typography.links.hover};\n    }\n  }\n`;\nexport const StyledMarkdownBlock = styled((PrismDiv as StyledComponent<'div', ResolvedThemeInterface, {\n  compact?: boolean;\n  inline?: boolean;\n}>))`\n\n  font-family: ${props => props.theme.typography.fontFamily};\n  font-weight: ${props => props.theme.typography.fontWeightRegular};\n  line-height: ${props => props.theme.typography.lineHeight};\n\n  p {\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  ${({\n  compact\n}) => compact && `\n    p:first-child {\n      margin-top: 0;\n    }\n    p:last-child {\n      margin-bottom: 0;\n    }\n  `}\n\n  ${({\n  inline\n}) => inline && ` p {\n    display: inline-block;\n  }`}\n\n  h1 {\n    ${headerCommonMixin(1)};\n    color: ${props => props.theme.colors.primary.main};\n    margin-top: 0;\n  }\n\n  h2 {\n    ${headerCommonMixin(2)};\n    color: ${props => props.theme.colors.text.primary};\n  }\n\n  code {\n    color: ${({\n  theme\n}) => theme.typography.code.color};\n    background-color: ${({\n  theme\n}) => theme.typography.code.backgroundColor};\n\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    border-radius: 2px;\n    border: 1px solid rgba(38, 50, 56, 0.1);\n    padding: 0 ${({\n  theme\n}) => theme.spacing.unit}px;\n    font-size: ${props => props.theme.typography.code.fontSize};\n    font-weight: ${({\n  theme\n}) => theme.typography.code.fontWeight};\n\n    word-break: break-word;\n  }\n\n  pre {\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    white-space:${({\n  theme\n}) => theme.typography.code.wrap ? 'pre-wrap' : 'pre'};\n    background-color: ${({\n  theme\n}) => theme.codeBlock.backgroundColor};\n    color: white;\n    padding: ${props => props.theme.spacing.unit * 4}px;\n    overflow-x: auto;\n    line-height: normal;\n    border-radius: 0px;\n    border: 1px solid rgba(38, 50, 56, 0.1);\n\n    code {\n      background-color: transparent;\n      color: white;\n      padding: 0;\n\n      &:before,\n      &:after {\n        content: none;\n      }\n    }\n  }\n\n  blockquote {\n    margin: 0;\n    margin-bottom: 1em;\n    padding: 0 15px;\n    color: #777;\n    border-left: 4px solid #ddd;\n  }\n\n  img {\n    max-width: 100%;\n    box-sizing: content-box;\n  }\n\n  ul,\n  ol {\n    padding-left: 2em;\n    margin: 0;\n    margin-bottom: 1em;\n\n    ul, ol {\n      margin-bottom: 0;\n      margin-top: 0;\n    }\n  }\n\n  table {\n    display: block;\n    width: 100%;\n    overflow: auto;\n    word-break: normal;\n    word-break: keep-all;\n    border-collapse: collapse;\n    border-spacing: 0;\n    margin-top: 1.5em;\n    margin-bottom: 1.5em;\n  }\n\n  table tr {\n    background-color: #fff;\n    border-top: 1px solid #ccc;\n\n    &:nth-child(2n) {\n      background-color: ${({\n  theme\n}) => theme.schema.nestedBackground};\n    }\n  }\n\n  table th,\n  table td {\n    padding: 6px 13px;\n    border: 1px solid #ddd;\n  }\n\n  table th {\n    text-align: left;\n    font-weight: bold;\n  }\n\n  ${linkifyMixin('.share-link')};\n\n  ${linksCss}\n\n  ${extensionsHook('Markdown')};\n`;","import * as DOMPurify from 'dompurify';\nimport * as React from 'react';\nimport { OptionsConsumer } from '../OptionsProvider';\nimport { StylingMarkdownProps } from './Markdown';\nimport { StyledMarkdownBlock } from './styled.elements';\nconst StyledMarkdownSpan = StyledMarkdownBlock.withComponent('span');\n\nconst sanitize = (untrustedSpec, html) => untrustedSpec ? DOMPurify.sanitize(html) : html;\n\nexport function SanitizedMarkdownHTML(props: StylingMarkdownProps & {\n  html: string;\n  className?: string;\n  'data-role'?: string;\n}) {\n  const Wrap = props.inline ? StyledMarkdownSpan : StyledMarkdownBlock;\n  return <OptionsConsumer>\r\n      {options => <Wrap className={'redoc-markdown ' + (props.className || '')} dangerouslySetInnerHTML={{\n      __html: sanitize(options.untrustedSpec, props.html)\n    }} data-role={props['data-role']} {...props} />}\r\n    </OptionsConsumer>;\n}","import * as React from 'react';\nimport { MarkdownRenderer } from '../../services';\nimport styled from '../../styled-components';\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\nexport interface StylingMarkdownProps {\n  compact?: boolean;\n  inline?: boolean;\n}\nexport interface BaseMarkdownProps {\n  sanitize?: boolean;\n  source: string;\n}\nexport type MarkdownProps = BaseMarkdownProps & StylingMarkdownProps & {\n  source: string;\n  className?: string;\n  'data-role'?: string;\n  onSelectUrl?: any;\n};\nexport class Markdown extends React.Component<MarkdownProps> {\n  handleClick = () => {\n    this.props.onSelectUrl && this.props.onSelectUrl();\n  };\n\n  render() {\n    const {\n      source,\n      inline,\n      compact,\n      className,\n      'data-role': dataRole\n    } = this.props;\n    const renderer = new MarkdownRenderer();\n    return <MarkWrapper onClick={this.handleClick}>\r\n        <SanitizedMarkdownHTML html={renderer.renderMd(source)} inline={inline} compact={compact} className={className} data-role={dataRole} />\r\n      </MarkWrapper>;\n  }\n\n}\nconst MarkWrapper = styled.div`\n  div {\n    width: 100% !important;\n    padding-top: 0 !important;\n  }\n`;","import * as React from 'react';\nimport styled from '../styled-components';\nconst Wrapper = styled.div`\n  position: relative;\n`;\nconst Tip = styled.div`\n  position: absolute;\n  min-width: 80px;\n  max-width: 500px;\n  background: #fff;\n  bottom: 100%;\n  left: 50%;\n  margin-bottom: 10px;\n  transform: translateX(-50%);\n\n  border-radius: 4px;\n  padding: 0.3em 0.6em;\n  text-align: center;\n  box-shadow: 0px 0px 5px 0px rgba(204, 204, 204, 1);\n`;\nconst Content = styled.div`\n  background: #fff;\n  color: #000;\n  display: inline;\n  font-size: 0.85em;\n  white-space: nowrap;\n`;\nconst Arrow = styled.div`\n  position: absolute;\n  width: 0;\n  height: 0;\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n  border-left: solid transparent 5px;\n  border-right: solid transparent 5px;\n  border-top: solid #fff 5px;\n`;\nconst Gap = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 20px;\n  bottom: -20px;\n`;\nexport interface TooltipProps {\n  open: boolean;\n  title: string;\n}\nexport class Tooltip extends React.Component<TooltipProps> {\n  render() {\n    const {\n      open,\n      title,\n      children\n    } = this.props;\n    return <Wrapper>\r\n        {children}\r\n        {open && <Tip>\r\n            <Content>{title}</Content>\r\n            <Arrow />\r\n            <Gap />\r\n          </Tip>}\r\n      </Wrapper>;\n  }\n\n}","const isSupported = typeof document !== 'undefined' && document.queryCommandSupported && document.queryCommandSupported('copy');\nexport class ClipboardService {\n  static isSupported(): boolean {\n    return isSupported;\n  }\n\n  static selectElement(element: any): void {\n    let range;\n    let selection;\n\n    if ((document.body as any).createTextRange) {\n      range = (document.body as any).createTextRange();\n      range.moveToElementText(element);\n      range.select();\n    } else if (document.createRange && window.getSelection) {\n      selection = window.getSelection();\n      range = document.createRange();\n      range.selectNodeContents(element);\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  static deselect(): void {\n    if ((document as any).selection) {\n      (document as any).selection.empty();\n    } else if (window.getSelection) {\n      const selection = window.getSelection();\n\n      if (selection) {\n        selection.removeAllRanges();\n      }\n    }\n  }\n\n  static copySelected(): boolean {\n    let result;\n\n    try {\n      result = document.execCommand('copy');\n    } catch (err) {\n      result = false;\n    }\n\n    return result;\n  }\n\n  static copyElement(element: any): boolean {\n    ClipboardService.selectElement(element);\n    const res = ClipboardService.copySelected();\n\n    if (res) {\n      ClipboardService.deselect();\n    }\n\n    return res;\n  }\n\n  static copyCustom(text: string): boolean {\n    const textArea = document.createElement('textarea');\n    textArea.style.position = 'fixed';\n    textArea.style.top = '0';\n    textArea.style.left = '0'; // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n\n    textArea.style.width = '2em';\n    textArea.style.height = '2em'; // We don't need padding, reducing the size if it does flash render.\n\n    textArea.style.padding = '0'; // Clean up any borders.\n\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none'; // Avoid flash of white box if rendered for any reason.\n\n    textArea.style.background = 'transparent';\n    textArea.value = text;\n    document.body.appendChild(textArea);\n    textArea.select();\n    const res = ClipboardService.copySelected();\n    document.body.removeChild(textArea);\n    return res;\n  }\n\n}","import * as React from 'react';\nimport { Tooltip } from '../common-elements/Tooltip';\nimport { ClipboardService } from '../services/ClipboardService';\nexport interface CopyButtonWrapperProps {\n  data: any;\n  children: (props: {\n    renderCopyButton: () => React.ReactNode;\n  }) => React.ReactNode;\n}\nexport class CopyButtonWrapper extends React.PureComponent<CopyButtonWrapperProps, {\n  tooltipShown: boolean;\n}> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tooltipShown: false\n    };\n  }\n\n  render() {\n    return this.props.children({\n      renderCopyButton: this.renderCopyButton\n    });\n  }\n\n  copy = () => {\n    const content = typeof this.props.data === 'string' ? this.props.data : JSON.stringify(this.props.data, null, 2);\n    ClipboardService.copyCustom(content);\n    this.showTooltip();\n  };\n  renderCopyButton = () => {\n    return <button onClick={this.copy}>\r\n        <Tooltip title={ClipboardService.isSupported() ? 'Copied' : 'Not supported in your browser'} open={this.state.tooltipShown}>\r\n          Copy\r\n        </Tooltip>\r\n      </button>;\n  };\n\n  showTooltip() {\n    this.setState({\n      tooltipShown: true\n    });\n    setTimeout(() => {\n      this.setState({\n        tooltipShown: false\n      });\n    }, 1500);\n  }\n\n}","let level = 1;\nexport function jsonToHTML(json, maxExpandLevel) {\n  level = 1;\n  let output = '';\n  output += '<div class=\"redoc-json\">';\n  output += '<code>';\n  output += valueToHTML(json, maxExpandLevel);\n  output += '</code>';\n  output += '</div>';\n  return output;\n}\n\nfunction htmlEncode(t) {\n  return t !== undefined ? t.toString().replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : '';\n}\n\nfunction stringifyStringLiteral(str: string) {\n  return JSON.stringify(str).slice(1, -1);\n}\n\nfunction decorateWithSpan(value, className) {\n  return '<span class=\"' + className + '\">' + htmlEncode(value) + '</span>';\n}\n\nfunction punctuation(val) {\n  return '<span class=\"token punctuation\">' + val + '</span>';\n}\n\nfunction valueToHTML(value, maxExpandLevel: number) {\n  const valueType = typeof value;\n  let output = '';\n\n  if (value === undefined || value === null) {\n    output += decorateWithSpan('null', 'token keyword');\n  } else if (value && value.constructor === Array) {\n    level++;\n    output += arrayToHTML(value, maxExpandLevel);\n    level--;\n  } else if (value && value.constructor === Date) {\n    output += decorateWithSpan('\"' + value.toISOString() + '\"', 'token string');\n  } else if (valueType === 'object') {\n    level++;\n    output += objectToHTML(value, maxExpandLevel);\n    level--;\n  } else if (valueType === 'number') {\n    output += decorateWithSpan(value, 'token number');\n  } else if (valueType === 'string') {\n    if (/^(http|https):\\/\\/[^\\s]+$/.test(value)) {\n      output += decorateWithSpan('\"', 'token string') + '<a href=\"' + encodeURI(value) + '\">' + htmlEncode(stringifyStringLiteral(value)) + '</a>' + decorateWithSpan('\"', 'token string');\n    } else {\n      output += decorateWithSpan('\"' + stringifyStringLiteral(value) + '\"', 'token string');\n    }\n  } else if (valueType === 'boolean') {\n    output += decorateWithSpan(value, 'token boolean');\n  }\n\n  return output;\n}\n\nfunction arrayToHTML(json, maxExpandLevel: number) {\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\n  let output = `<button class=\"collapser\" aria-label=\"${level > maxExpandLevel + 1 ? 'expand' : 'collapse'}\"></button>${punctuation('[')}<span class=\"ellipsis\"></span><ul class=\"array collapsible\">`;\n  let hasContents = false;\n  const length = json.length;\n\n  for (let i = 0; i < length; i++) {\n    hasContents = true;\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\n    output += valueToHTML(json[i], maxExpandLevel);\n\n    if (i < length - 1) {\n      output += ',';\n    }\n\n    output += '</div></li>';\n  }\n\n  output += `</ul>${punctuation(']')}`;\n\n  if (!hasContents) {\n    output = punctuation('[ ]');\n  }\n\n  return output;\n}\n\nfunction objectToHTML(json, maxExpandLevel: number) {\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\n  const keys = Object.keys(json);\n  const length = keys.length;\n  let output = `<button class=\"collapser\" aria-label=\"${level > maxExpandLevel + 1 ? 'expand' : 'collapse'}\"></button>${punctuation('{')}<span class=\"ellipsis\"></span><ul class=\"obj collapsible\">`;\n  let hasContents = false;\n\n  for (let i = 0; i < length; i++) {\n    const key = keys[i];\n    hasContents = true;\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\n    output += '<span class=\"property token string\">\"' + htmlEncode(key) + '\"</span>: ';\n    output += valueToHTML(json[key], maxExpandLevel);\n\n    if (i < length - 1) {\n      output += punctuation(',');\n    }\n\n    output += '</div></li>';\n  }\n\n  output += `</ul>${punctuation('}')}`;\n\n  if (!hasContents) {\n    output = punctuation('{ }');\n  }\n\n  return output;\n}","import { css } from '../../styled-components';\nexport const jsonStyles = css`\n  .redoc-json code > .collapser {\n    display: none;\n    pointer-events: none;\n  }\n\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: ${props => props.theme.typography.code.fontSize};\n\n  white-space: ${({\n  theme\n}) => theme.typography.code.wrap ? 'pre-wrap' : 'pre'};\n  contain: content;\n  overflow-x: auto;\n\n  .callback-function {\n    color: gray;\n  }\n\n  .collapser:after {\n    content: '-';\n    cursor: pointer;\n  }\n\n  .collapsed > .collapser:after {\n    content: '+';\n    cursor: pointer;\n  }\n\n  .ellipsis:after {\n    content: ' … ';\n  }\n\n  .collapsible {\n    margin-left: 2em;\n  }\n\n  .hoverable {\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n\n  .hovered {\n    background-color: rgba(235, 238, 249, 1);\n  }\n\n  .collapser {\n    background-color: transparent;\n    border: 0;\n    color: #fff;\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    font-size: ${props => props.theme.typography.code.fontSize};\n    padding-right: 6px;\n    padding-left: 6px;\n    padding-top: 0;\n    padding-bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 4px;\n    left: -1.5em;\n    cursor: default;\n    user-select: none;\n    -webkit-user-select: none;\n    padding: 2px;\n    &:focus {\n      outline-color: #fff;\n      outline-style: dotted;\n      outline-width: 1px;\n    }\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0px;\n    margin: 0px 0px 0px 26px;\n  }\n\n  li {\n    position: relative;\n    display: block;\n  }\n\n  .hoverable {\n    display: inline-block;\n  }\n\n  .selected {\n    outline-style: solid;\n    outline-width: 1px;\n    outline-style: dotted;\n  }\n\n  .collapsed > .collapsible {\n    display: none;\n  }\n\n  .ellipsis {\n    display: none;\n  }\n\n  .collapsed > .ellipsis {\n    display: inherit;\n  }\n  .collapser {\n    position: absolute;\n    top: 1px;\n    left: -1.5em;\n    cursor: default;\n    user-select: none;\n    -webkit-user-select: none;\n  }\n`;","import * as React from 'react';\nimport styled from '../../styled-components';\nimport { SampleControls } from '../../common-elements';\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\nimport { PrismDiv } from '../../common-elements/PrismDiv';\nimport { jsonToHTML } from '../../utils/jsonToHtml';\nimport { OptionsContext } from '../OptionsProvider';\nimport { jsonStyles } from './style';\nexport interface JsonProps {\n  data: any;\n  className?: string;\n}\nconst JsonViewerWrap = styled.div`\n  &:hover > ${SampleControls} {\n    opacity: 1;\n  }\n  ul.collapsible {\n    overflow: auto;\n  }\n  ul.array.collapsible {\n    padding-left: 2em;\n  }\n`;\n\nclass Json extends React.PureComponent<JsonProps> {\n  node: HTMLDivElement;\n\n  render() {\n    return <CopyButtonWrapper data={this.props.data}>{this.renderInner}</CopyButtonWrapper>;\n  }\n\n  renderInner = ({\n    renderCopyButton\n  }) => <JsonViewerWrap>\r\n      <SampleControls>\r\n        {renderCopyButton()}\r\n        <button onClick={this.expandAll}> Expand all </button>\r\n        <button onClick={this.collapseAll}> Collapse all </button>\r\n      </SampleControls>\r\n      <OptionsContext.Consumer>\r\n        {options => <PrismDiv className={this.props.className} // tslint:disable-next-line\n      ref={node => this.node = node!} dangerouslySetInnerHTML={{\n        __html: jsonToHTML(this.props.data, options.jsonSampleExpandLevel)\n      }} />}\r\n      </OptionsContext.Consumer>\r\n    </JsonViewerWrap>;\n  expandAll = () => {\n    const elements = this.node.getElementsByClassName('collapsible');\n\n    for (const collapsed of Array.prototype.slice.call(elements)) {\n      const parentNode = (collapsed.parentNode as Element);\n      parentNode.classList.remove('collapsed');\n      parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'collapse');\n    }\n  };\n  collapseAll = () => {\n    const elements = this.node.getElementsByClassName('collapsible'); // skip first item to avoid collapsing whole object/array\n\n    const elementsArr = Array.prototype.slice.call(elements, 1);\n\n    for (const expanded of elementsArr) {\n      const parentNode = (expanded.parentNode as Element);\n      parentNode.classList.add('collapsed');\n      parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'expand');\n    }\n  };\n  collapseElement = (target: HTMLElement) => {\n    let collapsed;\n\n    if (target.className === 'collapser') {\n      collapsed = target.parentElement!.getElementsByClassName('collapsible')[0];\n\n      if (collapsed.parentElement.classList.contains('collapsed')) {\n        collapsed.parentElement.classList.remove('collapsed');\n        target.setAttribute('aria-label', 'collapse');\n      } else {\n        collapsed.parentElement.classList.add('collapsed');\n        target.setAttribute('aria-label', 'expand');\n      }\n    }\n  };\n  clickListener = (event: MouseEvent) => {\n    this.collapseElement((event.target as HTMLElement));\n  };\n  focusListener = (event: KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      this.collapseElement((event.target as HTMLElement));\n    }\n  };\n\n  componentDidMount() {\n    this.node!.addEventListener('click', this.clickListener);\n    this.node!.addEventListener('focus', this.focusListener);\n  }\n\n  componentWillUnmount() {\n    this.node!.removeEventListener('click', this.clickListener);\n    this.node!.removeEventListener('focus', this.focusListener);\n  }\n\n}\n\nexport const JsonViewer = styled(Json)`\n  ${jsonStyles};\n`;","import * as React from 'react';\nimport { highlight } from '../../utils';\nimport { SampleControls, SampleControlsWrap, StyledPre } from '../../common-elements';\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\nexport interface SourceCodeProps {\n  source: string;\n  lang: string;\n}\nexport class SourceCode extends React.PureComponent<SourceCodeProps> {\n  render() {\n    const {\n      source,\n      lang\n    } = this.props;\n    return <StyledPre dangerouslySetInnerHTML={{\n      __html: highlight(source, lang)\n    }} />;\n  }\n\n}\nexport class SourceCodeWithCopy extends React.Component<SourceCodeProps> {\n  render() {\n    return <CopyButtonWrapper data={this.props.source}>\r\n        {({\n        renderCopyButton\n      }) => <SampleControlsWrap>\r\n            <SampleControls>{renderCopyButton()}</SampleControls>\r\n            <SourceCode lang={this.props.lang} source={this.props.source} />\r\n          </SampleControlsWrap>}\r\n      </CopyButtonWrapper>;\n  }\n\n}","import * as React from 'react';\nimport { isJsonLike, langFromMime } from '../../utils/openapi';\nimport { JsonViewer } from '../JsonViewer/JsonViewer';\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\nexport interface ExampleValueProps {\n  value: any;\n  mimeType: string;\n}\nexport function ExampleValue({\n  value,\n  mimeType\n}: ExampleValueProps) {\n  if (isJsonLike(mimeType)) {\n    return <JsonViewer data={value} />;\n  } else {\n    if (typeof value === 'object') {\n      // just in case example was cached as json but used as non-json\n      value = JSON.stringify(value, null, 2);\n    }\n\n    return <SourceCodeWithCopy lang={langFromMime(mimeType)} source={value} />;\n  }\n}","import { useEffect, useRef, useState } from 'react';\nimport { ExampleModel } from '../../services/models/Example';\nexport function useExternalExample(example: ExampleModel, mimeType: string) {\n  const [, setIsLoading] = useState(true); // to trigger component reload\n\n  const value = useRef<any>(undefined);\n  const prevRef = useRef<ExampleModel | undefined>(undefined);\n\n  if (prevRef.current !== example) {\n    value.current = undefined;\n  }\n\n  prevRef.current = example;\n  useEffect(() => {\n    const load = async () => {\n      setIsLoading(true);\n\n      try {\n        value.current = await example.getExternalValue(mimeType);\n      } catch (e) {\n        value.current = e;\n      }\n\n      setIsLoading(false);\n    };\n\n    load();\n  }, [example, mimeType]);\n  return value.current;\n}","import * as React from 'react';\nimport { StyledPre } from '../../common-elements/samples';\nimport { ExampleModel } from '../../services/models';\nimport { ExampleValue } from './ExampleValue';\nimport { useExternalExample } from './exernalExampleHook';\nexport interface ExampleProps {\n  example: ExampleModel;\n  mimeType: string;\n}\nexport function Example({\n  example,\n  mimeType\n}: ExampleProps) {\n  if (example.value === undefined && example.externalValueUrl) {\n    return <ExternalExample example={example} mimeType={mimeType} />;\n  } else {\n    return <ExampleValue value={example.value} mimeType={mimeType} />;\n  }\n}\nexport function ExternalExample({\n  example,\n  mimeType\n}: ExampleProps) {\n  const value = useExternalExample(example, mimeType);\n\n  if (value === undefined) {\n    return <span>Loading...</span>;\n  }\n\n  if (value instanceof Error) {\n    return <StyledPre>\r\n        Error loading external example: <br />\r\n        <a className={'token string'} href={example.externalValueUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {example.externalValueUrl}\r\n        </a>\r\n      </StyledPre>;\n  }\n\n  return <ExampleValue value={value} mimeType={mimeType} />;\n}","import { transparentize } from 'polished';\nimport styled from '../../styled-components';\nimport { StyledDropdown } from '../../common-elements';\nexport const MimeLabel = styled.div`\n  padding: 0.9em;\n  background-color: ${({\n  theme\n}) => transparentize(0.6, theme.rightPanel.backgroundColor)};\n  margin: 0 0 10px 0;\n  display: block;\n  font-family: ${({\n  theme\n}) => theme.typography.headings.fontFamily};\n  font-size: 0.929em;\n  line-height: 1.5em;\n`;\nexport const DropdownLabel = styled.span`\n  font-family: ${({\n  theme\n}) => theme.typography.headings.fontFamily};\n  font-size: 12px;\n  position: absolute;\n  z-index: 1;\n  top: -11px;\n  left: 12px;\n  font-weight: ${({\n  theme\n}) => theme.typography.fontWeightBold};\n  color: ${({\n  theme\n}) => transparentize(0.3, theme.rightPanel.textColor)};\n`;\nexport const DropdownWrapper = styled.div`\n  position: relative;\n`;\nexport const InvertedSimpleDropdown = styled(StyledDropdown)`\n  && {\n    margin-left: 10px;\n    text-transform: none;\n    font-size: 0.929em;\n    margin: 0 0 10px 0;\n    display: block;\n    background-color: ${({\n  theme\n}) => transparentize(0.6, theme.rightPanel.backgroundColor)};\n    font-size: 1em;\n    border: none;\n    padding: 0.9em 1.6em 0.9em 0.9em;\n    box-shadow: none;\n    &:hover,\n    &:focus-within {\n      border: none;\n      box-shadow: none;\n    }\n    &:focus-within {\n      background-color: ${({\n  theme\n}) => transparentize(0.3, theme.rightPanel.backgroundColor)};\n    }\n\n    .dropdown-arrow {\n      border-top-color: ${({\n  theme\n}) => theme.rightPanel.textColor};\n    }\n    .dropdown-selector-value {\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n      color: ${({\n  theme\n}) => theme.rightPanel.textColor};\n    }\n\n    .dropdown-selector-content {\n      margin: 0;\n      margin-top: 2px;\n      .dropdown-option {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      }\n    }\n  }\n`;\nexport const NoSampleLabel = styled.div`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: 12px;\n  color: #ee807f;\n`;","import * as React from 'react';\nimport styled from '../../styled-components';\nimport { DropdownProps } from '../../common-elements';\nimport { MediaTypeModel } from '../../services/models';\nimport { Markdown } from '../Markdown/Markdown';\nimport { Example } from './Example';\nimport { DropdownLabel, DropdownWrapper, NoSampleLabel } from './styled.elements';\nexport interface PayloadSamplesProps {\n  mediaType: MediaTypeModel;\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n}\ninterface MediaTypeSamplesState {\n  activeIdx: number;\n}\nexport class MediaTypeSamples extends React.Component<PayloadSamplesProps, MediaTypeSamplesState> {\n  state = {\n    activeIdx: 0\n  };\n  switchMedia = ({\n    idx\n  }) => {\n    this.setState({\n      activeIdx: idx\n    });\n  };\n\n  render() {\n    const {\n      activeIdx\n    } = this.state;\n    const examples = this.props.mediaType.examples || {};\n    const mimeType = this.props.mediaType.name;\n    const noSample = <NoSampleLabel>No sample</NoSampleLabel>;\n    const examplesNames = Object.keys(examples);\n\n    if (examplesNames.length === 0) {\n      return noSample;\n    }\n\n    if (examplesNames.length > 1) {\n      const options = examplesNames.map((name, idx) => {\n        return {\n          value: examples[name].summary || name,\n          idx\n        };\n      });\n      const example = examples[examplesNames[activeIdx]];\n      const description = example.description;\n      return <SamplesWrapper>\r\n          <DropdownWrapper>\r\n            <DropdownLabel>Example</DropdownLabel>\r\n            {this.props.renderDropdown({\n            value: options[activeIdx].value,\n            options,\n            onChange: this.switchMedia,\n            ariaLabel: 'Example'\n          })}\r\n          </DropdownWrapper>\r\n          <div>\r\n            {description && <Markdown source={description} />}\r\n            <Example example={example} mimeType={mimeType} />\r\n          </div>\r\n        </SamplesWrapper>;\n    } else {\n      const example = examples[examplesNames[0]];\n      return <SamplesWrapper>\r\n          {example.description && <Markdown source={example.description} />}\r\n          <Example example={example} mimeType={mimeType} />\r\n        </SamplesWrapper>;\n    }\n  }\n\n}\nconst SamplesWrapper = styled.div`\n  margin-top: 15px;\n`;","import { transparentize } from 'polished';\nimport styled, { extensionsHook } from '../styled-components';\nimport { PropertyNameCell } from './fields-layout';\nimport { ShelfIcon } from './shelfs';\nexport const ClickablePropertyNameCell = styled(PropertyNameCell)`\n  button {\n    background-color: transparent;\n    border: 0;\n    outline: 0;\n    font-size: 13px;\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    cursor: pointer;\n    padding: 0;\n    color: ${props => props.theme.colors.text.primary};\n    &:focus {\n      font-weight: ${({\n  theme\n}) => theme.typography.fontWeightBold};\n    }\n  }\n  ${ShelfIcon} {\n    height: ${({\n  theme\n}) => theme.schema.arrow.size};\n    width: ${({\n  theme\n}) => theme.schema.arrow.size};\n    polygon {\n      fill: ${({\n  theme\n}) => theme.schema.arrow.color};\n    }\n  }\n`;\nexport const FieldLabel = styled.span`\n  vertical-align: middle;\n  font-size: ${({\n  theme\n}) => theme.typography.code.fontSize};\n  line-height: 20px;\n`;\nexport const TypePrefix = styled(FieldLabel)`\n  color: ${props => transparentize(0.1, props.theme.schema.typeNameColor)};\n`;\nexport const TypeName = styled(FieldLabel)`\n  color: ${props => props.theme.schema.typeNameColor};\n`;\nexport const TypeTitle = styled(FieldLabel)`\n  color: ${props => props.theme.schema.typeTitleColor};\n  word-break: break-word;\n`;\nexport const TypeFormat = TypeName;\nexport const RequiredLabel = styled(FieldLabel.withComponent('div'))`\n  color: ${props => props.theme.schema.requireLabelColor};\n  font-size: ${props => props.theme.schema.labelsTextSize};\n  font-weight: normal;\n  margin-left: 20px;\n  line-height: 1;\n`;\nexport const RecursiveLabel = styled(FieldLabel)`\n  color: ${({\n  theme\n}) => theme.colors.warning.main};\n  font-size: 13px;\n`;\nexport const NullableLabel = styled(FieldLabel)`\n  color: #0e7c86;\n  font-size: 13px;\n`;\nexport const PatternLabel = styled(FieldLabel)`\n  color: #0e7c86;\n  &::before,\n  &::after {\n    font-weight: bold;\n  }\n`;\nexport const ExampleValue = styled(FieldLabel)`\n  border-radius: 2px;\n  ${({\n  theme\n}) => `\n    background-color: ${transparentize(0.95, theme.colors.text.primary)};\n    color: ${transparentize(0.1, theme.colors.text.primary)};\n\n    padding: 0 ${theme.spacing.unit}px;\n    border: 1px solid ${transparentize(0.9, theme.colors.text.primary)};\n    font-family: ${theme.typography.code.fontFamily};\n}`};\n  & + & {\n    margin-left: 0;\n  }\n  ${extensionsHook('ExampleValue')};\n`;\nexport const ExtensionValue = styled(ExampleValue)``;\nexport const ConstraintItem = styled(FieldLabel)`\n  border-radius: 2px;\n  ${({\n  theme\n}) => `\n    background-color: ${transparentize(0.95, theme.colors.primary.light)};\n    color: ${transparentize(0.1, theme.colors.primary.main)};\n\n    margin: 0 ${theme.spacing.unit}px;\n    padding: 0 ${theme.spacing.unit}px;\n    border: 1px solid ${transparentize(0.9, theme.colors.primary.main)};\n    font-family: ${theme.typography.code.fontFamily};\n}`};\n  & + & {\n    margin-left: 0;\n  }\n  ${extensionsHook('ConstraintItem')};\n`;\nexport const ToggleButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  color: ${({\n  theme\n}) => theme.colors.text.secondary};\n  margin-left: ${({\n  theme\n}) => theme.spacing.unit}px;\n  border-radius: 2px;\n  cursor: pointer;\n  outline-color: ${({\n  theme\n}) => theme.colors.text.secondary};\n  font-size: 12px;\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport styled from '../../styled-components';\nimport { OpenAPIExternalDocumentation } from '../../types';\nimport { linksCss } from '../Markdown/styled.elements';\nconst LinkWrap = styled.div<{\n  compact?: boolean;\n}>`\n  ${linksCss};\n  ${({\n  compact\n}) => !compact ? 'margin: 1em 0' : ''}\n`;\n@observer\nexport class ExternalDocumentation extends React.Component<{\n  externalDocs: OpenAPIExternalDocumentation;\n  compact?: boolean;\n}> {\n  render() {\n    const {\n      externalDocs\n    } = this.props;\n\n    if (!externalDocs || !externalDocs.url) {\n      return null;\n    }\n\n    return <LinkWrap compact={this.props.compact}>\r\n        <a href={externalDocs.url}>{externalDocs.description || externalDocs.url}</a>\r\n      </LinkWrap>;\n  }\n\n}","import * as React from 'react';\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\nimport { l } from '../../services/Labels';\nimport { OptionsContext } from '../OptionsProvider';\nimport styled from '../../styled-components';\nimport { RedocRawOptions } from '../../services/RedocNormalizedOptions';\nexport interface EnumValuesProps {\n  values: string[];\n  type: string;\n}\nexport interface EnumValuesState {\n  collapsed: boolean;\n}\nexport class EnumValues extends React.PureComponent<EnumValuesProps, EnumValuesState> {\n  state: EnumValuesState = {\n    collapsed: true\n  };\n  static contextType = OptionsContext;\n\n  private toggle() {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  }\n\n  render() {\n    const {\n      values,\n      type\n    } = this.props;\n    const {\n      collapsed\n    } = this.state; // TODO: provide context interface in more elegant way\n\n    const {\n      enumSkipQuotes,\n      maxDisplayedEnumValues\n    } = (this.context as RedocRawOptions);\n\n    if (!values.length) {\n      return null;\n    }\n\n    const displayedItems = this.state.collapsed && maxDisplayedEnumValues ? values.slice(0, maxDisplayedEnumValues) : values;\n    const showToggleButton = maxDisplayedEnumValues ? values.length > maxDisplayedEnumValues : false;\n    const toggleButtonText = maxDisplayedEnumValues ? collapsed ? `… ${values.length - maxDisplayedEnumValues} more` : 'Hide' : '';\n    return <div>\r\n        <FieldLabel>\r\n          {type === 'array' ? l('enumArray') : ''}{' '}\r\n          {values.length === 1 ? l('enumSingleValue') : l('enum')}:\r\n        </FieldLabel>{' '}\r\n        {displayedItems.map((value, idx) => {\n        const exampleValue = enumSkipQuotes ? value : JSON.stringify(value);\n        return <React.Fragment key={idx}>\r\n              <ExampleValue>{exampleValue}</ExampleValue>{' '}\r\n            </React.Fragment>;\n      })}\r\n        {showToggleButton ? <ToggleButton onClick={() => {\n        this.toggle();\n      }}>\r\n            {toggleButtonText}\r\n          </ToggleButton> : null}\r\n      </div>;\n  }\n\n}\nconst ToggleButton = styled.span`\n  color: ${props => props.theme.colors.primary.main};\n  vertical-align: middle;\n  font-size: 13px;\n  line-height: 20px;\n  padding: 0 5px;\n  cursor: pointer;\n`;","import * as React from 'react';\nimport { ExtensionValue, FieldLabel } from '../../common-elements/fields';\nimport styled from '../../styled-components';\nimport { OptionsContext } from '../OptionsProvider';\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\nconst Extension = styled(StyledMarkdownBlock)`\n  margin: 2px 0;\n`;\nexport interface ExtensionsProps {\n  extensions: {\n    [k: string]: any;\n  };\n}\nexport class Extensions extends React.PureComponent<ExtensionsProps> {\n  render() {\n    const exts = this.props.extensions;\n    return <OptionsContext.Consumer>\r\n        {options => <>\r\n            {options.showExtensions && Object.keys(exts).map(key => <Extension key={key}>\r\n                  <FieldLabel> {key.substring(2)}: </FieldLabel>{' '}\r\n                  <ExtensionValue>\r\n                    {typeof exts[key] === 'string' ? exts[key] : JSON.stringify(exts[key])}\r\n                  </ExtensionValue>\r\n                </Extension>)}\r\n          </>}\r\n      </OptionsContext.Consumer>;\n  }\n\n}","import * as React from 'react';\nimport { ConstraintItem } from '../../common-elements/fields';\nexport interface ConstraintsViewProps {\n  constraints: string[];\n}\nexport class ConstraintsView extends React.PureComponent<ConstraintsViewProps> {\n  render() {\n    if (this.props.constraints.length === 0) {\n      return null;\n    }\n\n    return <span>\r\n        {' '}\r\n        {this.props.constraints.map(constraint => <ConstraintItem key={constraint}> {constraint} </ConstraintItem>)}\r\n      </span>;\n  }\n\n}","import * as React from 'react';\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\nexport interface FieldDetailProps {\n  value?: any;\n  label: string;\n  raw?: boolean;\n}\nexport class FieldDetail extends React.PureComponent<FieldDetailProps> {\n  render() {\n    if (this.props.value === undefined) {\n      return null;\n    }\n\n    const value = this.props.raw ? this.props.value : JSON.stringify(this.props.value);\n    return <div>\r\n        <FieldLabel> {this.props.label} </FieldLabel> <ExampleValue>{value}</ExampleValue>\r\n      </div>;\n  }\n\n}","import * as React from 'react';\nimport { NullableLabel, PatternLabel, RecursiveLabel, TypeFormat, TypeName, TypePrefix, TypeTitle, ToggleButton, FieldLabel, ExampleValue } from '../../common-elements/fields';\nimport { serializeParameterValue } from '../../utils/openapi';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Markdown } from '../Markdown/Markdown';\nimport { EnumValues } from './EnumValues';\nimport { Extensions } from './Extensions';\nimport { FieldProps } from './Field';\nimport { ConstraintsView } from './FieldContstraints';\nimport { FieldDetail } from './FieldDetail';\nimport { Badge } from '../../common-elements/';\nimport { l } from '../../services/Labels';\nimport { OptionsContext } from '../OptionsProvider';\nimport { FieldModel } from '../../services/models/Field';\nimport styled from '../../styled-components';\nconst MAX_PATTERN_LENGTH = 45;\nexport class FieldDetails extends React.PureComponent<FieldProps, {\n  patternShown: boolean;\n}> {\n  state = {\n    patternShown: false\n  };\n  static contextType = OptionsContext;\n  togglePattern = () => {\n    this.setState({\n      patternShown: !this.state.patternShown\n    });\n  };\n\n  render() {\n    const {\n      showExamples,\n      field,\n      renderDiscriminatorSwitch\n    } = this.props;\n    const {\n      patternShown\n    } = this.state;\n    const {\n      enumSkipQuotes,\n      hideSchemaTitles,\n      hideSchemaPattern\n    } = this.context;\n    const {\n      schema,\n      description,\n      example,\n      deprecated,\n      examples\n    } = field;\n    const rawDefault = !!enumSkipQuotes || field.in === 'header'; // having quotes around header field default values is confusing and inappropriate\n\n    let renderedExamples: JSX.Element | null = null;\n\n    if (showExamples && (example !== undefined || examples !== undefined)) {\n      if (examples !== undefined) {\n        renderedExamples = <Examples field={field} />;\n      } else {\n        const label = l('example') + ':';\n        const raw = !!field.in;\n        renderedExamples = <FieldDetail label={label} value={getSerializedValue(field, field.example)} raw={raw} />;\n      }\n    }\n\n    return <div>\r\n        <div>\r\n          <TypePrefix>{schema.typePrefix}</TypePrefix>\r\n          <TypeName>{schema.displayType}</TypeName>\r\n          {schema.displayFormat && <TypeFormat>\r\n              {' '}\r\n              &lt;\r\n              {schema.displayFormat}\r\n              &gt;{' '}\r\n            </TypeFormat>}\r\n          {schema.title && !hideSchemaTitles && <TypeTitle> ({schema.title}) </TypeTitle>}\r\n          <ConstraintsView constraints={schema.constraints} />\r\n          {schema.nullable && <NullableLabel> {l('nullable')} </NullableLabel>}\r\n          {schema.pattern && !hideSchemaPattern && <>\r\n              <PatternLabel>\r\n                {patternShown || schema.pattern.length < MAX_PATTERN_LENGTH ? schema.pattern : `${schema.pattern.substr(0, MAX_PATTERN_LENGTH)}...`}\r\n              </PatternLabel>\r\n              {schema.pattern.length > MAX_PATTERN_LENGTH && <ToggleButton onClick={this.togglePattern}>\r\n                  {patternShown ? 'Hide pattern' : 'Show pattern'}\r\n                </ToggleButton>}\r\n            </>}\r\n          {schema.isCircular && <RecursiveLabel> {l('recursive')} </RecursiveLabel>}\r\n        </div>\r\n        {deprecated && <div>\r\n            <Badge type=\"warning\"> {l('deprecated')} </Badge>\r\n          </div>}\r\n        <FieldDetail raw={rawDefault} label={l('default') + ':'} value={schema.default} />\r\n        {!renderDiscriminatorSwitch && <EnumValues type={schema.type} values={schema.enum} />}{' '}\r\n        {renderedExamples}\r\n        {<Extensions extensions={{ ...field.extensions,\n        ...schema.extensions\n      }} />}\r\n        <div>\r\n          <Markdown compact={true} source={description} />\r\n        </div>\r\n        {schema.externalDocs && <ExternalDocumentation externalDocs={schema.externalDocs} compact={true} />}\r\n        {renderDiscriminatorSwitch && renderDiscriminatorSwitch(this.props) || null}\r\n      </div>;\n  }\n\n}\n\nfunction Examples({\n  field\n}: {\n  field: FieldModel;\n}) {\n  if (!field.examples) {\n    return null;\n  }\n\n  return <>\r\n      <FieldLabel> {l('examples')}: </FieldLabel>\r\n      <ExamplesList>\r\n        {Object.values(field.examples).map((example, idx) => {\n        return <li key={idx}>\r\n              <ExampleValue>{getSerializedValue(field, example.value)}</ExampleValue> - {example.summary || example.description}\r\n            </li>;\n      })}\r\n      </ExamplesList>\r\n    </>;\n}\n\nfunction getSerializedValue(field: FieldModel, example: any) {\n  if (field.in) {\n    // decode for better readability in examples: see https://github.com/Redocly/redoc/issues/1138\n    return decodeURIComponent(serializeParameterValue(field, example));\n  } else {\n    return example;\n  }\n}\n\nconst ExamplesList = styled.ul`\n  margin-top: 1em;\n  padding-left: 0;\n  list-style-position: inside;\n`;","import * as React from 'react';\nimport { Schema, SchemaProps } from './Schema';\nimport { ArrayClosingLabel, ArrayOpenningLabel } from '../../common-elements';\nimport styled from '../../styled-components';\nimport { humanizeConstraints } from \"../../utils\";\nconst PaddedSchema = styled.div`\n  padding-left: ${({\n  theme\n}) => theme.spacing.unit * 2}px;\n`;\nexport class ArraySchema extends React.PureComponent<SchemaProps> {\n  render() {\n    const itemsSchema = this.props.schema.items!;\n\n    const itemConstraintSchema = (min: number | undefined = undefined, max: number | undefined = undefined) => ({\n      type: 'array',\n      minItems: min,\n      maxItems: max\n    });\n\n    const minMaxItems = humanizeConstraints(itemConstraintSchema(itemsSchema.schema.minItems, itemsSchema.schema.maxItems));\n    return <div>\r\n        <ArrayOpenningLabel> Array ({minMaxItems})</ArrayOpenningLabel>\r\n        <PaddedSchema>\r\n          <Schema {...this.props} schema={itemsSchema} />\r\n        </PaddedSchema>\r\n        <ArrayClosingLabel />\r\n      </div>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { ClickablePropertyNameCell, RequiredLabel } from '../../common-elements/fields';\nimport { FieldDetails } from './FieldDetails';\nimport { InnerPropertiesWrap, PropertyBullet, PropertyCellWithInner, PropertyDetailsCell, PropertyNameCell } from '../../common-elements/fields-layout';\nimport { ShelfIcon, TextField } from '../../common-elements/';\nimport { FieldModel } from '../../services/models';\nimport { Schema, SchemaOptions } from '../Schema/Schema';\nexport interface FieldProps extends SchemaOptions {\n  className?: string;\n  isLast?: boolean;\n  showExamples?: boolean;\n  field: FieldModel;\n  expandByDefault?: boolean;\n  renderDiscriminatorSwitch?: (opts: FieldProps) => JSX.Element;\n}\n@observer\nexport class Field extends React.Component<FieldProps> {\n  toggle = () => {\n    if (this.props.field.expanded === undefined && this.props.expandByDefault) {\n      this.props.field.expanded = false;\n    } else {\n      this.props.field.toggle();\n    }\n  };\n  handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      this.toggle();\n    }\n  };\n  onFieldChange = e => {\n    this.props.field.setValue(e.target.value);\n  };\n\n  render() {\n    const {\n      className,\n      field,\n      isLast,\n      expandByDefault\n    } = this.props;\n    const {\n      name,\n      deprecated,\n      required,\n      kind\n    } = field;\n    const withSubSchema = !field.schema.isPrimitive && !field.schema.isCircular;\n    const expanded = field.expanded === undefined ? expandByDefault : field.expanded;\n    const paramName = withSubSchema ? <ClickablePropertyNameCell className={deprecated ? 'deprecated' : ''} kind={kind} title={name}>\r\n        <PropertyBullet />\r\n        <button onClick={this.toggle} onKeyPress={this.handleKeyPress} aria-label=\"expand properties\">\r\n          <span>{name}</span>\r\n          <ShelfIcon direction={expanded ? 'down' : 'right'} />\r\n        </button>\r\n        {required && <RequiredLabel> required </RequiredLabel>}\r\n      </ClickablePropertyNameCell> : <PropertyNameCell className={deprecated ? 'deprecated' : undefined} kind={kind} title={name}>\r\n        <PropertyBullet />\r\n        <span>{name}</span>\r\n        {required && <RequiredLabel> required </RequiredLabel>}\r\n      </PropertyNameCell>;\n    return <>\r\n        <tr className={isLast ? 'last ' + className : className}>\r\n          {paramName}\r\n          <PropertyDetailsCell>\r\n            <FieldDetails {...this.props} />\r\n          </PropertyDetailsCell>\r\n          {field && (field.in === 'path' || field.in === 'query') && <td>\r\n              <TextField placeholder={field.name} onChange={this.onFieldChange} />\r\n            </td>}\r\n        </tr>\r\n        {expanded && withSubSchema && <tr key={field.name + 'inner'}>\r\n            <PropertyCellWithInner colSpan={2}>\r\n              <InnerPropertiesWrap>\r\n                <Schema schema={field.schema} skipReadOnly={this.props.skipReadOnly} skipWriteOnly={this.props.skipWriteOnly} showTitle={this.props.showTitle} />\r\n              </InnerPropertiesWrap>\r\n            </PropertyCellWithInner>\r\n          </tr>}\r\n      </>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { DropdownOption, StyledDropdown } from '../../common-elements/dropdown';\nimport { SchemaModel } from '../../services/models';\n@observer\nexport class DiscriminatorDropdown extends React.Component<{\n  parent: SchemaModel;\n  enumValues: string[];\n}> {\n  sortOptions(options: DropdownOption[], enumValues: string[]): void {\n    if (enumValues.length === 0) {\n      return;\n    }\n\n    const enumOrder = {};\n    enumValues.forEach((enumItem, idx) => {\n      enumOrder[enumItem] = idx;\n    });\n    options.sort((a, b) => {\n      return enumOrder[a.value] > enumOrder[b.value] ? 1 : -1;\n    });\n  }\n\n  render() {\n    const {\n      parent,\n      enumValues\n    } = this.props;\n\n    if (parent.oneOf === undefined) {\n      return null;\n    }\n\n    const options = parent.oneOf.map((subSchema, idx) => {\n      return {\n        value: subSchema.title,\n        idx\n      };\n    });\n    const activeValue = options[parent.activeOneOf].value;\n    this.sortOptions(options, enumValues);\n    return <StyledDropdown value={activeValue} options={options} onChange={this.changeActiveChild} ariaLabel=\"Example\" />;\n  }\n\n  changeActiveChild = (option: DropdownOption) => {\n    this.props.parent.activateOneOf(option.idx);\n  };\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { SchemaModel } from '../../services/models';\nimport { PropertiesTable, PropertiesTableCaption } from '../../common-elements/fields-layout';\nimport { Field } from '../Fields/Field';\nimport { DiscriminatorDropdown } from './DiscriminatorDropdown';\nimport { SchemaProps } from './Schema';\nimport { mapWithLast } from '../../utils';\nimport { OptionsContext } from '../OptionsProvider';\nexport interface ObjectSchemaProps extends SchemaProps {\n  discriminator?: {\n    fieldName: string;\n    parentSchema: SchemaModel;\n  };\n}\n@observer\nexport class ObjectSchema extends React.Component<ObjectSchemaProps> {\n  static contextType = OptionsContext;\n\n  get parentSchema() {\n    return this.props.discriminator!.parentSchema;\n  }\n\n  render() {\n    const {\n      schema: {\n        fields = []\n      },\n      showTitle,\n      discriminator\n    } = this.props;\n    const needFilter = this.props.skipReadOnly || this.props.skipWriteOnly;\n    const filteredFields = needFilter ? fields.filter(item => {\n      return !(this.props.skipReadOnly && item.schema.readOnly || this.props.skipWriteOnly && item.schema.writeOnly);\n    }) : fields;\n    const expandByDefault = this.context.expandSingleSchemaField && filteredFields.length === 1;\n    return <PropertiesTable>\r\n        {showTitle && <PropertiesTableCaption>{this.props.schema.title}</PropertiesTableCaption>}\r\n        <tbody>\r\n          {mapWithLast(filteredFields, (field, isLast) => {\n          return <Field key={field.name} isLast={isLast} field={field} expandByDefault={expandByDefault} renderDiscriminatorSwitch={discriminator && discriminator.fieldName === field.name && (() => <DiscriminatorDropdown parent={this.parentSchema} enumValues={field.schema.enum} />) || undefined} className={field.expanded ? 'expanded' : undefined} showExamples={false} skipReadOnly={this.props.skipReadOnly} skipWriteOnly={this.props.skipWriteOnly} showTitle={this.props.showTitle} />;\n        })}\r\n        </tbody>\r\n      </PropertiesTable>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OneOfButton as StyledOneOfButton, OneOfLabel, OneOfList } from '../../common-elements/schema';\nimport { SchemaModel } from '../../services/models';\nimport { Schema, SchemaProps } from './Schema';\nexport interface OneOfButtonProps {\n  subSchema: SchemaModel;\n  idx: number;\n  schema: SchemaModel;\n}\n@observer\nexport class OneOfButton extends React.Component<OneOfButtonProps> {\n  render() {\n    const {\n      idx,\n      schema,\n      subSchema\n    } = this.props;\n    return <StyledOneOfButton active={idx === schema.activeOneOf} onClick={this.activateOneOf}>\r\n        {subSchema.title || subSchema.typePrefix + subSchema.displayType}\r\n      </StyledOneOfButton>;\n  }\n\n  activateOneOf = () => {\n    this.props.schema.activateOneOf(this.props.idx);\n  };\n}\n@observer\nexport class OneOfSchema extends React.Component<SchemaProps> {\n  render() {\n    const {\n      schema: {\n        oneOf\n      },\n      schema\n    } = this.props;\n\n    if (oneOf === undefined) {\n      return null;\n    }\n\n    return <div>\r\n        <OneOfLabel> {schema.oneOfType} </OneOfLabel>\r\n        <OneOfList>\r\n          {oneOf.map((subSchema, idx) => <OneOfButton key={subSchema.pointer} schema={schema} subSchema={subSchema} idx={idx} />)}\r\n        </OneOfList>\r\n        <Schema {...this.props} schema={oneOf[schema.activeOneOf]} />\r\n      </div>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { RecursiveLabel, TypeName, TypeTitle } from '../../common-elements/fields';\nimport { FieldDetails } from '../Fields/FieldDetails';\nimport { FieldModel, SchemaModel } from '../../services/models';\nimport { ArraySchema } from './ArraySchema';\nimport { ObjectSchema } from './ObjectSchema';\nimport { OneOfSchema } from './OneOfSchema';\nimport { l } from '../../services/Labels';\nexport interface SchemaOptions {\n  showTitle?: boolean;\n  skipReadOnly?: boolean;\n  skipWriteOnly?: boolean;\n}\nexport interface SchemaProps extends SchemaOptions {\n  schema: SchemaModel;\n}\n@observer\nexport class Schema extends React.Component<Partial<SchemaProps>> {\n  render() {\n    const {\n      schema\n    } = this.props;\n\n    if (!schema) {\n      return <em> Schema not provided </em>;\n    }\n\n    const {\n      type,\n      oneOf,\n      discriminatorProp,\n      isCircular\n    } = schema;\n\n    if (isCircular) {\n      return <div>\r\n          <TypeName>{schema.displayType}</TypeName>\r\n          {schema.title && <TypeTitle> {schema.title} </TypeTitle>}\r\n          <RecursiveLabel> {l('recursive')} </RecursiveLabel>\r\n        </div>;\n    }\n\n    if (discriminatorProp !== undefined) {\n      if (!oneOf || !oneOf.length) {\n        console.warn(`Looks like you are using discriminator wrong: you don't have any definition inherited from the ${schema.title}`);\n        return null;\n      }\n\n      return <ObjectSchema {...{ ...this.props,\n        schema: oneOf![schema.activeOneOf]\n      }} discriminator={{\n        fieldName: discriminatorProp,\n        parentSchema: schema\n      }} />;\n    }\n\n    if (oneOf !== undefined) {\n      return <OneOfSchema schema={schema} {...this.props} />;\n    }\n\n    switch (type) {\n      case 'object':\n        if (schema.fields?.length) {\n          return <ObjectSchema {...(this.props as any)} />;\n        }\n\n        break;\n\n      case 'array':\n        return <ArraySchema {...(this.props as any)} />;\n    } // TODO: maybe adjust FieldDetails to accept schema\n\n\n    const field = (({\n      schema,\n      name: '',\n      required: false,\n      description: schema.description,\n      externalDocs: schema.externalDocs,\n      deprecated: false,\n      toggle: () => null,\n      expanded: false\n    } as any) as FieldModel); // cast needed for hot-loader to not fail\n\n    return <div>\r\n        <FieldDetails field={field} />\r\n      </div>;\n  }\n\n}","export * from './Schema';\nexport * from './ObjectSchema';\nexport * from './OneOfSchema';\nexport * from './ArraySchema';\nexport * from './DiscriminatorDropdown';","import * as React from 'react';\nimport { DarkRightPanel, MiddlePanel, MimeLabel, Row, Section } from '../../common-elements';\nimport { MediaTypeModel, OpenAPIParser, RedocNormalizedOptions } from '../../services';\nimport styled from '../../styled-components';\nimport { OpenAPIMediaType } from '../../types';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypeSamples } from '../PayloadSamples/MediaTypeSamples';\nimport { InvertedSimpleDropdown } from '../PayloadSamples/styled.elements';\nimport { Schema } from '../Schema';\nexport interface ObjectDescriptionProps {\n  schemaRef: string;\n  exampleRef?: string;\n  showReadOnly?: boolean;\n  showWriteOnly?: boolean;\n  parser: OpenAPIParser;\n  options: RedocNormalizedOptions;\n}\nexport class SchemaDefinition extends React.PureComponent<ObjectDescriptionProps> {\n  private static getMediaType(schemaRef: string, exampleRef?: string): OpenAPIMediaType {\n    if (!schemaRef) {\n      return {};\n    }\n\n    const info: OpenAPIMediaType = {\n      schema: {\n        $ref: schemaRef\n      }\n    };\n\n    if (exampleRef) {\n      info.examples = {\n        example: {\n          $ref: exampleRef\n        }\n      };\n    }\n\n    return info;\n  }\n\n  private _mediaModel: MediaTypeModel;\n\n  private get mediaModel() {\n    const {\n      parser,\n      schemaRef,\n      exampleRef,\n      options\n    } = this.props;\n\n    if (!this._mediaModel) {\n      this._mediaModel = new MediaTypeModel(parser, 'json', false, SchemaDefinition.getMediaType(schemaRef, exampleRef), options);\n    }\n\n    return this._mediaModel;\n  }\n\n  render() {\n    const {\n      showReadOnly = true,\n      showWriteOnly = false\n    } = this.props;\n    return <Section>\r\n        <Row>\r\n          <MiddlePanel>\r\n            <Schema skipWriteOnly={!showWriteOnly} skipReadOnly={!showReadOnly} schema={this.mediaModel.schema} />\r\n          </MiddlePanel>\r\n          <DarkRightPanel>\r\n            <MediaSamplesWrap>\r\n              <MediaTypeSamples renderDropdown={this.renderDropdown} mediaType={this.mediaModel} />\r\n            </MediaSamplesWrap>\r\n          </DarkRightPanel>\r\n        </Row>\r\n      </Section>;\n  }\n\n  private renderDropdown = props => {\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\n  };\n}\nconst MediaSamplesWrap = styled.div`\n  background: ${({\n  theme\n}) => theme.codeBlock.backgroundColor};\n  & > div,\n  & > pre {\n    padding: ${props => props.theme.spacing.unit * 4}px;\n    margin: 0;\n  }\n\n  & > div > pre {\n    padding: 0;\n  }\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { TokenGroup } from '..';\nimport { DarkRightPanel, H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\nimport { SecuritySchemesModel } from '../../services/models';\nimport { OpenAPISecurityScheme } from '../../types';\nimport { titleize } from '../../utils/helpers';\nimport { Markdown } from '../Markdown/Markdown';\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\nconst AUTH_TYPES = {\n  oauth2: 'OAuth2',\n  apiKey: 'API Key',\n  http: 'HTTP',\n  openIdConnect: 'OpenID Connect'\n};\nexport interface OAuthFlowProps {\n  type: string;\n  flow: OpenAPISecurityScheme['flows'][keyof OpenAPISecurityScheme['flows']];\n  token?: string;\n}\nexport class OAuthFlow extends React.PureComponent<OAuthFlowProps> {\n  render() {\n    const {\n      type,\n      flow,\n      token\n    } = this.props;\n    return <tr>\r\n        <th> {type} OAuth Flow </th>\r\n        <td>\r\n          {type === 'implicit' || type === 'authorizationCode' ? <div>\r\n              <strong> Authorization URL: </strong>\r\n              {(flow as any).authorizationUrl}\r\n            </div> : null}\r\n          {type === 'password' || type === 'clientCredentials' || type === 'authorizationCode' ? <div>\r\n              <strong> Token URL: </strong>\r\n              {(flow as any).tokenUrl}\r\n            </div> : null}\r\n          {flow!.refreshUrl && <div>\r\n              <strong> Refresh URL: </strong>\r\n              {flow!.refreshUrl}\r\n            </div>}\r\n          <div>\r\n            <strong> Scopes: </strong>\r\n          </div>\r\n          <ul>\r\n            {Object.keys(flow!.scopes || {}).map(scope => <li key={scope}>\r\n                <code>{scope}</code> - <Markdown inline={true} source={flow!.scopes[scope] || ''} />\r\n              </li>)}\r\n          </ul>\r\n        </td>\r\n        <td> {token} </td>\r\n      </tr>;\n  }\n\n}\nexport interface SecurityDefsProps {\n  securitySchemes: SecuritySchemesModel;\n}\n@observer\nexport class SecurityDefs extends React.PureComponent<SecurityDefsProps> {\n  state = {\n    tokens: {}\n  };\n  mutateToken = (scheme, id) => {\n    scheme.setToken(this.state.tokens[id]);\n    this.forceUpdate();\n  };\n  setToken = (id, token) => {\n    const tokens = this.state.tokens;\n    tokens[id] = token;\n    this.setState({\n      tokens\n    });\n  };\n\n  render() {\n    return this.props.securitySchemes.schemes.map(scheme => <Section id={scheme.sectionId} key={scheme.id} style={{\n      paddingTop: 0\n    }}>\r\n        <Row>\r\n          <MiddlePanel>\r\n            <H2 style={{\n            marginTop: 5\n          }}>\r\n              <ShareLink to={scheme.sectionId} />\r\n              {scheme.id}\r\n            </H2>\r\n            <Markdown source={scheme.description || ''} />\r\n            <StyledMarkdownBlock>\r\n              <table className=\"security-details\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th> Security Scheme Type </th>\r\n                    <td> {AUTH_TYPES[scheme.type] || scheme.type} </td>\r\n                    <td> Value </td>\r\n                  </tr>\r\n                  {scheme.apiKey ? <tr>\r\n                      <th> {titleize(scheme.apiKey.in || '')} parameter name:</th>\r\n                      <td> {scheme.apiKey.name} </td>\r\n                      <td> {scheme.token} </td>\r\n                    </tr> : scheme.http ? [<tr key=\"scheme\">\r\n                        <th> HTTP Authorization Scheme </th>\r\n                        <td> {scheme.http.scheme} </td>\r\n                        <td> {scheme.token} </td>\r\n                      </tr>, scheme.http.scheme === 'bearer' && scheme.http.bearerFormat && <tr key=\"bearer\">\r\n                          <th> Bearer format </th>\r\n                          <td> \"{scheme.http.bearerFormat}\" </td>\r\n                          <td> {scheme.token} </td>\r\n                        </tr>] : scheme.openId ? <tr>\r\n                      <th> Connect URL </th>\r\n                      <td>\r\n                        <a target=\"_blank\" href={scheme.openId.connectUrl}>\r\n                          {scheme.openId.connectUrl}\r\n                        </a>\r\n                      </td>\r\n                      <td> {scheme.token} </td>\r\n                    </tr> : scheme.flows ? Object.keys(scheme.flows).map(type => <OAuthFlow key={type} type={type} token={scheme.token} flow={scheme.flows[type]} />) : null}\r\n                </tbody>\r\n              </table>\r\n            </StyledMarkdownBlock>\r\n          </MiddlePanel>\r\n          <DarkRightPanel>\r\n            <TokenGroup title={'Enter ' + scheme.id} description={'You can add token here and store it to use in your request calls in this page.'} onChange={token => this.setToken(scheme.id, token)} onSubmit={() => this.mutateToken(scheme, scheme.id)} />\r\n          </DarkRightPanel>\r\n        </Row>\r\n      </Section>);\n  }\n\n}","import { Lambda, observe } from 'mobx';\nimport { OpenAPISpec } from '../types';\nimport { loadAndBundleSpec } from '../utils/loadAndBundleSpec';\nimport { history } from './HistoryService';\nimport { MarkerService } from './MarkerService';\nimport { MenuStore } from './MenuStore';\nimport { SpecStore } from './models';\nimport { RedocNormalizedOptions, RedocRawOptions } from './RedocNormalizedOptions';\nimport { ScrollService } from './ScrollService';\nimport { SearchStore } from './SearchStore';\nimport { SchemaDefinition } from '../components/SchemaDefinition/SchemaDefinition';\nimport { SecurityDefs } from '../components/SecuritySchemes/SecuritySchemes';\nimport { SCHEMA_DEFINITION_JSX_NAME, SECURITY_DEFINITIONS_COMPONENT_NAME, SECURITY_DEFINITIONS_JSX_NAME } from '../utils/openapi';\nimport { IS_BROWSER } from '../utils';\nexport interface StoreState {\n  menu: {\n    activeItemIdx: number;\n  };\n  spec: {\n    url?: string;\n    data: any;\n  };\n  searchIndex: any;\n  options: RedocRawOptions;\n}\nexport async function createStore(spec: object, specUrl: string | undefined, options: RedocRawOptions = {}) {\n  const resolvedSpec = await loadAndBundleSpec(spec || specUrl);\n  return new AppStore(resolvedSpec, specUrl, options);\n}\nexport class AppStore {\n  /**\r\n   * deserialize store\r\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\r\n   */\n  // TODO:\n  static fromJS(state: StoreState): AppStore {\n    const inst = new AppStore(state.spec.data, state.spec.url, state.options, false);\n    inst.menu.activeItemIdx = state.menu.activeItemIdx || 0;\n    inst.menu.activate(inst.menu.flatItems[inst.menu.activeItemIdx]);\n\n    if (!inst.options.disableSearch) {\n      inst.search!.load(state.searchIndex);\n    }\n\n    return inst;\n  }\n\n  menu: MenuStore;\n  spec: SpecStore;\n  rawOptions: RedocRawOptions;\n  options: RedocNormalizedOptions;\n  search?: SearchStore<string>;\n  marker = new MarkerService();\n  private scroll: ScrollService;\n  private disposer: Lambda | null = null;\n\n  constructor(spec: OpenAPISpec, specUrl?: string, options: RedocRawOptions = {}, createSearchIndex: boolean = true) {\n    this.rawOptions = options;\n    this.options = new RedocNormalizedOptions(options, DEFAULT_OPTIONS);\n    this.scroll = new ScrollService(this.options); // update position statically based on hash (in case of SSR)\n\n    MenuStore.updateOnHistory(history.currentId, this.scroll);\n    this.spec = new SpecStore(spec, specUrl, this.options);\n    this.menu = new MenuStore(this.spec, this.scroll, history);\n\n    if (!this.options.disableSearch) {\n      this.search = new SearchStore();\n\n      if (createSearchIndex) {\n        this.search.indexItems(this.menu.items);\n      }\n\n      this.disposer = observe(this.menu, 'activeItemIdx', change => {\n        this.updateMarkOnMenu((change.newValue as number));\n      });\n    }\n  }\n\n  onDidMount() {\n    this.menu.updateOnHistory();\n    this.updateMarkOnMenu(this.menu.activeItemIdx);\n  }\n\n  dispose() {\n    this.scroll.dispose();\n    this.menu.dispose();\n\n    if (this.search) {\n      this.search.dispose();\n    }\n\n    if (this.disposer != null) {\n      this.disposer();\n    }\n  }\n  /**\r\n   * serializes store\r\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\r\n   */\n  // TODO: improve\n\n\n  async toJS(): Promise<StoreState> {\n    return {\n      menu: {\n        activeItemIdx: this.menu.activeItemIdx\n      },\n      spec: {\n        url: this.spec.parser.specUrl,\n        data: this.spec.parser.spec\n      },\n      searchIndex: this.search ? await this.search.toJS() : undefined,\n      options: this.rawOptions\n    };\n  }\n\n  private updateMarkOnMenu(idx: number) {\n    const start = Math.max(0, idx);\n    const end = Math.min(this.menu.flatItems.length, start + 5);\n    const elements: Element[] = [];\n\n    for (let i = start; i < end; i++) {\n      const elem = this.menu.getElementAt(i);\n\n      if (!elem) {\n        continue;\n      }\n\n      elements.push(elem);\n    }\n\n    if (idx === -1 && IS_BROWSER) {\n      const $description = document.querySelector('[data-role=\"redoc-description\"]');\n      if ($description) elements.push($description);\n    }\n\n    this.marker.addOnly(elements);\n    this.marker.mark();\n  }\n\n}\nconst DEFAULT_OPTIONS: RedocRawOptions = {\n  allowedMdComponents: {\n    [SECURITY_DEFINITIONS_COMPONENT_NAME]: {\n      component: SecurityDefs,\n      propsSelector: (store: AppStore) => ({\n        securitySchemes: store.spec.securitySchemes\n      })\n    },\n    [SECURITY_DEFINITIONS_JSX_NAME]: {\n      component: SecurityDefs,\n      propsSelector: (store: AppStore) => ({\n        securitySchemes: store.spec.securitySchemes\n      })\n    },\n    [SCHEMA_DEFINITION_JSX_NAME]: {\n      component: SchemaDefinition,\n      propsSelector: (store: AppStore) => ({\n        parser: store.spec.parser,\n        options: store.options\n      })\n    }\n  }\n};","export * from './AppStore';\nexport * from './OpenAPIParser';\nexport * from './MarkdownRenderer';\nexport * from './MenuStore';\nexport * from './ScrollService';\nexport * from './SpecStore';\nexport * from './ClipboardService';\nexport * from './HistoryService';\nexport * from './models';\nexport * from './RedocNormalizedOptions';\nexport * from './MenuBuilder';\nexport * from './SearchStore';\nexport * from './MarkerService';","import { H1, MiddlePanel } from '../../common-elements';\nimport styled, { extensionsHook } from '../../styled-components';\nconst delimiterWidth = 15;\nexport const ApiInfoWrap = MiddlePanel;\nexport const ApiHeader = styled(H1)`\n  margin-top: 0;\n  margin-bottom: 0.5em;\n\n  ${extensionsHook('ApiHeader')};\n`;\nexport const DownloadButton = styled.a`\n  border: 1px solid ${props => props.theme.colors.primary.main};\n  color: ${props => props.theme.colors.primary.main};\n  font-weight: normal;\n  margin-left: 0.5em;\n  padding: 4px 8px 4px;\n  display: inline-block;\n  text-decoration: none;\n  cursor: pointer;\n\n  ${extensionsHook('DownloadButton')};\n`;\nexport const InfoSpan = styled.span`\n  &::before {\n    content: '|';\n    display: ${props => props.theme.typography.direction === 'ltr' ? 'inline-block' : 'none'};\n    opacity: 0.5;\n    width: ${delimiterWidth}px;\n    text-align: center;\n  }\n\n  &::after {\n    content: '|';\n    display: ${props => props.theme.typography.direction === 'rtl' ? 'inline-block' : 'none'};\n    opacity: 0.5;\n    width: ${delimiterWidth}px;\n    text-align: center;\n  }\n\n  &:last-child::after {\n    display: none;\n  }\n`;\nexport const InfoSpanBoxWrap = styled.div`\n  overflow: hidden;\n`;\nexport const InfoSpanBox = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  // hide separator on new lines: idea from https://stackoverflow.com/a/31732902/1749888\n  margin-left: -${delimiterWidth}px;\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { AppStore } from '../../services/AppStore';\nimport { MiddlePanel, Row, Section } from '../../common-elements/';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Markdown } from '../Markdown/Markdown';\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\nimport { ApiHeader, DownloadButton, InfoSpan, InfoSpanBox, InfoSpanBoxWrap } from './styled.elements';\nexport interface ApiInfoProps {\n  store: AppStore;\n  CustomDescription?: any;\n}\n@observer\nexport class ApiInfo extends React.Component<ApiInfoProps> {\n  handleDownloadClick = e => {\n    if (!e.target.href) {\n      e.target.href = this.props.store.spec.info.downloadLink;\n    }\n  };\n\n  render() {\n    const {\n      store,\n      CustomDescription\n    } = this.props;\n    const {\n      info,\n      externalDocs\n    } = store.spec;\n    const hideDownloadButton = store.options.hideDownloadButton;\n    const downloadFilename = info.downloadFileName;\n    const downloadLink = info.downloadLink;\n    const license = info.license && <InfoSpan>\r\n          License: <a href={info.license.url}>{info.license.name}</a>\r\n        </InfoSpan> || null;\n    const website = info.contact && info.contact.url && <InfoSpan>\r\n          URL: <a href={info.contact.url}>{info.contact.url}</a>\r\n        </InfoSpan> || null;\n    const email = info.contact && info.contact.email && <InfoSpan>\r\n          {info.contact.name || 'E-mail'}:{' '}\r\n          <a href={'mailto:' + info.contact.email}>{info.contact.email}</a>\r\n        </InfoSpan> || null;\n    const terms = info.termsOfService && <InfoSpan>\r\n          <a href={info.termsOfService}>Terms of Service</a>\r\n        </InfoSpan> || null;\n    const version = info.version && <span>({info.version})</span> || null;\n    return <Section>\r\n        <Row>\r\n          <MiddlePanel className=\"api-info\">\r\n            <ApiHeader>\r\n              {info.title} {version}\r\n            </ApiHeader>\r\n            {!hideDownloadButton && <p>\r\n                Download OpenAPI specification:\r\n                <DownloadButton download={downloadFilename || true} target=\"_blank\" href={downloadLink} onClick={this.handleDownloadClick}>\r\n                  Download\r\n                </DownloadButton>\r\n              </p>}\r\n            <StyledMarkdownBlock>\r\n              {(info.license || info.contact || info.termsOfService) && <InfoSpanBoxWrap>\r\n                  <InfoSpanBox>\r\n                    {email} {website} {license} {terms}\r\n                  </InfoSpanBox>\r\n                </InfoSpanBoxWrap> || null}\r\n            </StyledMarkdownBlock>\r\n            <Markdown source={store.spec.info.description} data-role=\"redoc-description\" />\r\n            {CustomDescription}\r\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n          </MiddlePanel>\r\n        </Row>\r\n      </Section>;\n  }\n\n}","export { ApiInfo } from './ApiInfo';","import * as React from 'react';\nimport styled from '../../styled-components';\nexport const LogoImgEl = styled.img`\n  max-height: ${props => props.theme.logo.maxHeight};\n  max-width: ${props => props.theme.logo.maxWidth};\n  padding: ${props => props.theme.logo.gutter};\n  width: 100%;\n  display: block;\n`;\nexport const LogoWrap = styled.div`\n  text-align: center;\n`;\nconst Link = styled.a`\n  display: inline-block;\n`; // eslint-disable-next-line react/display-name\n\nexport const LinkWrap = url => Component => <Link href={url}>{Component}</Link>;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OpenAPIInfo } from '../../types';\nimport { LinkWrap, LogoImgEl, LogoWrap } from './styled.elements';\n@observer\nexport class ApiLogo extends React.Component<{\n  info: OpenAPIInfo;\n}> {\n  render() {\n    const {\n      info\n    } = this.props;\n    const logoInfo = info['x-logo'];\n\n    if (!logoInfo || !logoInfo.url) {\n      return null;\n    }\n\n    const logoHref = logoInfo.href || info.contact && info.contact.url; // Use the english word logo if no alt text is provided\n\n    const altText = logoInfo.altText ? logoInfo.altText : 'logo';\n    const logo = <LogoImgEl src={logoInfo.url} alt={altText} />;\n    return <LogoWrap style={{\n      backgroundColor: logoInfo.backgroundColor\n    }}>\r\n        {logoHref ? LinkWrap(logoHref)(logo) : logo}\r\n      </LogoWrap>;\n  }\n\n}","import * as React from 'react';\nimport { AppStore, MarkdownRenderer, RedocNormalizedOptions } from '../../services';\nimport { BaseMarkdownProps } from './Markdown';\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\nimport { OptionsConsumer } from '../OptionsProvider';\nimport { StoreConsumer } from '../StoreBuilder';\nexport interface AdvancedMarkdownProps extends BaseMarkdownProps {\n  htmlWrap?: (part: JSX.Element) => JSX.Element;\n}\nexport class AdvancedMarkdown extends React.Component<AdvancedMarkdownProps> {\n  render() {\n    return <OptionsConsumer>\r\n        {options => <StoreConsumer>{store => this.renderWithOptionsAndStore(options, store)}</StoreConsumer>}\r\n      </OptionsConsumer>;\n  }\n\n  renderWithOptionsAndStore(options: RedocNormalizedOptions, store?: AppStore) {\n    const {\n      source,\n      htmlWrap = i => i\n    } = this.props;\n\n    if (!store) {\n      throw new Error('When using components in markdown, store prop must be provided');\n    }\n\n    const renderer = new MarkdownRenderer(options);\n    const parts = renderer.renderMdWithComponents(source);\n\n    if (!parts.length) {\n      return null;\n    }\n\n    return parts.map((part, idx) => {\n      if (typeof part === 'string') {\n        return React.cloneElement(htmlWrap(<SanitizedMarkdownHTML html={part} inline={false} compact={false} />), {\n          key: idx\n        });\n      }\n\n      return <part.component key={idx} {...{ ...part.props,\n        ...part.propsSelector(store)\n      }} />;\n    });\n  }\n\n}","import { default as classnames } from 'classnames';\nimport { darken } from 'polished';\nimport { deprecatedCss, ShelfIcon } from '../../common-elements';\nimport styled, { css, ResolvedThemeInterface } from '../../styled-components';\nexport const OperationBadge = styled.span.attrs((props: {\n  type: string;\n}) => ({\n  className: `operation-type ${props.type}`\n}))<{\n  type: string;\n}>`\n  width: 9ex;\n  display: inline-block;\n  height: ${props => props.theme.typography.code.fontSize};\n  line-height: ${props => props.theme.typography.code.fontSize};\n  background-color: #333;\n  border-radius: 3px;\n  background-repeat: no-repeat;\n  background-position: 6px 4px;\n  font-size: 7px;\n  font-family: Verdana, sans-serif; // web-safe\n  color: white;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: bold;\n  vertical-align: middle;\n  margin-right: 6px;\n  margin-top: 2px;\n\n  &.get {\n    background-color: ${props => props.theme.colors.http.get};\n  }\n\n  &.post {\n    background-color: ${props => props.theme.colors.http.post};\n  }\n\n  &.put {\n    background-color: ${props => props.theme.colors.http.put};\n  }\n\n  &.options {\n    background-color: ${props => props.theme.colors.http.options};\n  }\n\n  &.patch {\n    background-color: ${props => props.theme.colors.http.patch};\n  }\n\n  &.delete {\n    background-color: ${props => props.theme.colors.http.delete};\n  }\n\n  &.basic {\n    background-color: ${props => props.theme.colors.http.basic};\n  }\n\n  &.link {\n    background-color: ${props => props.theme.colors.http.link};\n  }\n\n  &.head {\n    background-color: ${props => props.theme.colors.http.head};\n  }\n\n  &.hook {\n    background-color: ${props => props.theme.colors.primary.main};\n  }\n`;\n\nfunction menuItemActiveBg(depth, {\n  theme\n}: {\n  theme: ResolvedThemeInterface;\n}): string {\n  if (depth > 1) {\n    return darken(0.1, theme.sidebar.backgroundColor);\n  } else if (depth === 1) {\n    return darken(0.05, theme.sidebar.backgroundColor);\n  } else {\n    return '';\n  }\n}\n\nexport const MenuItemUl = styled.ul<{\n  expanded: boolean;\n}>`\n  margin: 0;\n  padding: 0;\n\n  & & {\n    font-size: 0.929em;\n  }\n\n  ${props => props.expanded ? '' : 'display: none;'};\n`;\nexport const MenuItemLi = styled.li<{\n  depth: number;\n}>`\n  list-style: none inside none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0;\n  ${props => props.depth === 0 ? 'margin-top: 15px' : ''};\n`;\nexport const menuItemDepth = {\n  0: css`\n    opacity: 0.7;\n    text-transform: ${({\n    theme\n  }) => theme.sidebar.groupItems.textTransform};\n    font-size: 0.8em;\n    padding-bottom: 0;\n    cursor: default;\n    color: ${props => props.theme.sidebar.textColor};\n  `,\n  1: css`\n    font-size: 0.929em;\n    text-transform: ${({\n    theme\n  }) => theme.sidebar.level1Items.textTransform};\n    &:hover {\n      color: ${props => props.theme.sidebar.activeTextColor};\n    }\n  `,\n  2: css`\n    color: ${props => props.theme.sidebar.textColor};\n  `\n};\nexport interface MenuItemLabelType {\n  depth: number;\n  active: boolean;\n  deprecated?: boolean;\n  type?: string;\n}\nexport const MenuItemLabel = styled.label.attrs((props: MenuItemLabelType) => ({\n  role: 'menuitem',\n  className: classnames('-depth' + props.depth, {\n    active: props.active\n  })\n}))<MenuItemLabelType>`\n  cursor: pointer;\n  color: ${props => props.active ? props.theme.sidebar.activeTextColor : props.theme.sidebar.textColor};\n  margin: 0;\n  padding: 12.5px ${props => props.theme.spacing.unit * 4}px;\n  ${({\n  depth,\n  type,\n  theme\n}) => type === 'section' && depth > 1 && 'padding-left: ' + theme.spacing.unit * 8 + 'px;' || ''}\n  direction: ${({\n  type,\n  theme\n}) => ['section', 'group', 'tag'].indexOf(type || '') > -1 && theme.typography.direction === 'rtl' ? 'rtl' : 'ltr'};\n  display: flex;\n  justify-content: space-between;\n  text-align: ${({\n  theme\n}) => theme.typography.direction === 'rtl' ? 'right' : 'left'};\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n  ${props => menuItemDepth[props.depth]};\n  background-color: ${props => props.active ? menuItemActiveBg(props.depth, props) : ''};\n\n  ${props => props.deprecated && deprecatedCss || ''};\n\n  &:hover {\n    background-color: ${props => menuItemActiveBg(props.depth, props)};\n  }\n\n  ${ShelfIcon} {\n    height: ${({\n  theme\n}) => theme.sidebar.arrow.size};\n    width: ${({\n  theme\n}) => theme.sidebar.arrow.size};\n    polygon {\n      fill: ${({\n  theme\n}) => theme.sidebar.arrow.color};\n    }\n  }\n`;\nexport const MenuItemTitle = styled.span<{\n  width?: string;\n}>`\n  display: inline-block;\n  vertical-align: middle;\n  width: ${props => props.width ? props.width : 'auto'};\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\nexport const RedocAttribution = styled.div`\n  ${({\n  theme\n}) => `\n  font-size: 0.8em;\n  margin-top: ${theme.spacing.unit * 2}px;\n  padding: 0 ${theme.spacing.unit * 4}px;\n  text-align: left;\n\n  opacity: 0.7;\n\n  a,\n  a:visited,\n  a:hover {\n    color: ${theme.sidebar.textColor} !important;\n    border-top: 1px solid ${darken(0.1, theme.sidebar.backgroundColor)};\n    padding: ${theme.spacing.unit}px 0;\n    display: block;\n  }\n`};\n`;","import * as React from 'react';\nimport { darken } from 'polished';\nimport { ShelfIcon } from '../../common-elements';\nimport { OperationBadge } from '../SideMenu/styled.elements';\nimport { shortenHTTPVerb } from '../../utils/openapi';\nimport styled from '../../styled-components';\nimport { Badge } from '../../common-elements/';\nimport { l } from '../../services/Labels';\nexport interface CallbackTitleProps {\n  name: string;\n  opened?: boolean;\n  httpVerb: string;\n  deprecated?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\nexport class CallbackTitle extends React.PureComponent<CallbackTitleProps> {\n  render() {\n    const {\n      name,\n      opened,\n      className,\n      onClick,\n      httpVerb,\n      deprecated\n    } = this.props;\n    return <CallbackTitleWrapper className={className} onClick={onClick || undefined}>\r\n        <OperationBadgeStyled type={httpVerb}>{shortenHTTPVerb(httpVerb)}</OperationBadgeStyled>\r\n        <ShelfIcon size={'1.5em'} direction={opened ? 'down' : 'right'} float={'left'} />\r\n        <CallbackName deprecated={deprecated}>{name}</CallbackName>\r\n        {deprecated ? <Badge type=\"warning\"> {l('deprecated')} </Badge> : null}\r\n      </CallbackTitleWrapper>;\n  }\n\n}\nconst CallbackTitleWrapper = styled.button`\n  border: 0;\n  width: 100%;\n  text-align: left;\n  & > * {\n    vertical-align: middle;\n  }\n\n  ${ShelfIcon} {\n    polygon {\n      fill: ${({\n  theme\n}) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\n    }\n  }\n`;\nconst CallbackName = styled.span<{\n  deprecated?: boolean;\n}>`\n  text-decoration: ${props => props.deprecated ? 'line-through' : 'none'};\n  margin-right: 8px;\n`;\nconst OperationBadgeStyled = styled(OperationBadge)`\n  margin: 0px 5px 0px 0px;\n`;","import styled from '../../styled-components';\nimport { CallbackTitle } from './CallbackTitle';\nimport { darken } from 'polished';\nexport const StyledCallbackTitle = styled(CallbackTitle)`\n  padding: 10px;\n  border-radius: 2px;\n  margin-bottom: 4px;\n  line-height: 1.5em;\n  background-color: ${({\n  theme\n}) => theme.colors.gray[100]};\n  cursor: pointer;\n  outline-color: ${({\n  theme\n}) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\n`;\nexport const CallbackDetailsWrap = styled.div`\n  padding: 10px 25px;\n  background-color: ${({\n  theme\n}) => theme.colors.gray[50]};\n  margin-bottom: 5px;\n  margin-top: 5px;\n`;","import * as React from 'react';\nimport { ClipboardService } from '../../services';\nexport class SelectOnClick extends React.PureComponent {\n  private child: HTMLDivElement | null;\n  selectElement = () => {\n    ClipboardService.selectElement(this.child);\n  };\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return <div ref={el => this.child = el} onClick={this.selectElement} onFocus={this.selectElement} tabIndex={0} role=\"button\">\r\n        {children}\r\n      </div>;\n  }\n\n}","import styled from '../../styled-components';\nexport const OperationEndpointWrap = styled.div`\n  cursor: pointer;\n  position: relative;\n  margin-bottom: 5px;\n  .showToolTip {\n    visibility: initial;\n    background-color: white;\n    color: black;\n    padding: 3px;\n    position: initial;\n    width: 53px;\n    text-align: center;\n    margin-bottom: 10px;\n    border-radius: 4px;\n  }\n  .hideToolTip {\n    visibility: hidden;\n    padding: 3px;\n    position: initial;\n    width: 53px;\n    text-align: center;\n    margin-bottom: 10px;\n    border-radius: 4px;\n  }\n`;\nexport const ServerRelativeURL = styled.span`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  margin-left: 10px;\n  flex: 1;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n`;\nexport const EndpointInfo = styled.div<{\n  expanded?: boolean;\n  inverted?: boolean;\n}>`\n  outline: 0;\n  color: inherit;\n  width: 100%;\n  text-align: left;\n  cursor: pointer;\n  padding: 10px 30px 10px ${props => props.inverted ? '10px' : '20px'};\n  border-radius: ${props => props.inverted ? '0' : '4px 4px 0 0'};\n  background-color: ${props => props.inverted ? 'transparent' : props.theme.codeBlock.backgroundColor};\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  border: ${props => props.inverted ? '0' : '1px solid transparent'};\n  border-bottom: ${props => props.inverted ? '1px solid #ccc' : '0'};\n  transition: border-color 0.25s ease;\n  direction: ltr;\n\n  ${props => props.expanded && !props.inverted && `border-color: ${props.theme.colors.border.dark};` || ''}\n\n  .${ServerRelativeURL} {\n    color: ${props => props.inverted ? props.theme.colors.text.primary : '#ffffff'}\n  }\n  &:focus {\n    box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.45), 0 2px 0 rgba(128, 128, 128, 0.25);\n  }\n`;\nexport const HttpVerb = styled.span.attrs((props: {\n  type: string;\n  compact?: boolean;\n}) => ({\n  className: `http-verb ${props.type}`\n}))<{\n  type: string;\n  compact?: boolean;\n}>`\n  font-size: ${props => props.compact ? '0.8em' : '0.929em'};\n  line-height: ${props => props.compact ? '18px' : '20px'};\n  background-color: ${props => props.theme.colors.http[props.type] || '#999999'};\n  color: #ffffff;\n  padding: ${props => props.compact ? '2px 8px' : '3px 10px'};\n  text-transform: uppercase;\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n  margin: 0;\n`;\nexport const ServersOverlay = styled.div<{\n  expanded: boolean;\n}>`\n  position: absolute;\n  width: 100%;\n  z-index: 100;\n  background: #fafafa;\n  color: #263238;\n  box-sizing: border-box;\n  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.33);\n  overflow: hidden;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  transition: all 0.25s ease;\n  ${props => props.expanded ? '' : 'transform: translateY(-50%) scaleY(0);'}\n`;\nexport const ServerItem = styled.div`\n  padding: 10px;\n  background-color: #002c2d;\n  color: white;\n  display: flex;\n  flex-wrap: nowrap;\n  &.selected {\n    background-color: #3c7173;\n  }\n`;\nexport const ServerUrl = styled.div`\n  text-align: left;\n  user-select: none;\n  padding: 5px !important;\n  background-color: #ffffff33;\n  word-break: break-all;\n  width: 100% !important;\n  color: #00ff1c;\n  > span {\n    color: white;\n  }\n`;","import * as React from 'react';\nimport { ShelfIcon } from '../../common-elements';\nimport { ClipboardService, OperationModel } from '../../services'; //import { Markdown } from '../Markdown/Markdown';\n\nimport { OptionsContext } from '../OptionsProvider';\nimport { SelectOnClick } from '../SelectOnClick/SelectOnClick';\nimport { expandDefaultServerVariables, getBasePath } from '../../utils';\nimport { EndpointInfo, HttpVerb, OperationEndpointWrap, ServerItem, ServerRelativeURL, ServersOverlay, ServerUrl } from './styled.elements';\nexport interface EndpointProps {\n  operation: OperationModel;\n  hideHostname?: boolean;\n  inverted?: boolean;\n  compact?: boolean;\n  handleUrl: any;\n}\nexport interface EndpointState {\n  expanded: boolean;\n  selectedItem: number;\n  tooltipShown: boolean;\n}\nexport class Endpoint extends React.Component<EndpointProps, EndpointState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      selectedItem: 0,\n      tooltipShown: false\n    };\n  }\n\n  toggle = () => {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  };\n\n  render() {\n    const {\n      operation,\n      inverted,\n      hideHostname\n    } = this.props;\n    const {\n      expanded\n    } = this.state; // TODO: highlight server variables, e.g. https://{user}.test.com\n\n    return <OptionsContext.Consumer>\r\n        {options => <OperationEndpointWrap>\r\n            <div className={this.state.tooltipShown === true ? 'showToolTip' : 'hideToolTip'}>\r\n              Copied\r\n            </div>\r\n            <EndpointInfo onClick={this.toggle} expanded={expanded} inverted={inverted}>\r\n              <HttpVerb type={operation.httpVerb} compact={this.props.compact}>\r\n                {operation.httpVerb}\r\n              </HttpVerb>\r\n              <ServerRelativeURL>{operation.path}</ServerRelativeURL>\r\n              <ShelfIcon float={'right'} color={inverted ? 'black' : 'white'} size={'20px'} direction={expanded ? 'up' : 'down'} style={{\n            marginRight: '-25px'\n          }} />\r\n            </EndpointInfo>\r\n            <ServersOverlay expanded={expanded}>\r\n              {operation.servers.map((server, index) => {\n            const normalizedUrl = options.expandDefaultServerVariables ? expandDefaultServerVariables(server.url, server.variables) : server.url;\n            return <ServerItem className={this.state.selectedItem === index ? 'selected' : ''} key={normalizedUrl}>\r\n                    <SelectOnClick\n              /*onSelectUrl={this.handleUrl.bind(this, index)}*/\n              >\r\n                      <ServerUrl>\r\n                        <span>\r\n                          {hideHostname || options.hideHostname ? getBasePath(normalizedUrl) : normalizedUrl}\r\n                        </span>\r\n                        {operation.path}\r\n                      </ServerUrl>\r\n                    </SelectOnClick>\r\n                  </ServerItem>;\n          })}\r\n            </ServersOverlay>\r\n          </OperationEndpointWrap>}\r\n      </OptionsContext.Consumer>;\n  }\n\n  handleUrl(url: number) {\n    this.props.handleUrl(url);\n    this.setState({\n      selectedItem: url,\n      expanded: false,\n      tooltipShown: true\n    });\n    ClipboardService.copyCustom(this.props.operation.servers[url].url + this.props.operation.path);\n    setTimeout(() => {\n      this.setState({\n        tooltipShown: false\n      });\n    }, 1000);\n  }\n\n}","import * as React from 'react';\nimport { UnderlinedHeader } from '../../common-elements';\nimport { PropertiesTable } from '../../common-elements/fields-layout';\nimport { FieldModel } from '../../services/models';\nimport { Field } from '../Fields/Field';\nimport { mapWithLast } from '../../utils';\nexport interface ParametersGroupProps {\n  place: string;\n  parameters: FieldModel[];\n}\nexport class ParametersGroup extends React.PureComponent<ParametersGroupProps, any> {\n  render() {\n    const {\n      place,\n      parameters\n    } = this.props;\n\n    if (!parameters || !parameters.length) {\n      return null;\n    }\n\n    return <div key={place}>\r\n        <UnderlinedHeader>{place} Parameters</UnderlinedHeader>\r\n        <PropertiesTable>\r\n          <tbody>\r\n            {mapWithLast(parameters, (field, isLast) => <Field key={field.name} isLast={isLast} field={field} showExamples={true} />)}\r\n          </tbody>\r\n        </PropertiesTable>\r\n      </div>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { DropdownProps } from '../../common-elements/dropdown';\nimport { MediaContentModel, MediaTypeModel, SchemaModel } from '../../services/models';\nimport { DropdownLabel, DropdownWrapper } from '../PayloadSamples/styled.elements';\nexport interface MediaTypeChildProps {\n  schema: SchemaModel;\n  mime?: string;\n}\nexport interface MediaTypesSwitchProps {\n  content?: MediaContentModel;\n  withLabel?: boolean;\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n  children: (activeMime: MediaTypeModel) => JSX.Element;\n}\n@observer\nexport class MediaTypesSwitch extends React.Component<MediaTypesSwitchProps> {\n  switchMedia = ({\n    idx\n  }) => {\n    if (this.props.content) {\n      this.props.content.activate(idx);\n    }\n  };\n\n  render() {\n    const {\n      content\n    } = this.props;\n\n    if (!content || !content.mediaTypes || !content.mediaTypes.length) {\n      return null;\n    }\n\n    const activeMimeIdx = content.activeMimeIdx;\n    const options = content.mediaTypes.map((mime, idx) => {\n      return {\n        value: mime.name,\n        idx\n      };\n    });\n\n    const Wrapper = ({\n      children\n    }) => this.props.withLabel ? <DropdownWrapper>\r\n          <DropdownLabel>Content type</DropdownLabel>\r\n          {children}\r\n        </DropdownWrapper> : children;\n\n    return <>\r\n        <Wrapper>\r\n          {this.props.renderDropdown({\n          value: options[activeMimeIdx].value,\n          options,\n          onChange: this.switchMedia,\n          ariaLabel: 'Content type'\n        })}\r\n        </Wrapper>\r\n        {this.props.children(content.active)}\r\n      </>;\n  }\n\n}","import * as React from 'react';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { ParametersGroup } from './ParametersGroup';\nimport { UnderlinedHeader } from '../../common-elements';\nimport { MediaContentModel } from '../../services';\nimport { FieldModel, RequestBodyModel } from '../../services/models';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { Schema } from '../Schema';\nimport { Markdown } from '../Markdown/Markdown';\n\nfunction safePush(obj, prop, item) {\n  if (!obj[prop]) {\n    obj[prop] = [];\n  }\n\n  obj[prop].push(item);\n}\n\nexport interface ParametersProps {\n  parameters?: FieldModel[];\n  body?: RequestBodyModel;\n}\nconst PARAM_PLACES = ['path', 'query', 'cookie', 'header'];\nexport class Parameters extends React.PureComponent<ParametersProps> {\n  orderParams(params: FieldModel[]): Record<string, FieldModel[]> {\n    const res = {};\n    params.forEach(param => {\n      safePush(res, param.in, param);\n    });\n    return res;\n  }\n\n  render() {\n    const {\n      body,\n      parameters = []\n    } = this.props;\n\n    if (body === undefined && parameters === undefined) {\n      return null;\n    }\n\n    const paramsMap = this.orderParams(parameters);\n    const paramsPlaces = parameters.length > 0 ? PARAM_PLACES : [];\n    const bodyContent = body && body.content;\n    const bodyDescription = body && body.description;\n    return <>\r\n        {paramsPlaces.map(place => <ParametersGroup key={place} place={place} parameters={paramsMap[place]} />)}\r\n        {bodyContent && <BodyContent content={bodyContent} description={bodyDescription} />}\r\n      </>;\n  }\n\n}\n\nfunction DropdownWithinHeader(props) {\n  return <UnderlinedHeader key=\"header\">\r\n      Request Body schema: <DropdownOrLabel {...props} />\r\n    </UnderlinedHeader>;\n}\n\nexport function BodyContent(props: {\n  content: MediaContentModel;\n  description?: string;\n}): JSX.Element {\n  const {\n    content,\n    description\n  } = props;\n  return <MediaTypesSwitch content={content} renderDropdown={DropdownWithinHeader}>\r\n      {({\n      schema\n    }) => {\n      return <>\r\n            {description !== undefined && <Markdown source={description} />}\r\n            <Schema skipReadOnly={true} key=\"schema\" schema={schema} />\r\n          </>;\n    }}\r\n    </MediaTypesSwitch>;\n}","import * as React from 'react';\nimport { Code } from './styled.elements';\nimport { ShelfIcon } from '../../common-elements';\nimport { Markdown } from '../Markdown/Markdown';\nexport interface ResponseTitleProps {\n  code: string;\n  title: string;\n  type: string;\n  empty?: boolean;\n  opened?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\nexport class ResponseTitle extends React.PureComponent<ResponseTitleProps> {\n  render() {\n    const {\n      title,\n      type,\n      empty,\n      code,\n      opened,\n      className,\n      onClick\n    } = this.props;\n    return <button className={className} onClick={!empty && onClick || undefined} aria-expanded={opened} disabled={empty}>\r\n        {!empty && <ShelfIcon size={'1.5em'} color={type} direction={opened ? 'down' : 'right'} float={'left'} />}\r\n        <Code>{code} </Code>\r\n        <Markdown compact={true} inline={true} source={title} />\r\n      </button>;\n  }\n\n}","// import { transparentize } from 'polished';\nimport { UnderlinedHeader } from '../../common-elements';\nimport styled from '../../styled-components';\nimport { ResponseTitle } from './ResponseTitle';\nexport const StyledResponseTitle = styled(ResponseTitle)`\n  display: block;\n  border: 0;\n  width: 100%;\n  text-align: left;\n  padding: 10px;\n  border-radius: 2px;\n  margin-bottom: 4px;\n  line-height: 1.5em;\n  background-color: #f2f2f2;\n  cursor: pointer;\n\n  color: ${props => props.theme.colors.responses[props.type].color};\n  background-color: ${props => props.theme.colors.responses[props.type].backgroundColor};\n  &:focus {\n    outline: auto;\n    outline-color: ${props => props.theme.colors.responses[props.type].color};\n  }\n  ${props => props.empty && `\ncursor: default;\n&::before {\n  content: \"—\";\n  font-weight: bold;\n  width: 1.5em;\n  text-align: center;\n  display: inline-block;\n  vertical-align: top;\n}\n&:focus {\n  outline: 0;\n}\n` || ''};\n`;\nexport const ResponseDetailsWrap = styled.div`\n  padding: 10px;\n`;\nexport const HeadersCaption = styled(UnderlinedHeader.withComponent('caption'))`\n  text-align: left;\n  margin-top: 1em;\n  caption-side: top;\n`;\nexport const Code = styled.strong`\n  vertical-align: top;\n`;","import * as React from 'react';\nimport { PropertiesTable } from '../../common-elements/fields-layout';\nimport { FieldModel } from '../../services/models';\nimport { mapWithLast } from '../../utils';\nimport { Field } from '../Fields/Field';\nimport { HeadersCaption } from './styled.elements';\nexport interface ResponseHeadersProps {\n  headers?: FieldModel[];\n}\nexport class ResponseHeaders extends React.PureComponent<ResponseHeadersProps> {\n  render() {\n    const {\n      headers\n    } = this.props;\n\n    if (headers === undefined || headers.length === 0) {\n      return null;\n    }\n\n    return <PropertiesTable>\r\n        <HeadersCaption> Response Headers </HeadersCaption>\r\n        <tbody>\r\n          {mapWithLast(headers, (header, isLast) => <Field isLast={isLast} key={header.name} field={header} showExamples={true} />)}\r\n        </tbody>\r\n      </PropertiesTable>;\n  }\n\n}","import * as React from 'react';\nimport { ResponseModel } from '../../services/models';\nimport { UnderlinedHeader } from '../../common-elements';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { Schema } from '../Schema';\nimport { Markdown } from '../Markdown/Markdown';\nimport { ResponseHeaders } from './ResponseHeaders';\nexport class ResponseDetails extends React.PureComponent<{\n  response: ResponseModel;\n}> {\n  render() {\n    const {\n      description,\n      headers,\n      content\n    } = this.props.response;\n    return <>\r\n        {description && <Markdown source={description} />}\r\n        <ResponseHeaders headers={headers} />\r\n        <MediaTypesSwitch content={content} renderDropdown={this.renderDropdown}>\r\n          {({\n          schema\n        }) => {\n          return <Schema skipWriteOnly={true} key=\"schema\" schema={schema} />;\n        }}\r\n        </MediaTypesSwitch>\r\n      </>;\n  }\n\n  private renderDropdown = props => {\n    return <UnderlinedHeader key=\"header\">\r\n        Response Schema: <DropdownOrLabel {...props} />\r\n      </UnderlinedHeader>;\n  };\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { ResponseModel } from '../../services/models';\nimport { ResponseDetails } from './ResponseDetails';\nimport { ResponseDetailsWrap, StyledResponseTitle } from './styled.elements';\n@observer\nexport class ResponseView extends React.Component<{\n  response: ResponseModel;\n}> {\n  toggle = () => {\n    this.props.response.toggle();\n  };\n\n  render() {\n    const {\n      headers,\n      type,\n      summary,\n      description,\n      code,\n      expanded,\n      content\n    } = this.props.response;\n    const mimes = content === undefined ? [] : content.mediaTypes.filter(mime => mime.schema !== undefined);\n    const empty = headers.length === 0 && mimes.length === 0 && !description;\n    return <div>\r\n        <StyledResponseTitle onClick={this.toggle} type={type} empty={empty} title={summary || ''} code={code} opened={expanded} />\r\n        {expanded && !empty && <ResponseDetailsWrap>\r\n            <ResponseDetails response={this.props.response} />\r\n          </ResponseDetailsWrap>}\r\n      </div>;\n  }\n\n}","import * as React from 'react';\nimport { ResponseModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { ResponseView } from './Response';\nconst ResponsesHeader = styled.h3`\n  font-size: 1.3em;\n  padding: 0.2em 0;\n  margin: 3em 0 1.1em;\n  color: ${({\n  theme\n}) => theme.colors.text.primary};\n  font-weight: normal;\n`;\nexport interface ResponseListProps {\n  responses: ResponseModel[];\n  isCallback?: boolean;\n}\nexport class ResponsesList extends React.PureComponent<ResponseListProps> {\n  render() {\n    const {\n      responses,\n      isCallback\n    } = this.props;\n\n    if (!responses || responses.length === 0) {\n      return null;\n    }\n\n    return <div>\r\n        <ResponsesHeader>{isCallback ? 'Callback responses' : 'Responses'}</ResponsesHeader>\r\n        {responses.map(response => {\n        return <ResponseView key={response.code} response={response} />;\n      })}\r\n      </div>;\n  }\n\n}","// import { transparentize } from 'polished';\nimport * as React from 'react';\nimport styled, { media } from '../../styled-components';\nimport { Link, UnderlinedHeader } from '../../common-elements/';\nimport { SecurityRequirementModel } from '../../services/models/SecurityRequirement';\nimport { linksCss } from '../Markdown/styled.elements';\nconst ScopeName = styled.code`\n  font-size: ${props => props.theme.typography.code.fontSize};\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  border: 1px solid ${({\n  theme\n}) => theme.colors.border.dark};\n  margin: 0 3px;\n  padding: 0.2em;\n  display: inline-block;\n  line-height: 1;\n\n  &:after {\n    content: ',';\n  }\n  &:last-child:after {\n    content: none;\n  }\n`;\nconst SecurityRequirementAndWrap = styled.span`\n  &:after {\n    content: ' AND ';\n    font-weight: bold;\n  }\n\n  &:last-child:after {\n    content: none;\n  }\n\n  ${linksCss};\n`;\nconst SecurityRequirementOrWrap = styled.span`\n  &:before {\n    content: '( ';\n    font-weight: bold;\n  }\n  &:after {\n    content: ' ) OR ';\n    font-weight: bold;\n  }\n  &:last-child:after {\n    content: ' )';\n  }\n\n  &:only-child:before,\n  &:only-child:after {\n    content: none;\n  }\n\n  ${linksCss};\n`;\nexport interface SecurityRequirementProps {\n  security: SecurityRequirementModel;\n}\nexport class SecurityRequirement extends React.PureComponent<SecurityRequirementProps> {\n  render() {\n    const security = this.props.security;\n    return <SecurityRequirementOrWrap>\r\n        {security.schemes.map(scheme => <SecurityRequirementAndWrap key={scheme.id}>\r\n            <Link to={scheme.sectionId}>{scheme.id}</Link>\r\n            {scheme.scopes.length > 0 && ' ('}\r\n            {scheme.scopes.map(scope => <ScopeName key={scope}>{scope}</ScopeName>)}\r\n            {scheme.scopes.length > 0 && ') '}\r\n          </SecurityRequirementAndWrap>)}\r\n      </SecurityRequirementOrWrap>;\n  }\n\n}\nconst AuthHeaderColumn = styled.div`\n  flex: 1 1 auto;\n`;\nconst SecuritiesColumn = styled.div`\n  width: ${props => props.theme.schema.defaultDetailsWidth};\n  ${media.lessThan('small')`\n    margin-top: 10px;\n  `}\n`;\nconst AuthHeader = styled(UnderlinedHeader)`\n  display: inline-block;\n  margin: 0;\n`;\nconst Wrap = styled.div`\n  width: 100%;\n  display: flex;\n  margin: 1em 0;\n\n  ${media.lessThan('small')`\n    flex-direction: column;\n  `}\n`;\nexport interface SecurityRequirementsProps {\n  securities: SecurityRequirementModel[];\n}\nexport class SecurityRequirements extends React.PureComponent<SecurityRequirementsProps> {\n  render() {\n    const securities = this.props.securities;\n\n    if (!securities.length) {\n      return null;\n    }\n\n    return <Wrap>\r\n        <AuthHeaderColumn>\r\n          <AuthHeader>Authorizations: </AuthHeader>\r\n        </AuthHeaderColumn>\r\n        <SecuritiesColumn>\r\n          {securities.map((security, idx) => <SecurityRequirement key={idx} security={security} />)}\r\n        </SecuritiesColumn>\r\n      </Wrap>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OperationModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Extensions } from '../Fields/Extensions';\nimport { Markdown } from '../Markdown/Markdown';\nimport { Parameters } from '../Parameters/Parameters';\nimport { ResponsesList } from '../Responses/ResponsesList';\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\nimport { CallbackDetailsWrap } from './styled.elements';\nexport interface CallbackDetailsProps {\n  operation: OperationModel;\n}\n@observer\nexport class CallbackDetails extends React.Component<CallbackDetailsProps> {\n  render() {\n    const {\n      operation\n    } = this.props;\n    const {\n      description,\n      externalDocs\n    } = operation;\n    const hasDescription = !!(description || externalDocs);\n    return <CallbackDetailsWrap>\r\n        {hasDescription && <Description>\r\n            {description !== undefined && <Markdown source={description} />}\r\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n          </Description>}\r\n        <Endpoint operation={this.props.operation} inverted={true} compact={true} handleUrl={() => false} />\r\n        <Extensions extensions={operation.extensions} />\r\n        <SecurityRequirements securities={operation.security} />\r\n        <Parameters parameters={operation.parameters} body={operation.requestBody} />\r\n        <ResponsesList responses={operation.responses} isCallback={operation.isCallback} />\r\n      </CallbackDetailsWrap>;\n  }\n\n}\nconst Description = styled.div`\n  margin-bottom: ${({\n  theme\n}) => theme.spacing.unit * 3}px;\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OperationModel } from '../../services/models';\nimport { StyledCallbackTitle } from './styled.elements';\nimport { CallbackDetails } from './CallbackDetails';\n@observer\nexport class CallbackOperation extends React.Component<{\n  callbackOperation: OperationModel;\n}> {\n  toggle = () => {\n    this.props.callbackOperation.toggle();\n  };\n\n  render() {\n    const {\n      name,\n      expanded,\n      httpVerb,\n      deprecated\n    } = this.props.callbackOperation;\n    return <>\r\n        <StyledCallbackTitle onClick={this.toggle} name={name} opened={expanded} httpVerb={httpVerb} deprecated={deprecated} />\r\n        {expanded && <CallbackDetails operation={this.props.callbackOperation} />}\r\n      </>;\n  }\n\n}","import * as React from 'react';\nimport { CallbackModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { CallbackOperation } from './CallbackOperation';\nexport interface CallbacksListProps {\n  callbacks: CallbackModel[];\n}\nexport class CallbacksList extends React.PureComponent<CallbacksListProps> {\n  render() {\n    const {\n      callbacks\n    } = this.props;\n\n    if (!callbacks || callbacks.length === 0) {\n      return null;\n    }\n\n    return <div>\r\n        <CallbacksHeader> Callbacks </CallbacksHeader>\r\n        {callbacks.map(callback => {\n        return callback.operations.map((operation, index) => {\n          return <CallbackOperation key={`${callback.name}_${index}`} callbackOperation={operation} />;\n        });\n      })}\r\n      </div>;\n  }\n\n}\nconst CallbacksHeader = styled.h3`\n  font-size: 1.3em;\n  padding: 0.2em 0;\n  margin: 3em 0 1.1em;\n  color: ${({\n  theme\n}) => theme.colors.text.primary};\n  font-weight: normal;\n`;","export * from './CallbackOperation';\nexport * from './CallbackTitle';\nexport * from './CallbacksList';","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { MediaTypeSamples } from './MediaTypeSamples';\nimport { MediaContentModel } from '../../services/models';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { InvertedSimpleDropdown, MimeLabel } from './styled.elements';\nexport interface PayloadSamplesProps {\n  content: MediaContentModel;\n}\n@observer\nexport class PayloadSamples extends React.Component<PayloadSamplesProps> {\n  render() {\n    const mimeContent = this.props.content;\n\n    if (mimeContent === undefined) {\n      return null;\n    }\n\n    return <MediaTypesSwitch content={mimeContent} renderDropdown={this.renderDropdown} withLabel={true}>\r\n        {mediaType => <MediaTypeSamples key=\"samples\" mediaType={mediaType} renderDropdown={this.renderDropdown} />}\r\n      </MediaTypesSwitch>;\n  }\n\n  private renderDropdown = props => {\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\n  };\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { isPayloadSample, OperationModel, RedocNormalizedOptions } from '../../services';\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\nimport { OptionsContext } from '../OptionsProvider';\nexport interface RequestSamplesProps {\n  operation: OperationModel;\n}\n@observer\nexport class RequestSamples extends React.Component<RequestSamplesProps> {\n  static contextType = OptionsContext;\n  context: RedocNormalizedOptions;\n  operation: OperationModel;\n\n  render() {\n    const {\n      operation\n    } = this.props;\n    const samples = operation.codeSamples;\n    const hasSamples = samples.length > 0;\n    const hideTabList = samples.length === 1 ? this.context.hideSingleRequestSampleTab : false;\n    return hasSamples && <div>\r\n          <RightPanelHeader> Request samples </RightPanelHeader>\r\n\r\n          <Tabs defaultIndex={0}>\r\n            <TabList hidden={hideTabList}>\r\n              {samples.map(sample => <Tab key={sample.lang + '_' + (sample.label || '')}>\r\n                  {sample.label !== undefined ? sample.label : sample.lang}\r\n                </Tab>)}\r\n            </TabList>\r\n            {samples.map(sample => <TabPanel key={sample.lang + '_' + (sample.label || '')}>\r\n                {isPayloadSample(sample) ? <div>\r\n                    <PayloadSamples content={sample.requestBodyContent} />\r\n                  </div> : <SourceCodeWithCopy lang={sample.lang} source={sample.source} />}\r\n              </TabPanel>)}\r\n          </Tabs>\r\n        </div> || null;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OperationModel } from '../../services/models';\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\nexport interface ResponseSamplesProps {\n  operation: OperationModel;\n}\n@observer\nexport class ResponseSamples extends React.Component<ResponseSamplesProps> {\n  operation: OperationModel;\n\n  render() {\n    const {\n      operation\n    } = this.props;\n    const responses = operation.responses.filter(response => {\n      return response.content && response.content.hasSample;\n    });\n    return responses.length > 0 && <div>\r\n          <RightPanelHeader> Response samples </RightPanelHeader>\r\n\r\n          <Tabs defaultIndex={0}>\r\n            <TabList>\r\n              {responses.map(response => <Tab className={'tab-' + response.type} key={response.code}>\r\n                  {response.code}\r\n                </Tab>)}\r\n            </TabList>\r\n            {responses.map(response => <TabPanel key={response.code}>\r\n                <div>\r\n                  <PayloadSamples content={response.content!} />\r\n                </div>\r\n              </TabPanel>)}\r\n          </Tabs>\r\n        </div> || null;\n  }\n\n}","import * as React from 'react';\nimport Switch from 'react-switch';\nimport { FlexLayout } from './index';\nimport styled from '../styled-components';\nconst CustomFlexLayout = styled(FlexLayout)`\n  align-items: center;\n`;\ninterface LabelProps {\n  active: boolean;\n}\nconst Label = styled.label<LabelProps>`\n  color: ${props => props.active ? props.theme.colors.success.main : props.theme.colors.text.secondary}\n  margin-left: 10px;\n  font-size: 120%;\n`;\ninterface TryItOutProps {\n  label: string;\n  checked: boolean;\n  onClick: () => void;\n}\nexport class SwitchBox extends React.PureComponent<TryItOutProps> {\n  id = 'toggle-id-' + Date.now();\n\n  render() {\n    const {\n      label,\n      checked,\n      onClick\n    } = this.props;\n    return <CustomFlexLayout>\r\n        <Switch id={this.id} onChange={onClick} checked={checked} uncheckedIcon={false} />\r\n        <Label active={checked} htmlFor={this.id} style={{\n        marginLeft: 10\n      }}>\r\n          {label}\r\n        </Label>\r\n      </CustomFlexLayout>;\n  }\n\n}","import * as React from 'react';\nimport { RightPanelHeader } from '../../common-elements';\nimport styled from '../../styled-components';\nimport { JsonViewer } from '../JsonViewer/JsonViewer';\ninterface ConsoleResponseProps {\n  response: any;\n}\ninterface ConsoleResponseState {\n  collapse: boolean;\n}\nexport class ConsoleResponse extends React.PureComponent<ConsoleResponseProps, ConsoleResponseState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapse: false\n    };\n  }\n\n  changeCollapse = () => {\n    this.setState({\n      collapse: !this.state.collapse\n    });\n  };\n\n  render() {\n    const {\n      response: {\n        type,\n        status,\n        statusText,\n        content\n      }\n    } = this.props;\n    return <>\r\n        <RightPanelHeader> Status: </RightPanelHeader>\r\n        <StatusWrapper className={'status-' + type}>\r\n          {' '}\r\n          {status} {statusText}\r\n        </StatusWrapper>\r\n        <RightPanelHeader> Response Payload </RightPanelHeader>\r\n        <JsonWrapper>\r\n          <JsonViewer data={content!} />\r\n        </JsonWrapper>\r\n      </>;\n  }\n\n}\nconst JsonWrapper = styled.div`\n  color: white;\n  background-color: ${props => props.theme.codeSample.backgroundColor};\n  padding: 10px;\n  margin: 10px 0;\n`;\nconst StatusWrapper = styled.div`\n  &.status-success {\n    color: #00ff1c;\n  }\n  &.status-redirect {\n    color: ${props => props.theme.colors.responses.redirect.color};\n  }\n  &.status-info {\n    color: ${props => props.theme.colors.responses.info.color};\n  }\n  &.status-error {\n    color: ${props => props.theme.colors.responses.error.color};\n  }\n  color: white;\n  background-color: ${props => props.theme.codeSample.backgroundColor};\n  padding: 10px;\n  margin: 10px 0;\n`;","import { lighten } from 'polished';\nimport styled from '../../styled-components';\nexport const ConsoleEditorWrapper = styled.div`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: ${props => props.theme.typography.code.fontSize} !important;\n  direction: ltr;\n  white-space: ${({\n  theme\n}) => theme.typography.code.wrap ? 'pre-wrap' : 'pre'};\n  contain: content;\n  overflow-x: auto;\n  background: #11171a !important;\n  padding: 5px 0;\n\n  & .ace_editor {\n    background: #11171a !important;\n    width: 100% !important;\n  }\n  & .ace_editor .ace_marker-layer .ace_selection,\n  & .ace_editor .ace_marker-layer .ace_selected-word {\n    background: ${lighten(0.05, '#11171a')} !important;\n    border-color: ${lighten(0.05, '#11171a')} !important;\n  }\n  & .ace_editor .ace_marker-layer .ace_active-line {\n    background: rgba(0, 0, 0, 0.2);\n  }\n  & .ace_editor .ace_line,\n  & .ace_editor .ace_cursor {\n    color: #aaa;\n  }\n  & .ace_editor .ace_marker-layer .ace_bracket {\n    border: none !important;\n  }\n  & .ace_editor .ace_line .ace_fold {\n    background: none !important;\n    color: #aaa;\n    border: none;\n  }\n  & .ace_editor .ace_line .ace_fold:hover {\n    background: none !important;\n  }\n  & .ace_editor .ace_string {\n    color: #71e4ff;\n  }\n  & .ace_editor .ace_variable {\n    color: #a0fbaa;\n  }\n  & .ace_editor .ace_indent-guide {\n    background: none;\n    color: rgba(255, 255, 255, 0.3);\n  }\n  & .ace_editor .ace_indent-guide::after {\n    content: '|';\n  }\n  & .ace_editor .ace_gutter {\n    background: ${lighten(0.01, '#11171a')} !important;\n    color: #fff !important;\n  }\n  & .ace_editor .ace_gutter .ace_fold-widget {\n    background-image: none;\n  }\n  & .ace_editor .ace_gutter .ace_fold-widget.ace_open::after {\n    content: '-';\n  }\n  & .ace_editor .ace_gutter .ace_fold-widget.ace_closed::after {\n    content: '+';\n  }\n  & .ace_editor .ace_gutter .ace_gutter-active-line {\n    background: rgba(0, 0, 0, 0.2) !important;\n  }\n  & .ace_editor .ace_gutter .ace_gutter-cell.ace_error {\n    background: none !important;\n  }\n  & .ace_editor .ace_gutter .ace_gutter-cell.ace_error::before {\n    position: absolute;\n    color: red;\n    content: 'X';\n    left: 0.5em;\n  }\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/curly';\nimport 'brace/mode/json';\nimport 'brace/theme/github';\nimport 'brace/theme/monokai';\nimport { MediaTypeModel } from '../../services/models';\nimport { ConsoleEditorWrapper } from './ConsoleEditorWrapper';\nexport interface ConsoleEditorProps {\n  mediaTypes: MediaTypeModel[];\n}\n@observer\nexport class ConsoleEditor extends React.Component<ConsoleEditorProps> {\n  editor: any;\n\n  render() {\n    const {\n      mediaTypes\n    } = this.props;\n\n    if (!mediaTypes.length) {\n      return null;\n    }\n\n    let sample = {};\n\n    for (const mediaType of mediaTypes) {\n      if (mediaType.name.indexOf('json') > -1) {\n        if (mediaType.examples) {\n          const example = getDefaultOrFirst(mediaType.examples);\n          sample = example && example.value;\n        }\n\n        break;\n      }\n    }\n\n    return <ConsoleEditorWrapper>\r\n        <AceEditor setOptions={{\n        enableBasicAutocompletion: true,\n        enableLiveAutocompletion: true,\n        enableSnippets: true,\n        showLineNumbers: true,\n        tabSize: 2,\n        fontFamily: 'Courier,monospace,Vazir',\n        displayIndentGuides: false\n      }} fontSize={13} style={{\n        lineHeight: '23px'\n      }} mode=\"json\" name=\"request-builder-editor\" editorProps={{\n        $blockScrolling: true\n      }} value={JSON.stringify(sample, null, 2)} ref={(ace: AceEditor) => this.editor = ace} />\r\n      </ConsoleEditorWrapper>;\n  }\n\n}\n\nfunction getDefaultOrFirst(object) {\n  if (typeof object === 'object') {\n    if (typeof object.default === 'object') {\n      return object.default;\n    } else {\n      return object[Object.keys(object)[0]];\n    }\n  } else {\n    return false;\n  }\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { SubmitButton } from '../../common-elements/buttons';\nimport { FlexLayoutReverse } from '../../common-elements/panels';\nimport { FieldModel, OperationModel, SecuritySchemeModel, SecuritySchemesModel } from '../../services/models';\nimport { ConsoleResponse } from '../ConsoleResponse/Response';\nimport { ConsoleEditor } from './ConsoleEditor';\n\nconst qs = require('qs');\n\nexport interface ConsoleViewerProps {\n  operation: OperationModel;\n  additionalHeaders?: object;\n  queryParamPrefix?: string;\n  queryParamSuffix?: string;\n  securitySchemes: SecuritySchemesModel;\n  urlIndex: number;\n}\nexport interface ConsoleViewerState {\n  result: any;\n  fetching: boolean;\n}\nexport interface Schema {\n  _$ref?: any;\n}\n@observer\nexport class ConsoleViewer extends React.Component<ConsoleViewerProps, ConsoleViewerState> {\n  operation: OperationModel;\n  additionalHeaders: object;\n  visited = new Set();\n  private consoleEditor: any;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: null,\n      fetching: false\n    };\n  }\n\n  onClickSend = async () => {\n    this.setState({\n      fetching: true,\n      result: null\n    });\n    const ace = this.consoleEditor && this.consoleEditor.editor;\n    const {\n      operation,\n      securitySchemes: {\n        schemes\n      },\n      additionalHeaders = {},\n      urlIndex = 0\n    } = this.props;\n    let value = ace && ace.editor.getValue();\n    const content = operation.requestBody && operation.requestBody.content;\n    const mediaType = content && content.mediaTypes[content.activeMimeIdx];\n    const endpoint = {\n      method: operation.httpVerb,\n      path: operation.servers[urlIndex].url + operation.path\n    };\n\n    try {\n      if (value) {\n        value = JSON.parse(value);\n      }\n    } catch (error) {\n      this.setState({\n        result: error,\n        fetching: false\n      });\n    }\n\n    const contentType = mediaType && mediaType.name || 'application/json';\n    const contentTypeHeader = {\n      'Content-Type': contentType\n    };\n    const schemeMapper: Map<string, SecuritySchemeModel> = new Map<string, SecuritySchemeModel>();\n    schemes.forEach(scheme => {\n      schemeMapper.set(scheme.id, scheme);\n    });\n    const securityHeaders = {};\n    operation.security.forEach(({\n      schemes: [{\n        id\n      }]\n    }) => {\n      if (schemeMapper.has(id)) {\n        // this part of code needs a ts-ignore because typescript couldn't detect that schemeMapper.get(id) -\n        // has been checked to avoid token of undefined.\n        // @ts-ignore\n        securityHeaders['Authorization'] = 'Bearer ' + schemeMapper.get(id).token;\n      }\n    });\n    const headers = { ...additionalHeaders,\n      ...contentTypeHeader,\n      ...securityHeaders\n    };\n    let result;\n\n    try {\n      result = await this.invoke(endpoint, value, headers);\n      this.setState({\n        result,\n        fetching: false\n      });\n    } catch (error) {\n      this.setState({\n        result: error,\n        fetching: false\n      });\n    }\n  };\n  /*\r\n   * If we have a url like foo/bar/{uuid} uuid will be replaced with what user has typed in.\r\n   */\n\n  addParamsToUrl(url: string, params: FieldModel[]) {\n    const queryParamPrefix = '{';\n    const queryParamSuffix = '}';\n\n    for (const fieldModel of params) {\n      if (url.indexOf(`${queryParamPrefix}${fieldModel.name}${queryParamSuffix}`) > -1 && fieldModel.value.length > 0) {\n        url = url.replace(`${queryParamPrefix}${fieldModel.name}${queryParamSuffix}`, fieldModel.value);\n      }\n    }\n\n    if (url.split(queryParamPrefix).length > 1) {\n      throw Error(`** we have missing query params ** ${url}`);\n    }\n\n    return url;\n  }\n  /*\r\n   * If we have a url like foo/bar/{uuid} uuid will be replaced with what user has typed in.\r\n   */\n\n\n  addFieldsObject(params: FieldModel[]) {\n    const fields = {};\n\n    for (const fieldModel of params) {\n      if ((fieldModel.in === 'path' || fieldModel.in === 'query') && fieldModel.value.length > 0) {\n        fields[fieldModel.name] = fieldModel.value;\n      }\n    }\n\n    return fields;\n  }\n\n  async invoke(endpoint, body, headers = {}) {\n    try {\n      const {\n        operation\n      } = this.props;\n      let url = this.addParamsToUrl(endpoint.path, operation.parameters || []);\n\n      if (endpoint.method.toLocaleLowerCase() === 'get') {\n        url = url + '?' + qs.stringify(body || this.addFieldsObject(operation.parameters || []));\n      }\n\n      const myHeaders = new Headers();\n\n      for (const [key, value] of Object.entries(headers)) {\n        myHeaders.append(key, `${value}`);\n      }\n\n      const request = new Request(url, {\n        method: endpoint.method,\n        redirect: 'manual',\n        headers: myHeaders,\n        body: body ? JSON.stringify(body) : undefined\n      });\n      const response = await fetch(request);\n      const content = await response.json();\n      const {\n        ok,\n        status,\n        statusText,\n        redirected\n      } = response;\n      return {\n        content,\n        ok,\n        status,\n        statusText,\n        redirected,\n        headers: response.headers,\n        url: response.url\n      };\n    } catch (error) {\n      console.error(error);\n      return {\n        content: 'Request error, if the problem persist please contact support.',\n        ok: false,\n        status: 400,\n        statusText: 'Bad Request'\n      };\n    }\n  }\n\n  render() {\n    const {\n      operation\n    } = this.props;\n    const requestBodyContent = operation.requestBody && operation.requestBody.content && operation.requestBody.content;\n    const hasBodySample = requestBodyContent && requestBodyContent.hasSample;\n    const mediaTypes = requestBodyContent && requestBodyContent.mediaTypes ? requestBodyContent.mediaTypes : [];\n    const {\n      result\n    } = this.state;\n    return <div>\r\n        <h3> Request </h3>\r\n        {hasBodySample && <ConsoleEditor mediaTypes={mediaTypes} ref={(editor: any) => this.consoleEditor = editor} />}\r\n        <FlexLayoutReverse>\r\n          <SubmitButton onClick={this.onClickSend} disabled={this.state.fetching}>{this.state.fetching ? 'Fetching...' : 'Send Request'}</SubmitButton>\r\n        </FlexLayoutReverse>\r\n        {result && <ConsoleResponse response={result} />}\r\n      </div>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { Badge, DarkRightPanel, H2, MiddlePanel, Row } from '../../common-elements';\nimport { OptionsContext } from '../OptionsProvider';\nimport { OperationModel as OperationType, SecuritySchemesModel } from '../../services/models';\nimport { CallbacksList } from '../Callbacks';\nimport { ShareLink } from '../../common-elements/linkify';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Extensions } from '../Fields/Extensions';\nimport { Markdown } from '../Markdown/Markdown';\nimport { Parameters } from '../Parameters/Parameters';\nimport { RequestSamples } from '../RequestSamples/RequestSamples';\nimport { ResponsesList } from '../Responses/ResponsesList';\nimport { ResponseSamples } from '../ResponseSamples/ResponseSamples';\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\nimport { SwitchBox } from '../../common-elements/SwitchBox';\nimport styled from '../../styled-components';\nimport { ConsoleViewer } from '../Console/ConsoleViewer';\nconst OperationRow = styled(Row)`\n  backface-visibility: hidden;\n  contain: content;\n  overflow: hidden;\n`;\nconst Description = styled.div`\n  margin-bottom: ${({\n  theme\n}) => theme.spacing.unit * 6}px;\n`;\nexport interface OperationProps {\n  operation: OperationType;\n  securitySchemes: SecuritySchemesModel;\n}\nexport interface OperationState {\n  executeMode: boolean;\n  urlIndex: number;\n}\n@observer\nexport class Operation extends React.Component<OperationProps, OperationState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      executeMode: false,\n      urlIndex: 0\n    };\n  }\n\n  onConsoleClick = () => {\n    this.setState({\n      executeMode: !this.state.executeMode\n    });\n  };\n\n  render() {\n    const {\n      operation,\n      securitySchemes\n    } = this.props;\n    const {\n      executeMode,\n      urlIndex\n    } = this.state;\n    const {\n      name: summary,\n      description,\n      deprecated,\n      externalDocs,\n      isWebhook\n    } = operation;\n    const hasDescription = !!(description || externalDocs);\n    return <OptionsContext.Consumer>\r\n        {options => <OperationRow>\r\n            <MiddlePanel>\r\n              <H2>\r\n                <ShareLink to={operation.id} />\r\n                {summary} {deprecated && <Badge type=\"warning\"> Deprecated </Badge>}\r\n                {isWebhook && <Badge type=\"primary\"> Webhook </Badge>}\r\n              </H2>\r\n              {options.enableConsole && <SwitchBox onClick={this.onConsoleClick} checked={this.state.executeMode} label=\"Try it out!\" />}\r\n              {options.pathInMiddlePanel && <Endpoint operation={operation} handleUrl={this.onUrlChanged} inverted={true} />}\r\n              {hasDescription && <Description>\r\n                  {description !== undefined && <Markdown source={description} />}\r\n                  {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\r\n                </Description>}\r\n              <Extensions extensions={operation.extensions} />\r\n              <SecurityRequirements securities={operation.security} />\r\n              <Parameters parameters={operation.parameters} body={operation.requestBody} />\r\n              <ResponsesList responses={operation.responses} />\r\n              <CallbacksList callbacks={operation.callbacks} />\r\n            </MiddlePanel>\r\n            <DarkRightPanel>\r\n              {!options.pathInMiddlePanel && <Endpoint operation={operation} handleUrl={this.onUrlChanged} />}\r\n              {executeMode && <div>\r\n                  <ConsoleViewer securitySchemes={securitySchemes} operation={operation} urlIndex={urlIndex} additionalHeaders={options.additionalHeaders} queryParamPrefix={options.queryParamPrefix} queryParamSuffix={options.queryParamSuffix} />\r\n                </div>}\r\n              {!executeMode && <RequestSamples operation={operation} />}\r\n              {!executeMode && <ResponseSamples operation={operation} />}\r\n            </DarkRightPanel>\r\n          </OperationRow>}\r\n      </OptionsContext.Consumer>;\n  }\n\n  onUrlChanged = (index = 0) => {\n    this.setState({\n      urlIndex: index\n    });\n  };\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { AppStore } from '../../services';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { AdvancedMarkdown } from '../Markdown/AdvancedMarkdown';\nimport { H1, H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\nimport { ContentItemModel } from '../../services/MenuBuilder';\nimport { GroupModel } from '../../services/models';\nimport { Operation } from '../Operation/Operation';\nexport interface ContentItemsProps {\n  items: ContentItemModel[];\n  store: AppStore;\n}\n@observer\nexport class ContentItems extends React.Component<ContentItemsProps> {\n  render() {\n    const {\n      items,\n      store\n    } = this.props;\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return items.map(item => {\n      return <ContentItem store={store} key={item.id} item={item} />;\n    });\n  }\n\n}\nexport interface ContentItemProps {\n  item: ContentItemModel;\n  store: AppStore;\n}\n@observer\nexport class ContentItem extends React.Component<ContentItemProps> {\n  render() {\n    const {\n      item,\n      store\n    } = this.props;\n    let content;\n    const {\n      type\n    } = item;\n\n    switch (type) {\n      case 'group':\n        content = null;\n        break;\n\n      case 'tag':\n      case 'section':\n        content = <SectionItem {...this.props} />;\n        break;\n\n      case 'operation':\n        content = <Operation securitySchemes={store.spec.securitySchemes} operation={(item as any)} />;\n        break;\n\n      default:\n        content = <SectionItem {...this.props} />;\n    }\n\n    return <>\r\n        {content && <Section id={item.id} underlined={item.type === 'operation'}>\r\n            {content}\r\n          </Section>}\r\n        {item.items && <ContentItems store={store} items={item.items} />}\r\n      </>;\n  }\n\n}\n\nconst middlePanelWrap = component => <MiddlePanel compact={true}>{component}</MiddlePanel>;\n\n@observer\nexport class SectionItem extends React.Component<ContentItemProps> {\n  render() {\n    const {\n      name,\n      description,\n      externalDocs,\n      level\n    } = (this.props.item as GroupModel);\n    const Header = level === 2 ? H2 : H1;\n    return <>\r\n        <Row>\r\n          <MiddlePanel compact={false}>\r\n            <Header>\r\n              <ShareLink to={this.props.item.id} />\r\n              {name}\r\n            </Header>\r\n          </MiddlePanel>\r\n        </Row>\r\n        <AdvancedMarkdown source={description || ''} htmlWrap={middlePanelWrap} />\r\n        {externalDocs && <Row>\r\n            <MiddlePanel>\r\n              <ExternalDocumentation externalDocs={externalDocs} />\r\n            </MiddlePanel>\r\n          </Row>}\r\n      </>;\n  }\n\n}","// import { observe } from 'mobx';\nimport { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { ShelfIcon } from '../../common-elements/shelfs';\nimport { IMenuItem, OperationModel } from '../../services';\nimport { shortenHTTPVerb } from '../../utils/openapi';\nimport { MenuItems } from './MenuItems';\nimport { MenuItemLabel, MenuItemLi, MenuItemTitle, OperationBadge } from './styled.elements';\nimport { l } from '../../services/Labels';\nexport interface MenuItemProps {\n  item: IMenuItem;\n  onActivate?: (item: IMenuItem) => void;\n  withoutChildren?: boolean;\n}\n@observer\nexport class MenuItem extends React.Component<MenuItemProps> {\n  ref = React.createRef<HTMLLabelElement>();\n  activate = (evt: React.MouseEvent<HTMLElement>) => {\n    this.props.onActivate!(this.props.item);\n    evt.stopPropagation();\n  };\n\n  componentDidMount() {\n    this.scrollIntoViewIfActive();\n  }\n\n  componentDidUpdate() {\n    this.scrollIntoViewIfActive();\n  }\n\n  scrollIntoViewIfActive() {\n    if (this.props.item.active && this.ref.current) {\n      this.ref.current.scrollIntoViewIfNeeded();\n    }\n  }\n\n  render() {\n    const {\n      item,\n      withoutChildren\n    } = this.props;\n    return <MenuItemLi onClick={this.activate} depth={item.depth} data-item-id={item.id}>\r\n        {item.type === 'operation' ? <OperationMenuItemContent {...this.props} item={(item as OperationModel)} /> : <MenuItemLabel depth={item.depth} active={item.active} type={item.type} ref={this.ref}>\r\n              <MenuItemTitle title={item.name}>\r\n                {item.name}\r\n                {this.props.children}\r\n              </MenuItemTitle>\r\n              {item.depth > 0 && item.items.length > 0 && <ShelfIcon float={'right'} direction={true || item.expanded ? 'down' : 'right'} /> || null}\r\n            </MenuItemLabel>}\r\n        {!withoutChildren && item.items && item.items.length > 0 && <MenuItems expanded={item.expanded} items={item.items} onActivate={this.props.onActivate} />}\r\n      </MenuItemLi>;\n  }\n\n}\nexport interface OperationMenuItemContentProps {\n  item: OperationModel;\n}\n@observer\nexport class OperationMenuItemContent extends React.Component<OperationMenuItemContentProps> {\n  ref = React.createRef<HTMLLabelElement>();\n\n  componentDidUpdate() {\n    if (this.props.item.active && this.ref.current) {\n      this.ref.current.scrollIntoViewIfNeeded();\n    }\n  }\n\n  render() {\n    const {\n      item\n    } = this.props;\n    return <MenuItemLabel depth={item.depth} active={item.active} deprecated={item.deprecated} ref={this.ref}>\r\n        {item.isWebhook ? <OperationBadge type=\"hook\">{l('webhook')}</OperationBadge> : <OperationBadge type={item.httpVerb}>{shortenHTTPVerb(item.httpVerb)}</OperationBadge>}\r\n        <MenuItemTitle width=\"calc(100% - 38px)\">\r\n          {item.name}\r\n          {this.props.children}\r\n        </MenuItemTitle>\r\n      </MenuItemLabel>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { IMenuItem } from '../../services';\nimport { MenuItem } from './MenuItem';\nimport { MenuItemUl } from './styled.elements';\nexport interface MenuItemsProps {\n  items: IMenuItem[];\n  expanded?: boolean;\n  onActivate?: (item: IMenuItem) => void;\n  style?: React.CSSProperties;\n  root?: boolean;\n  className?: string;\n}\n@observer\nexport class MenuItems extends React.Component<MenuItemsProps> {\n  render() {\n    const {\n      items,\n      root,\n      className\n    } = this.props; //const expanded = this.props.expanded == null ? true : this.props.expanded;\n\n    return <MenuItemUl className={className} style={this.props.style} expanded={true} {...root ? {\n      role: 'navigation'\n    } : {}}>\r\n        {items.map((item, idx) => <MenuItem key={idx} item={item} onActivate={this.props.onActivate} />)}\r\n      </MenuItemUl>;\n  }\n\n}","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { IMenuItem, MenuStore } from '../../services/MenuStore';\nimport { OptionsContext } from '../OptionsProvider';\nimport { MenuItems } from './MenuItems';\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\nimport { RedocAttribution } from './styled.elements';\n@observer\nexport class SideMenu extends React.Component<{\n  menu: MenuStore;\n  className?: string;\n}> {\n  static contextType = OptionsContext;\n  private _updateScroll?: () => void;\n\n  render() {\n    const store = this.props.menu;\n    return <PerfectScrollbarWrap updateFn={this.saveScrollUpdate} className={this.props.className} options={{\n      wheelPropagation: false\n    }}>\r\n        <MenuItems items={store.items} onActivate={this.activate} root={true} />\r\n        <RedocAttribution>\r\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Redocly/redoc\">\r\n            Documentation Powered by ReDoc\r\n          </a>\r\n        </RedocAttribution>\r\n      </PerfectScrollbarWrap>;\n  }\n\n  activate = (item: IMenuItem) => {\n    if (item && item.active && this.context.menuToggle) {\n      return item.expanded ? item.collapse() : item.expand();\n    }\n\n    this.props.menu.activateAndScroll(item, true);\n    setTimeout(() => {\n      if (this._updateScroll) {\n        this._updateScroll();\n      }\n    });\n  };\n  private saveScrollUpdate = upd => {\n    this._updateScroll = upd;\n  };\n}","import * as React from 'react';\nimport styled from '../../styled-components';\nexport const AnimatedChevronButton = ({\n  open\n}: {\n  open: boolean;\n}) => {\n  const iconOffset = open ? 8 : -4;\n  return <ChevronContainer>\r\n      <ChevronSvg size={15} style={{\n      transform: `translate(2px, ${iconOffset}px) rotate(180deg)`,\n      transition: 'transform 0.2s ease'\n    }} />\r\n      <ChevronSvg size={15} style={{\n      transform: `translate(2px, ${0 - iconOffset}px)`,\n      transition: 'transform 0.2s ease'\n    }} />\r\n    </ChevronContainer>;\n}; // adapted from reactjs.org\n\nconst ChevronSvg = ({\n  size = 10,\n  className = '',\n  style\n}) => <svg className={className} style={style || {}} viewBox=\"0 0 926.23699 573.74994\" version=\"1.1\" x=\"0px\" y=\"0px\" width={size} height={size}>\r\n    <g transform=\"translate(904.92214,-879.1482)\">\r\n      <path d={`\n          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,\n          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,\n          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,\n          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,\n          -174.68583 0.6895,0 26.281,25.03215 56.8701,\n          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864\n          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,\n          -104.0616 -231.873,-231.248 z\n        `} fill=\"currentColor\" />\r\n    </g>\r\n  </svg>;\n\nconst ChevronContainer = styled.div`\n  user-select: none;\n  width: 20px;\n  height: 20px;\n  align-self: center;\n  display: flex;\n  flex-direction: column;\n  direction: ltr;\n  color: ${props => props.theme.colors.primary.main};\n`;","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { MenuStore } from '../../services/MenuStore';\nimport { RedocNormalizedOptions, RedocRawOptions } from '../../services/RedocNormalizedOptions';\nimport styled, { media } from '../../styled-components';\nimport { IS_BROWSER } from '../../utils/index';\nimport { OptionsContext } from '../OptionsProvider';\nimport { AnimatedChevronButton } from './ChevronSvg';\nlet Stickyfill;\n\nif (IS_BROWSER) {\n  Stickyfill = require('stickyfill');\n}\n\nexport interface StickySidebarProps {\n  className?: string;\n  scrollYOffset?: RedocRawOptions['scrollYOffset']; // passed directly or via context\n\n  menu: MenuStore;\n}\nexport interface StickySidebarState {\n  offsetTop?: string;\n}\nconst stickyfill = Stickyfill && Stickyfill();\nconst StyledStickySidebar = styled.div<{\n  open?: boolean;\n}>`\n  width: ${props => props.theme.sidebar.width};\n  background-color: ${props => props.theme.sidebar.backgroundColor};\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  backface-visibility: hidden;\n  /* contain: strict; TODO: breaks layout since Chrome 80*/\n\n  height: 100vh;\n  position: sticky;\n  position: -webkit-sticky;\n  top: 0;\n\n  ${media.lessThan('small')`\n    position: fixed;\n    z-index: 20;\n    width: 100%;\n    background: ${({\n  theme\n}) => theme.sidebar.backgroundColor};\n    display: ${props => props.open ? 'flex' : 'none'};\n  `};\n\n  @media print {\n    display: none;\n  }\n`;\nconst FloatingButton = styled.div`\n  outline: none;\n  user-select: none;\n  background-color: #f2f2f2;\n  color: ${props => props.theme.colors.primary.main};\n  display: none;\n  cursor: pointer;\n  position: fixed;\n  right: 20px;\n  z-index: 100;\n  border-radius: 50%;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n  ${media.lessThan('small')`\n    display: flex;\n  `};\n\n  bottom: 44px;\n\n  width: 60px;\n  height: 60px;\n  padding: 0 20px;\n\n  @media print {\n    display: none;\n  }\n`;\n@observer\nexport class StickyResponsiveSidebar extends React.Component<StickySidebarProps, StickySidebarState> {\n  static contextType = OptionsContext;\n  context!: React.ContextType<typeof OptionsContext>;\n  state: StickySidebarState = {\n    offsetTop: '0px'\n  };\n  stickyElement: Element;\n\n  componentDidMount() {\n    if (stickyfill) {\n      stickyfill.add(this.stickyElement);\n    } // rerender when hydrating from SSR\n    // see https://github.com/facebook/react/issues/8017#issuecomment-256351955\n\n\n    this.setState({\n      offsetTop: this.getScrollYOffset(this.context)\n    });\n  }\n\n  componentWillUnmount() {\n    if (stickyfill) {\n      stickyfill.remove(this.stickyElement);\n    }\n  }\n\n  getScrollYOffset(options: RedocNormalizedOptions) {\n    let top;\n\n    if (this.props.scrollYOffset !== undefined) {\n      top = RedocNormalizedOptions.normalizeScrollYOffset(this.props.scrollYOffset)();\n    } else {\n      top = options.scrollYOffset();\n    }\n\n    return top + 'px';\n  }\n\n  render() {\n    const open = this.props.menu.sideBarOpened;\n    const top = this.state.offsetTop;\n    return <>\r\n        <StyledStickySidebar open={open} className={this.props.className} style={{\n        top,\n        height: `calc(100vh - ${top})`\n      }} // tslint:disable-next-line\n      ref={el => {\n        this.stickyElement = (el as any);\n      }}>\r\n          {this.props.children}\r\n        </StyledStickySidebar>\r\n        <FloatingButton onClick={this.toggleNavMenu}>\r\n          <AnimatedChevronButton open={open} />\r\n        </FloatingButton>\r\n      </>;\n  }\n\n  private toggleNavMenu = () => {\n    this.props.menu.toggleSidebar();\n  };\n}","import styled, { media } from '../../styled-components';\nexport const RedocWrap = styled.div`\n  ${({\n  theme\n}) => `\n  font-family: ${theme.typography.fontFamily};\n  font-size: ${theme.typography.fontSize};\n  font-weight: ${theme.typography.fontWeightRegular};\n  line-height: ${theme.typography.lineHeight};\n  color: ${theme.colors.text.primary};\n  display: flex;\n  position: relative;\n  text-align: left;\n  direction: ${theme.typography.direction};\n\n  -webkit-font-smoothing: ${theme.typography.smoothing};\n  font-smoothing: ${theme.typography.smoothing};\n  ${theme.typography.optimizeSpeed && 'text-rendering: optimizeSpeed !important' || ''};\n\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  text-size-adjust: 100%;\n\n  * {\n    box-sizing: border-box;\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  }\n`};\n`;\nexport const ApiContentWrap = styled.div`\n  z-index: 1;\n  position: relative;\n  overflow: hidden;\n  width: calc(100% - ${props => props.theme.sidebar.width});\n  ${media.lessThan('small', true)`\n    width: 100%;\n  `};\n\n  contain: layout;\n`;\nexport const BackgroundStub = styled.div`\n  background: ${({\n  theme\n}) => theme.rightPanel.backgroundColor};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  ${({\n  theme\n}) => theme.typography.direction === 'rtl' ? 'left: 0;' : 'right: 0;'};\n  width: ${({\n  theme\n}) => {\n  if (theme.rightPanel.width.endsWith('%')) {\n    const percents = parseInt(theme.rightPanel.width, 10);\n    return `calc((100% - ${theme.sidebar.width}) * ${percents / 100})`;\n  } else {\n    return theme.rightPanel.width;\n  }\n}};\n  ${media.lessThan('medium', true)`\n    display: none;\n  `};\n`;","import * as React from 'react';\nimport { darken, getLuminance, lighten } from 'polished';\nimport styled from '../../styled-components';\nimport { MenuItemLabel } from '../SideMenu/styled.elements';\nexport const SearchWrap = styled.div`\n  padding: 5px 0;\n`;\nexport const SearchInput = styled.input.attrs(() => ({\n  className: 'search-input'\n}))`\n  width: calc(100% - ${props => props.theme.spacing.unit * 8}px);\n  box-sizing: border-box;\n  margin: 0 ${props => props.theme.spacing.unit * 4}px;\n  padding: 5px ${props => props.theme.spacing.unit * 2}px 5px\n    ${props => props.theme.spacing.unit * 4}px;\n  border: 0;\n  border-bottom: 1px solid\n    ${({\n  theme\n}) => (getLuminance(theme.sidebar.backgroundColor) > 0.5 ? darken : lighten)(0.1, theme.sidebar.backgroundColor)};\n  font-family: ${({\n  theme\n}) => theme.typography.fontFamily};\n  font-weight: bold;\n  font-size: 13px;\n  color: ${props => props.theme.sidebar.textColor};\n  background-color: transparent;\n  outline: none;\n  text-align: ${({\n  theme\n}) => theme.typography.direction === 'rtl' ? 'center' : 'inherit'};\n`;\nexport const SearchIcon = styled((props: {\n  className?: string;\n}) => <svg className={props.className} version=\"1.1\" viewBox=\"0 0 1000 1000\" x=\"0px\" xmlns=\"http://www.w3.org/2000/svg\" y=\"0px\">\r\n    <path d=\"M968.2,849.4L667.3,549c83.9-136.5,66.7-317.4-51.7-435.6C477.1-25,252.5-25,113.9,113.4c-138.5,138.3-138.5,362.6,0,501C219.2,730.1,413.2,743,547.6,666.5l301.9,301.4c43.6,43.6,76.9,14.9,104.2-12.4C981,928.3,1011.8,893,968.2,849.4z M524.5,522c-88.9,88.7-233,88.7-321.8,0c-88.9-88.7-88.9-232.6,0-321.3c88.9-88.7,233-88.7,321.8,0C613.4,289.4,613.4,433.3,524.5,522z\" />\r\n  </svg>).attrs({\n  className: 'search-icon'\n})`\n  position: absolute;\n  left: ${props => props.theme.spacing.unit * 4}px;\n  height: 1.8em;\n  width: 0.9em;\n\n  path {\n    fill: ${props => props.theme.sidebar.textColor};\n  }\n`;\nexport const SearchResultsBox = styled.div`\n  padding: ${props => props.theme.spacing.unit}px 0;\n  background-color: ${({\n  theme\n}) => darken(0.05, theme.sidebar.backgroundColor)}};\n  color: ${props => props.theme.sidebar.textColor};\n  min-height: 150px;\n  max-height: 250px;\n  border-top: ${({\n  theme\n}) => darken(0.1, theme.sidebar.backgroundColor)}};\n  border-bottom: ${({\n  theme\n}) => darken(0.1, theme.sidebar.backgroundColor)}};\n  margin-top: 10px;\n  line-height: 1.4;\n  font-size: 0.9em;\n  \n  li {\n    background-color: inherit;\n  }\n\n  ${MenuItemLabel} {\n    padding-top: 6px;\n    padding-bottom: 6px;\n\n    &:hover,\n    &.active {\n      background-color: ${({\n  theme\n}) => darken(0.1, theme.sidebar.backgroundColor)};\n    }\n\n    > svg {\n      display: none;\n    }\n  }\n`;\nexport const ClearIcon = styled.i`\n  position: absolute;\n  display: inline-block;\n  width: ${props => props.theme.spacing.unit * 2}px;\n  text-align: center;\n  right: ${props => props.theme.spacing.unit * 4}px;\n  line-height: 2em;\n  vertical-align: middle;\n  margin-right: 2px;\n  cursor: pointer;\n  font-style: normal;\n  color: '#666';\n`;","import * as React from 'react';\nimport { IMenuItem } from '../../services/MenuStore';\nimport { SearchStore } from '../../services/SearchStore';\nimport { MenuItem } from '../SideMenu/MenuItem';\nimport { MarkerService } from '../../services/MarkerService';\nimport { SearchResult } from '../../services/SearchWorker.worker';\nimport { bind, debounce } from 'decko';\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\nimport { ClearIcon, SearchIcon, SearchInput, SearchResultsBox, SearchWrap } from './styled.elements';\nexport interface SearchBoxProps {\n  search: SearchStore<string>;\n  marker: MarkerService;\n  getItemById: (id: string) => IMenuItem | undefined;\n  onActivate: (item: IMenuItem) => void;\n  className?: string;\n}\nexport interface SearchBoxState {\n  results: SearchResult[];\n  term: string;\n  activeItemIdx: number;\n}\nexport class SearchBox extends React.PureComponent<SearchBoxProps, SearchBoxState> {\n  activeItemRef: MenuItem | null = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: [],\n      term: '',\n      activeItemIdx: -1\n    };\n  }\n\n  clearResults(term: string) {\n    this.setState({\n      results: [],\n      term\n    });\n    this.props.marker.unmark();\n  }\n\n  clear = () => {\n    this.setState({\n      results: [],\n      term: '',\n      activeItemIdx: -1\n    });\n    this.props.marker.unmark();\n  };\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 27) {\n      // ESQ\n      this.clear();\n    }\n\n    if (event.keyCode === 40) {\n      // Arrow down\n      this.setState({\n        activeItemIdx: Math.min(this.state.activeItemIdx + 1, this.state.results.length - 1)\n      });\n      event.preventDefault();\n    }\n\n    if (event.keyCode === 38) {\n      // Arrow up\n      this.setState({\n        activeItemIdx: Math.max(0, this.state.activeItemIdx - 1)\n      });\n      event.preventDefault();\n    }\n\n    if (event.keyCode === 13) {\n      // enter\n      const activeResult = this.state.results[this.state.activeItemIdx];\n\n      if (activeResult) {\n        const item = this.props.getItemById(activeResult.meta);\n\n        if (item) {\n          this.props.onActivate(item);\n        }\n      }\n    }\n  };\n\n  setResults(results: SearchResult[], term: string) {\n    this.setState({\n      results\n    });\n    this.props.marker.mark(term);\n  }\n\n  @bind\n  @debounce(400)\n  searchCallback(searchTerm: string) {\n    this.props.search.search(searchTerm).then(res => {\n      this.setResults(res, searchTerm);\n    });\n  }\n\n  search = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const q = event.target.value;\n\n    if (q.length < 3) {\n      this.clearResults(q);\n      return;\n    }\n\n    this.setState({\n      term: q\n    }, () => this.searchCallback(this.state.term));\n  };\n\n  render() {\n    const {\n      activeItemIdx\n    } = this.state;\n    const results = this.state.results.map(res => ({\n      item: this.props.getItemById(res.meta)!,\n      score: res.score\n    }));\n    results.sort((a, b) => b.score - a.score);\n    return <SearchWrap role=\"search\">\r\n        {this.state.term && <ClearIcon onClick={this.clear}>×</ClearIcon>}\r\n        <SearchIcon />\r\n        <SearchInput value={this.state.term} onKeyDown={this.handleKeyDown} placeholder=\"Search...\" aria-label=\"Search\" type=\"text\" onChange={this.search} />\r\n        {results.length > 0 && <PerfectScrollbarWrap options={{\n        wheelPropagation: false\n      }}>\r\n            <SearchResultsBox data-role=\"search:results\">\r\n              {results.map((res, idx) => <MenuItem item={Object.create(res.item, {\n            active: {\n              value: idx === activeItemIdx\n            }\n          })} onActivate={this.props.onActivate} withoutChildren={true} key={res.item.id} data-role=\"search:result\" />)}\r\n            </SearchResultsBox>\r\n          </PerfectScrollbarWrap>}\r\n      </SearchWrap>;\n  }\n\n}","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { ThemeProvider } from '../../styled-components';\nimport { OptionsProvider } from '../OptionsProvider';\nimport { AppStore } from '../../services';\nimport { ApiInfo } from '../ApiInfo/';\nimport { ApiLogo } from '../ApiLogo/ApiLogo';\nimport { ContentItems } from '../ContentItems/ContentItems';\nimport { SideMenu } from '../SideMenu/SideMenu';\nimport { StickyResponsiveSidebar } from '../StickySidebar/StickyResponsiveSidebar';\nimport { ApiContentWrap, BackgroundStub, RedocWrap } from './styled.elements';\nimport { SearchBox } from '../SearchBox/SearchBox';\nimport { StoreProvider } from '../StoreBuilder';\nexport interface RedocProps {\n  store: AppStore;\n  CustomDescription?: any;\n}\nexport class Redoc extends React.Component<RedocProps> {\n  static propTypes = {\n    store: PropTypes.instanceOf(AppStore).isRequired\n  };\n\n  componentDidMount() {\n    this.props.store.onDidMount();\n  }\n\n  componentWillUnmount() {\n    this.props.store.dispose();\n  }\n\n  render() {\n    const {\n      store: {\n        spec,\n        menu,\n        options,\n        search,\n        marker\n      },\n      CustomDescription\n    } = this.props;\n    const store = this.props.store;\n    return <ThemeProvider theme={options.theme}>\r\n        <StoreProvider value={this.props.store}>\r\n          <OptionsProvider value={options}>\r\n            <RedocWrap className=\"redoc-wrap\">\r\n              <StickyResponsiveSidebar menu={menu} className=\"menu-content\">\r\n                <ApiLogo info={spec.info} />\r\n                {!options.disableSearch && <SearchBox search={search!} marker={marker} getItemById={menu.getItemById} onActivate={menu.activateAndScroll} /> || null}\r\n                <SideMenu menu={menu} />\r\n              </StickyResponsiveSidebar>\r\n              <ApiContentWrap className=\"api-content\">\r\n                <ApiInfo CustomDescription={CustomDescription} store={store} />\r\n                <ContentItems store={store} items={(menu.items as any)} />\r\n              </ApiContentWrap>\r\n              <BackgroundStub />\r\n            </RedocWrap>\r\n          </OptionsProvider>\r\n        </StoreProvider>\r\n      </ThemeProvider>;\n  }\n\n}","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { RedocNormalizedOptions, RedocRawOptions } from '../services/RedocNormalizedOptions';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { Loading } from './Loading/Loading';\nimport { Redoc } from './Redoc/Redoc';\nimport { StoreBuilder } from './StoreBuilder';\nexport interface RedocStandaloneProps {\n  spec?: object;\n  specUrl?: string;\n  options?: RedocRawOptions;\n  CustomDescription?: any;\n  onLoaded?: (e?: Error) => any;\n}\nexport class RedocStandalone extends React.PureComponent<RedocStandaloneProps> {\n  static propTypes = {\n    spec: (props, _, componentName) => {\n      if (!props.spec && !props.specUrl) {\n        return new Error(`One of props 'spec' or 'specUrl' was not specified in '${componentName}'.`);\n      }\n\n      return null;\n    },\n    specUrl: (props, _, componentName) => {\n      if (!props.spec && !props.specUrl) {\n        return new Error(`One of props 'spec' or 'specUrl' was not specified in '${componentName}'.`);\n      }\n\n      return null;\n    },\n    options: PropTypes.any,\n    onLoaded: PropTypes.any\n  };\n\n  render() {\n    const {\n      spec,\n      specUrl,\n      options = {},\n      onLoaded,\n      CustomDescription\n    } = this.props;\n    const hideLoading = options.hideLoading !== undefined;\n    const normalizedOpts = new RedocNormalizedOptions(options);\n    return <ErrorBoundary>\r\n        <StoreBuilder spec={spec} specUrl={specUrl} options={options} onLoaded={onLoaded}>\r\n          {({\n          loading,\n          store\n        }) => !loading ? <Redoc store={store!} CustomDescription={CustomDescription} /> : hideLoading ? null : <Loading color={normalizedOpts.theme.colors.primary.main} />}\r\n        </StoreBuilder>\r\n      </ErrorBoundary>;\n  }\n\n}","export * from './JsonViewer';","export * from './MenuItem';\nexport * from './MenuItems';\nexport * from './SideMenu';\nexport * from './styled.elements';","import * as React from 'react';\nimport { Button, RightPanelHeader } from '../../common-elements';\nimport styled from '../../styled-components';\nconst SaveTokenButton = styled(Button)`\n  padding: 10px 30px;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  text-align: center;\n  outline: none;\n  margin: 0\n  min-width: 60px;\n  max-width: 100px;\n  font-weight: bold;\n  flex: 1 1;\n  order: 2;\n`;\nconst TokenTextField = styled.input`\n  padding: 10px 30px 10px 20px;\n  border-radius: 4px 0 0 4px;\n  background-color: ${props => props.theme.codeSample.backgroundColor};\n  color: ${props => props.theme.codeSample.textColor};\n  white-space: nowrap;\n  align-items: center;\n  border: none;\n  direction: ltr;\n  min-width: 300px;\n  flex: 4 1;\n  order: 1;\n`;\nconst TokenGroupContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: stretch;\n  align-content: flex-start;\n`;\nconst Description = styled.p`\n  color: white;\n`;\ninterface TokenGroupProps {\n  title: string;\n  description?: string;\n  onSubmit: () => void;\n  onChange: (value: string) => void;\n}\nexport class TokenGroup extends React.PureComponent<TokenGroupProps> {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n    this.change = this.change.bind(this);\n  }\n\n  submit() {\n    this.props.onSubmit();\n  }\n\n  change(e) {\n    this.props.onChange(e.target.value);\n  }\n\n  render() {\n    return <>\r\n        <RightPanelHeader>{this.props.title}</RightPanelHeader>\r\n        <TokenGroupContainer>\r\n          <TokenTextField onChange={this.change} />\r\n          <SaveTokenButton onClick={this.submit}>Save</SaveTokenButton>\r\n        </TokenGroupContainer>\r\n        <Description>{this.props.description}</Description>\r\n      </>;\n  }\n\n}","export * from './RedocStandalone';\nexport * from './Redoc/Redoc';\nexport * from './ApiInfo/ApiInfo';\nexport * from './ApiLogo/ApiLogo';\nexport * from './ContentItems/ContentItems';\nexport { ApiContentWrap, BackgroundStub, RedocWrap } from './Redoc/styled.elements';\nexport * from './Schema/';\nexport * from './SearchBox/SearchBox';\nexport * from './Operation/Operation';\nexport * from './Loading/Loading';\nexport * from './JsonViewer';\nexport * from './Markdown/Markdown';\nexport { StyledMarkdownBlock } from './Markdown/styled.elements';\nexport * from './SecuritySchemes/SecuritySchemes';\nexport * from './Responses/Response';\nexport * from './Responses/ResponseDetails';\nexport * from './Responses/ResponseHeaders';\nexport * from './Responses/ResponsesList';\nexport * from './Responses/ResponseTitle';\nexport * from './ResponseSamples/ResponseSamples';\nexport * from './PayloadSamples/PayloadSamples';\nexport * from './PayloadSamples/styled.elements';\nexport * from './MediaTypeSwitch/MediaTypesSwitch';\nexport * from './Parameters/Parameters';\nexport * from './PayloadSamples/Example';\nexport * from './DropdownOrLabel/DropdownOrLabel';\nexport * from './ErrorBoundary';\nexport * from './StoreBuilder';\nexport * from './OptionsProvider';\nexport * from './SideMenu/';\nexport * from './StickySidebar/StickyResponsiveSidebar';\nexport * from './SearchBox/SearchBox';\nexport * from './SchemaDefinition/SchemaDefinition';\nexport * from './SourceCode/SourceCode';\nexport * from './TokenGroup/TokenGroup';","export * from './components';\nexport { MiddlePanel, Row, RightPanel, Section, StyledDropdown, SimpleDropdown, DropdownOption } from './common-elements/';\nexport { OpenAPIEncoding } from './types';\nexport * from './services';\nexport * from './utils';\nexport * from './styled-components';\nexport { default as styled } from './styled-components';"],"sourceRoot":""}